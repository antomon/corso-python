<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>18&nbsp; Programmazione orientata agli oggetti – Da neofita di Python a campione</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./terza-parte-python-moduli.html" rel="next">
<link href="./terza-parte.html" rel="prev">
<link href="./red-python-logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.0/full/pyodide.js"></script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Da neofita di Python a campione</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text">Prefazione</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://4m4.it/"> 
<span class="menu-text">4M4</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/antomon/corso-python" title="Eseguire il codice" class="quarto-navigation-tool px-1" aria-label="Eseguire il codice"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Da-neofita-di-Python-a-campione.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Da-neofita-di-Python-a-campione.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Attiva/disattiva la modalità oscura"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Attiva/disattiva la barra laterale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./terza-parte.html">Terza parte: Python orientato agli oggetti</a></li><li class="breadcrumb-item"><a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Attiva/disattiva la barra laterale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefazione</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./prima-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prima parte: I fondamenti della programmazione</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-linguaggi-programmazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">I linguaggi di programmazione, i programmi e i programmatori</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-paradigmi-programmazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">I paradigmi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-sintassi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">La sintassi dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-semantica.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">La semantica dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-variabili-spazi-nomi-moduli-file.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">La variabile</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-funzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La funzione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-modello-dati.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Il modello dati dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-altri-concetti-semantici.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Altri concetti semantici dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-programmazione-ia-generativa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">L’Impatto dell’intelligenza artificiale generativa sulla programmazione</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./seconda-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seconda parte: Le basi di Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-introduzione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduzione a Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-installazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Scaricare e installare Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-sintassi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">La sintassi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-modello-dati.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Il modello dati</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-istruzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Istruzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-funzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Funzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-esercizi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Esercizi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-esercitazione-uno.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Esercitazione 1: analisi di un dataset di vendite</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./terza-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Terza parte: Python orientato agli oggetti</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-moduli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Moduli</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-esercitazione-uno.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Esercitazione 1: web app con Flask</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Quarta parte: Python avanzato</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Quinta parte: strumenti</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendici</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendice-riferimenti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Riferimenti</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Indice</h2>
   
  <ul>
  <li><a href="#classi-e-istanze" id="toc-classi-e-istanze" class="nav-link active" data-scroll-target="#classi-e-istanze"><span class="header-section-number">18.1</span> Classi e istanze</a>
  <ul class="collapse">
  <li><a href="#listruzione-class" id="toc-listruzione-class" class="nav-link" data-scroll-target="#listruzione-class"><span class="header-section-number">18.1.1</span> L’istruzione <code>class</code></a></li>
  <li><a href="#il-parametro-self" id="toc-il-parametro-self" class="nav-link" data-scroll-target="#il-parametro-self"><span class="header-section-number">18.1.2</span> Il parametro <code>self</code></a></li>
  </ul></li>
  <li><a href="#membri" id="toc-membri" class="nav-link" data-scroll-target="#membri"><span class="header-section-number">18.2</span> Membri</a></li>
  <li><a href="#oggetti" id="toc-oggetti" class="nav-link" data-scroll-target="#oggetti"><span class="header-section-number">18.3</span> Oggetti</a></li>
  <li><a href="#il-corpo-della-classe" id="toc-il-corpo-della-classe" class="nav-link" data-scroll-target="#il-corpo-della-classe"><span class="header-section-number">18.4</span> Il corpo della classe</a>
  <ul class="collapse">
  <li><a href="#attributi-degli-oggetti-classe" id="toc-attributi-degli-oggetti-classe" class="nav-link" data-scroll-target="#attributi-degli-oggetti-classe"><span class="header-section-number">18.4.1</span> Attributi degli oggetti classe</a></li>
  <li><a href="#definizioni-di-funzioni-nel-corpo-di-una-classe" id="toc-definizioni-di-funzioni-nel-corpo-di-una-classe" class="nav-link" data-scroll-target="#definizioni-di-funzioni-nel-corpo-di-una-classe"><span class="header-section-number">18.4.2</span> Definizioni di funzioni nel corpo di una classe</a></li>
  <li><a href="#variabili-private-della-classe" id="toc-variabili-private-della-classe" class="nav-link" data-scroll-target="#variabili-private-della-classe"><span class="header-section-number">18.4.3</span> Variabili private della classe</a></li>
  <li><a href="#stringhe-di-documentazione-della-classe" id="toc-stringhe-di-documentazione-della-classe" class="nav-link" data-scroll-target="#stringhe-di-documentazione-della-classe"><span class="header-section-number">18.4.4</span> Stringhe di documentazione della classe</a></li>
  </ul></li>
  <li><a href="#istanze" id="toc-istanze" class="nav-link" data-scroll-target="#istanze"><span class="header-section-number">18.5</span> Istanze</a>
  <ul class="collapse">
  <li><a href="#init__" id="toc-init__" class="nav-link" data-scroll-target="#init__"><span class="header-section-number">18.5.1</span> <code>__init__</code></a></li>
  <li><a href="#membri-degli-oggetti-istanza" id="toc-membri-degli-oggetti-istanza" class="nav-link" data-scroll-target="#membri-degli-oggetti-istanza"><span class="header-section-number">18.5.2</span> Membri degli oggetti istanza</a></li>
  </ul></li>
  <li><a href="#metodi-vincolati-e-non-vincolati" id="toc-metodi-vincolati-e-non-vincolati" class="nav-link" data-scroll-target="#metodi-vincolati-e-non-vincolati"><span class="header-section-number">18.6</span> Metodi vincolati e non vincolati</a></li>
  <li><a href="#ereditarietà" id="toc-ereditarietà" class="nav-link" data-scroll-target="#ereditarietà"><span class="header-section-number">18.7</span> Ereditarietà</a></li>
  <li><a href="#metodi-speciali" id="toc-metodi-speciali" class="nav-link" data-scroll-target="#metodi-speciali"><span class="header-section-number">18.8</span> Metodi speciali</a></li>
  <li><a href="#metodi-di-classe-e-metodi-statici" id="toc-metodi-di-classe-e-metodi-statici" class="nav-link" data-scroll-target="#metodi-di-classe-e-metodi-statici"><span class="header-section-number">18.9</span> Metodi di classe e metodi statici</a>
  <ul class="collapse">
  <li><a href="#metodi-statici" id="toc-metodi-statici" class="nav-link" data-scroll-target="#metodi-statici"><span class="header-section-number">18.9.1</span> Metodi statici</a></li>
  <li><a href="#metodi-di-classe" id="toc-metodi-di-classe" class="nav-link" data-scroll-target="#metodi-di-classe"><span class="header-section-number">18.9.2</span> Metodi di classe</a></li>
  <li><a href="#differenza-tra-metodi-statici-e-metodi-di-classe" id="toc-differenza-tra-metodi-statici-e-metodi-di-classe" class="nav-link" data-scroll-target="#differenza-tra-metodi-statici-e-metodi-di-classe"><span class="header-section-number">18.9.3</span> Differenza tra metodi statici e metodi di classe</a></li>
  <li><a href="#casi-duso" id="toc-casi-duso" class="nav-link" data-scroll-target="#casi-duso"><span class="header-section-number">18.9.4</span> Casi d’uso</a></li>
  </ul></li>
  <li><a href="#descrittori" id="toc-descrittori" class="nav-link" data-scroll-target="#descrittori"><span class="header-section-number">18.10</span> Descrittori</a>
  <ul class="collapse">
  <li><a href="#accesso" id="toc-accesso" class="nav-link" data-scroll-target="#accesso"><span class="header-section-number">18.10.1</span> Accesso</a></li>
  <li><a href="#usi-comuni" id="toc-usi-comuni" class="nav-link" data-scroll-target="#usi-comuni"><span class="header-section-number">18.10.2</span> Usi comuni</a></li>
  </ul></li>
  <li><a href="#decoratori" id="toc-decoratori" class="nav-link" data-scroll-target="#decoratori"><span class="header-section-number">18.11</span> Decoratori</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/antomon/corso-python/edit/main/terza-parte-python-programmazione-orientata-agli-oggetti.qmd" class="toc-action"><i class="bi bi-github"></i>Modifica questa pagina</a></li><li><a href="https://github.com/antomon/corso-python/blob/main/terza-parte-python-programmazione-orientata-agli-oggetti.qmd" class="toc-action"><i class="bi empty"></i>Mostra il codice</a></li><li><a href="https://github.com/antomon/corso-python/issues/new/choose" class="toc-action"><i class="bi empty"></i>Segnala un problema</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./terza-parte.html">Terza parte: Python orientato agli oggetti</a></li><li class="breadcrumb-item"><a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Python è un linguaggio di programmazione orientato agli oggetti. A differenza di altri linguaggi orientati agli oggetti, tuttavia, Python non costringe ad utilizzare esclusivamente il paradigma orientato agli oggetti: supporta anche la programmazione procedurale, con moduli e funzioni, consentendo di scegliere il miglior paradigma per ogni parte del programma.</p>
<p>Il paradigma orientato agli oggetti aiuta a raggruppare stato (dati) e comportamento (codice) in comode unità di funzionalità. Inoltre, offre alcuni meccanismi specializzati utili, come l’ereditarietà e i metodi speciali. L’approccio procedurale più semplice, basato su moduli e funzioni, può essere più adatto quando non è necessario sfruttare i vantaggi della programmazione orientata agli oggetti. Con Python, possiamo combinare e mescolare paradigmi.</p>
<section id="classi-e-istanze" class="level2" data-number="18.1">
<h2 data-number="18.1" class="anchored" data-anchor-id="classi-e-istanze"><span class="header-section-number">18.1</span> Classi e istanze</h2>
<p>Una classe è un tipo definibile dall’utente, che possiamo istanziare per costruire istanze, ovvero oggetti di quel tipo. Python supporta questo attraverso le sue classi e oggetti istanza.</p>
<section id="listruzione-class" class="level3" data-number="18.1.1">
<h3 data-number="18.1.1" class="anchored" data-anchor-id="listruzione-class"><span class="header-section-number">18.1.1</span> L’istruzione <code>class</code></h3>
<p>L’istruzione <code>class</code> è il modo più usuale per definire un oggetto classe. <code>class</code> è un’istruzione composta a singola clausola con la seguente sintassi:</p>
<div class="sourceCode" id="annotated-cell-1"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-1" class="code-annotation-target"><a href="#annotated-cell-1-1"></a><span class="kw">class</span> NomeClasse(classi<span class="op">-</span>base, <span class="op">*</span>, <span class="op">**</span>kw):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-2" class="code-annotation-target"><a href="#annotated-cell-1-2"></a>  istruzione(i)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="1" data-code-annotation="1">Testata della definizione di classe: <code>NomeClasse</code> è un identificatore, cioè una variabile che la definizione <code>class</code>, quando completata, associa (o riassocia) all’oggetto classe appena creato. Le convenzioni di denominazione Python consigliano di utilizzare la convenzione del cammello per i nomi delle classi, come <code>Elemento</code>, <code>UtentePrivilegiato</code>, <code>StrutturaMultiUso</code>, ecc. <code>classi-base</code> è una serie di espressioni delimitate da virgole i cui valori sono oggetti classe. Vari linguaggi di programmazione utilizzano nomi diversi per questi oggetti classe: possiamo chiamarli basi, superclasse o genitori della classe. Possiamo dire che la classe creata eredita da, deriva da, estende o sottoclasse le sue classi base; in questo capitolo, generalmente usiamo il termine estendere. Questa classe è una sottoclasse diretta o discendente delle sue classi base. <code>**kw</code> può includere un argomento denominato <code>metaclass</code> per stabilire la metaclasse della classe.</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="2">Corpo della definizione della classe composto di istruzioni di definizione di membri della classe. Queste possono includere la definizione di attributi, metodi e altre classi.</span>
</dd>
</dl>
<p>La definizione di una classe crea un oggetto classe, proprio come la definizione di una funzione crea un oggetto funzione. L’oggetto classe ha tipo <code>type</code>, da non confondere con la funzione predefinita <code>type()</code>. Quando si chiama una classe come se fosse una funzione, avviene l’istanziazione, che crea un nuovo oggetto istanza della classe con un tipo corrispondente alla classe stessa.</p>
<p>Esempio di definizione di una classe:</p>
<div class="sourceCode" id="annotated-cell-2"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-2-1" class="code-annotation-target"><a href="#annotated-cell-2-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-2-2" class="code-annotation-target"><a href="#annotated-cell-2-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-2-3" class="code-annotation-target"><a href="#annotated-cell-2-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-2-4"><a href="#annotated-cell-2-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-2-5" class="code-annotation-target"><a href="#annotated-cell-2-5"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-2-6"><a href="#annotated-cell-2-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-2-7" class="code-annotation-target"><a href="#annotated-cell-2-7"></a><span class="bu">print</span>(<span class="bu">type</span>(MiaClasse))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-2-8" class="code-annotation-target"><a href="#annotated-cell-2-8"></a><span class="bu">print</span>(<span class="bu">type</span>(istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="7" data-code-annotation="5">Stampa il tipo di <code>MiaClasse</code>, che sarà <code>&lt;class 'type'&gt;</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="8" data-code-annotation="6">Stampa il tipo di <code>istanza</code>, che sarà <code>&lt;class '__main__.MiaClasse'&gt;</code>.</span>
</dd>
</dl>
</section>
<section id="il-parametro-self" class="level3" data-number="18.1.2">
<h3 data-number="18.1.2" class="anchored" data-anchor-id="il-parametro-self"><span class="header-section-number">18.1.2</span> Il parametro <code>self</code></h3>
<p>In Python, i metodi di istanza delle classi possono includere un parametro speciale <code>self</code> come primo parametro. Quando presente, <code>self</code> permette di passare al metodo l’istanza della classe, consentendo l’accesso agli attributi e ai metodi dell’istanza. La differenza fondamentale tra membri della classe e membri delle istanze è che i membri della classe sono condivisi tra tutte le istanze, mentre i membri delle istanze sono specifici per ciascuna istanza.</p>
<p>Esempio di membri della classe e membri delle istanze:</p>
<div class="sourceCode" id="annotated-cell-3"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-3-1" class="code-annotation-target"><a href="#annotated-cell-3-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-3-2" class="code-annotation-target"><a href="#annotated-cell-3-2"></a>  attributo_classe <span class="op">=</span> <span class="st">"Valore di classe"</span></span>
<span id="annotated-cell-3-3"><a href="#annotated-cell-3-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-3-4" class="code-annotation-target"><a href="#annotated-cell-3-4"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-3-5" class="code-annotation-target"><a href="#annotated-cell-3-5"></a>    <span class="va">self</span>.attributo_istanza <span class="op">=</span> valore</span>
<span id="annotated-cell-3-6"><a href="#annotated-cell-3-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-3-7" class="code-annotation-target"><a href="#annotated-cell-3-7"></a>  <span class="kw">def</span> mostra_attributi(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-3-8" class="code-annotation-target"><a href="#annotated-cell-3-8"></a>    <span class="cf">return</span> <span class="ss">f"Classe: </span><span class="sc">{</span>MiaClasse<span class="sc">.</span>attributo_classe<span class="sc">}</span><span class="ss">, Istanza: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>attributo_istanza<span class="sc">}</span><span class="ss">"</span></span>
<span id="annotated-cell-3-9"><a href="#annotated-cell-3-9"></a></span>
<span id="annotated-cell-3-10"><a href="#annotated-cell-3-10"></a><span class="co"># Creazione di due istanze della classe</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-3-11" class="code-annotation-target"><a href="#annotated-cell-3-11"></a>istanza1 <span class="op">=</span> MiaClasse(<span class="st">"Valore 1"</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-3-12" class="code-annotation-target"><a href="#annotated-cell-3-12"></a>istanza2 <span class="op">=</span> MiaClasse(<span class="st">"Valore 2"</span>)</span>
<span id="annotated-cell-3-13"><a href="#annotated-cell-3-13"></a></span>
<span id="annotated-cell-3-14"><a href="#annotated-cell-3-14"></a><span class="co"># Accesso agli attributi della classe e delle istanze</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-3-15" class="code-annotation-target"><a href="#annotated-cell-3-15"></a><span class="bu">print</span>(MiaClasse.attributo_classe)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-3-16" class="code-annotation-target"><a href="#annotated-cell-3-16"></a><span class="bu">print</span>(istanza1.attributo_classe)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-3-17" class="code-annotation-target"><a href="#annotated-cell-3-17"></a><span class="bu">print</span>(istanza1.attributo_istanza)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-3-18" class="code-annotation-target"><a href="#annotated-cell-3-18"></a><span class="bu">print</span>(istanza2.attributo_istanza)</span>
<span id="annotated-cell-3-19"><a href="#annotated-cell-3-19"></a></span>
<span id="annotated-cell-3-20"><a href="#annotated-cell-3-20"></a><span class="co"># Chiamata ai metodi delle istanze</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-3-21" class="code-annotation-target"><a href="#annotated-cell-3-21"></a><span class="bu">print</span>(istanza1.mostra_attributi())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-3-22" class="code-annotation-target"><a href="#annotated-cell-3-22"></a><span class="bu">print</span>(istanza2.mostra_attributi())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="2" data-code-annotation="2">Definisce un attributo di classe <code>attributo_classe</code> con valore <code>Valore di classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="4" data-code-annotation="3">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="5" data-code-annotation="4">Associa un valore all’attributo <code>attributo_istanza</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="7" data-code-annotation="5">Definisce un metodo <code>mostra_attributi</code> per mostrare gli attributi.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="8" data-code-annotation="6">Il metodo <code>mostra_attributi</code> restituisce una stringa con gli attributi di classe e di istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="11" data-code-annotation="7">Crea un’istanza della classe <code>MiaClasse</code> con valore <code>Valore 1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="12" data-code-annotation="8">Crea un’istanza della classe <code>MiaClasse</code> con valore <code>Valore 2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="15" data-code-annotation="9">Stampa il valore dell’attributo di classe <code>attributo_classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="16" data-code-annotation="10">Stampa il valore dell’attributo di classe <code>attributo_classe</code> dall’istanza <code>istanza1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="17" data-code-annotation="11">Stampa il valore dell’attributo di istanza <code>attributo_istanza</code> per <code>istanza1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="18" data-code-annotation="12">Stampa il valore dell’attributo di istanza <code>attributo_istanza</code> per <code>istanza2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="21" data-code-annotation="13">Chiama il metodo <code>mostra_attributi</code> sull’istanza <code>istanza1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="22" data-code-annotation="14">Chiama il metodo <code>mostra_attributi</code> sull’istanza <code>istanza2</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="membri" class="level2" data-number="18.2">
<h2 data-number="18.2" class="anchored" data-anchor-id="membri"><span class="header-section-number">18.2</span> Membri</h2>
<p>Un riferimento a un membro è un’espressione della forma <code>x.nome</code>, dove <code>x</code> è qualsiasi espressione e <code>nome</code> è un identificatore chiamato nome del membro. Molti oggetti Python hanno membri, ma un riferimento a un membro ha una semantica speciale e ricca quando <code>x</code> si riferisce a una classe o a un’istanza. I metodi sono membri, quindi tutto ciò che diciamo sui membri in generale si applica anche a quelli chiamabili (cioè, metodi).</p>
<p>Quando utilizziamo la sintassi <code>x.nome</code> per riferirci a un membro di un’istanza <code>x</code> di una classe <code>C</code>, la ricerca dell’attributo procede in tre passi:</p>
<ol type="1">
<li><p>Membro nell’istanza: Se <code>'nome'</code> è una chiave in <code>x.__dict__</code>, <code>x.nome</code> restituisce il valore associato a quella chiave. Questo è il caso più semplice e veloce.</p></li>
<li><p>Membro nella classe o nelle sue basi: Se <code>'nome'</code> non è una chiave in <code>x.__dict__</code>, la ricerca del membro procede nella classe di <code>x</code> (<code>x.__class__</code>) e nelle sue basi, seguendo l’ordine di risoluzione dei metodi (<em>method resolution order</em>, MRO).</p></li>
<li><p>Metodo <code>__getattr__</code>: Se l’attributo non è trovato né nell’istanza né nella classe e nelle sue basi, viene chiamato il metodo speciale <code>__getattr__</code>, se definito. Questo metodo può fornire un valore di ritorno per l’attributo o sollevare un’eccezione <code>AttributeError</code>.</p></li>
</ol>
<p>Esempio di riferimento ai membri:</p>
<div class="sourceCode" id="annotated-cell-4"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-1" class="code-annotation-target"><a href="#annotated-cell-4-1"></a><span class="kw">class</span> Base:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-4-2" class="code-annotation-target"><a href="#annotated-cell-4-2"></a>  a <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-4-3"><a href="#annotated-cell-4-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-4-4" class="code-annotation-target"><a href="#annotated-cell-4-4"></a><span class="kw">class</span> Derivata(Base):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-4-5" class="code-annotation-target"><a href="#annotated-cell-4-5"></a>  b <span class="op">=</span> <span class="dv">45</span></span>
<span id="annotated-cell-4-6"><a href="#annotated-cell-4-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-4-7" class="code-annotation-target"><a href="#annotated-cell-4-7"></a>d <span class="op">=</span> Derivata()</span>
<span id="annotated-cell-4-8"><a href="#annotated-cell-4-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-4-9" class="code-annotation-target"><a href="#annotated-cell-4-9"></a>d.c <span class="op">=</span> <span class="dv">67</span></span>
<span id="annotated-cell-4-10"><a href="#annotated-cell-4-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-4-11" class="code-annotation-target"><a href="#annotated-cell-4-11"></a><span class="bu">print</span>(d.a)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-4-12" class="code-annotation-target"><a href="#annotated-cell-4-12"></a><span class="bu">print</span>(d.b)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-4-13" class="code-annotation-target"><a href="#annotated-cell-4-13"></a><span class="bu">print</span>(d.c)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="2" data-code-annotation="2">L’attributo <code>a</code> della classe <code>Base</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="4" data-code-annotation="3">Definizione della classe <code>Derivata</code> che eredita da <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="5" data-code-annotation="4">L’attributo <code>b</code> della classe <code>Derivata</code> è associato al valore <code>45</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="7" data-code-annotation="5">Creazione di un’istanza della classe <code>Derivata</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="9" data-code-annotation="6">Associazione dell’attributo <code>c</code> dell’istanza <code>d</code> al valore <code>67</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="11" data-code-annotation="7">Stampa del valore dell’attributo <code>a</code> dell’istanza <code>d</code>, trovato nella classe base. Output: <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="12" data-code-annotation="8">Stampa del valore dell’attributo <code>b</code> dell’istanza <code>d</code>, trovato nella classe derivata. Output: <code>45</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="13" data-code-annotation="9">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>d</code>, trovato nell’istanza stessa. Output: <code>67</code>.</span>
</dd>
</dl>
<p>In Python, un attributo o un metodo può essere membro di una classe o di un’istanza. La differenza fondamentale tra membri di classe e membri di istanza è che i membri di classe sono condivisi tra tutte le istanze, mentre i membri di istanza sono specifici per ciascuna istanza.</p>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-5"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-5-1" class="code-annotation-target"><a href="#annotated-cell-5-1"></a><span class="kw">class</span> Contatore:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-5-2" class="code-annotation-target"><a href="#annotated-cell-5-2"></a>  contatore_comune <span class="op">=</span> <span class="dv">0</span></span>
<span id="annotated-cell-5-3"><a href="#annotated-cell-5-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-5-4" class="code-annotation-target"><a href="#annotated-cell-5-4"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore_iniziale<span class="op">=</span><span class="dv">0</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-5-5" class="code-annotation-target"><a href="#annotated-cell-5-5"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore_iniziale</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-5-6" class="code-annotation-target"><a href="#annotated-cell-5-6"></a>    Contatore.contatore_comune <span class="op">+=</span> <span class="dv">1</span></span>
<span id="annotated-cell-5-7"><a href="#annotated-cell-5-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-5-8" class="code-annotation-target"><a href="#annotated-cell-5-8"></a>  <span class="kw">def</span> incrementa(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-5-9" class="code-annotation-target"><a href="#annotated-cell-5-9"></a>    <span class="va">self</span>.valore <span class="op">+=</span> <span class="dv">1</span></span>
<span id="annotated-cell-5-10"><a href="#annotated-cell-5-10"></a></span>
<span id="annotated-cell-5-11"><a href="#annotated-cell-5-11"></a><span class="co"># Membri di classe</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-5-12" class="code-annotation-target"><a href="#annotated-cell-5-12"></a><span class="bu">print</span>(Contatore.contatore_comune)</span>
<span id="annotated-cell-5-13"><a href="#annotated-cell-5-13"></a></span>
<span id="annotated-cell-5-14"><a href="#annotated-cell-5-14"></a><span class="co"># Creazione di due istanze</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-5-15" class="code-annotation-target"><a href="#annotated-cell-5-15"></a>c1 <span class="op">=</span> Contatore()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-5-16" class="code-annotation-target"><a href="#annotated-cell-5-16"></a>c2 <span class="op">=</span> Contatore(<span class="dv">10</span>)</span>
<span id="annotated-cell-5-17"><a href="#annotated-cell-5-17"></a></span>
<span id="annotated-cell-5-18"><a href="#annotated-cell-5-18"></a><span class="co"># Membri di istanza</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-5-19" class="code-annotation-target"><a href="#annotated-cell-5-19"></a>c1.incrementa()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-5-20" class="code-annotation-target"><a href="#annotated-cell-5-20"></a>c2.incrementa()</span>
<span id="annotated-cell-5-21"><a href="#annotated-cell-5-21"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-5-22" class="code-annotation-target"><a href="#annotated-cell-5-22"></a><span class="bu">print</span>(c1.valore)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-5-23" class="code-annotation-target"><a href="#annotated-cell-5-23"></a><span class="bu">print</span>(c2.valore)</span>
<span id="annotated-cell-5-24"><a href="#annotated-cell-5-24"></a></span>
<span id="annotated-cell-5-25"><a href="#annotated-cell-5-25"></a><span class="co"># Membro di classe aggiornato</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="15" onclick="event.preventDefault();">15</a><span id="annotated-cell-5-26" class="code-annotation-target"><a href="#annotated-cell-5-26"></a><span class="bu">print</span>(Contatore.contatore_comune)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>Contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="2" data-code-annotation="2">Definisce un attributo di classe <code>contatore_comune</code> inizializzato a 0.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="4" data-code-annotation="3">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="5" data-code-annotation="4">Associa un valore iniziale all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="6" data-code-annotation="5">Incrementa l’attributo di classe <code>contatore_comune</code> ogni volta che viene creata una nuova istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="8" data-code-annotation="6">Definisce un metodo <code>incrementa</code> per incrementare l’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="9" data-code-annotation="7">Incrementa l’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="12" data-code-annotation="8">Stampa il valore dell’attributo di classe <code>contatore_comune</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="15" data-code-annotation="9">Creazione di un’istanza della classe <code>Contatore</code> con valore iniziale di default.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="16" data-code-annotation="10">Creazione di un’istanza della classe <code>Contatore</code> con valore iniziale 10.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="19" data-code-annotation="11">Incrementa il valore dell’attributo <code>valore</code> dell’istanza <code>c1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="20" data-code-annotation="12">Incrementa il valore dell’attributo <code>valore</code> dell’istanza <code>c2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="22" data-code-annotation="13">Stampa il valore dell’attributo <code>valore</code> dell’istanza <code>c1</code>. Output: <code>1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="23" data-code-annotation="14">Stampa il valore dell’attributo <code>valore</code> dell’istanza <code>c2</code>. Output: <code>11</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="15">15</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="26" data-code-annotation="15">Stampa il valore dell’attributo di classe <code>contatore_comune</code>. Output: <code>2</code>.</span>
</dd>
</dl>
<p>Questo esempio illustra come i membri di classe siano condivisi tra tutte le istanze, mentre i membri di istanza siano specifici per ciascuna istanza.</p>
</section>
<section id="oggetti" class="level2" data-number="18.3">
<h2 data-number="18.3" class="anchored" data-anchor-id="oggetti"><span class="header-section-number">18.3</span> Oggetti</h2>
<p>Una classe è un oggetto Python con le seguenti caratteristiche:</p>
<ul>
<li><p>La definizione di una classe crea un oggetto classe, proprio come la definizione di una funzione crea un oggetto funzione. L’oggetto classe ha tipo <code>type</code>, da non confondere con la funzione predefinita <code>type()</code>. Quando si chiama una classe come se fosse una funzione, avviene l’istanziazione, che crea un nuovo oggetto istanza della classe con un tipo corrispondente alla classe stessa.</p>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-35"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-35-1" class="code-annotation-target"><a href="#annotated-cell-35-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-35-2" class="code-annotation-target"><a href="#annotated-cell-35-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-35-3" class="code-annotation-target"><a href="#annotated-cell-35-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-35-4"><a href="#annotated-cell-35-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-35-5" class="code-annotation-target"><a href="#annotated-cell-35-5"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-35-6"><a href="#annotated-cell-35-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-35-7" class="code-annotation-target"><a href="#annotated-cell-35-7"></a><span class="bu">print</span>(<span class="bu">type</span>(MiaClasse))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-35-8" class="code-annotation-target"><a href="#annotated-cell-35-8"></a><span class="bu">print</span>(<span class="bu">type</span>(istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-35" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-35" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-35" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-35" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-35" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="7" data-code-annotation="5">Stampa il tipo di <code>MiaClasse</code>, che sarà <code>&lt;class 'type'&gt;</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-35" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="8" data-code-annotation="6">Stampa il tipo di <code>istanza</code>, che sarà <code>&lt;class '__main__.MiaClasse'&gt;</code>.</span>
</dd>
</dl></li>
<li><p>Una classe ha membri con nomi arbitrari che possiamo associare e referenziare:</p>
<div class="sourceCode" id="annotated-cell-36"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-36-1" class="code-annotation-target"><a href="#annotated-cell-36-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-36-2" class="code-annotation-target"><a href="#annotated-cell-36-2"></a>  primo_attributo <span class="op">=</span> <span class="st">"esempio"</span></span>
<span id="annotated-cell-36-3"><a href="#annotated-cell-36-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-36-4" class="code-annotation-target"><a href="#annotated-cell-36-4"></a><span class="bu">print</span>(MiaClasse.primo_attributo)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-36" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="2" data-code-annotation="2">Associa un attributo di classe <code>primo_attributo</code> con valore <code>esempio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="4" data-code-annotation="3">Stampa il valore dell’attributo di classe <code>primo_attributo</code>.</span>
</dd>
</dl></li>
<li><p>I membri della classe possono essere metodi (funzioni) o dati ordinari (variabili):</p>
<div class="sourceCode" id="annotated-cell-37"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-37-1" class="code-annotation-target"><a href="#annotated-cell-37-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-37-2" class="code-annotation-target"><a href="#annotated-cell-37-2"></a>  primo_attributo <span class="op">=</span> <span class="st">"esempio"</span></span>
<span id="annotated-cell-37-3"><a href="#annotated-cell-37-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-37-4" class="code-annotation-target"><a href="#annotated-cell-37-4"></a>  <span class="kw">def</span> primo_metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-37-5" class="code-annotation-target"><a href="#annotated-cell-37-5"></a>    <span class="cf">return</span> <span class="st">"Ciao, mondo!"</span></span>
<span id="annotated-cell-37-6"><a href="#annotated-cell-37-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-37-7" class="code-annotation-target"><a href="#annotated-cell-37-7"></a><span class="bu">print</span>(MiaClasse.primo_attributo)</span>
<span id="annotated-cell-37-8"><a href="#annotated-cell-37-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-37-9" class="code-annotation-target"><a href="#annotated-cell-37-9"></a>mia_istanza <span class="op">=</span> MiaClasse()</span>
<span id="annotated-cell-37-10"><a href="#annotated-cell-37-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-37-11" class="code-annotation-target"><a href="#annotated-cell-37-11"></a><span class="bu">print</span>(mia_istanza.primo_metodo())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-37-12" class="code-annotation-target"><a href="#annotated-cell-37-12"></a><span class="bu">print</span>(MiaClasse.primo_metodo(mia_istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-37" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="2" data-code-annotation="2">Definisce un attributo di classe <code>primo_attributo</code> con valore <code>esempio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="4" data-code-annotation="3">Definisce un metodo <code>primo_metodo</code> con un parametro <code>self</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="5" data-code-annotation="4">Il metodo <code>primo_metodo</code> restituisce una stringa <code>Ciao, mondo!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="7" data-code-annotation="5">Stampa il valore dell’attributo di classe <code>primo_attributo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="9" data-code-annotation="6">Crea un’istanza della classe <code>MiaClasse</code> e la associa a <code>mia_istanza</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="11" data-code-annotation="7">Chiama il metodo <code>primo_metodo</code> sull’istanza <code>mia_istanza</code>. Python passa automaticamente <code>mia_istanza</code> come argomento per <code>self</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-37" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="12" data-code-annotation="8">Chiama il metodo <code>primo_metodo</code> direttamente sulla classe <code>MiaClasse</code>, passando esplicitamente <code>mia_istanza</code> come argomento per <code>self</code>.</span>
</dd>
</dl></li>
<li><p>Gli attributi della classe associati a funzioni sono noti anche come metodi della classe:</p>
<div class="sourceCode" id="annotated-cell-38"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-38-1" class="code-annotation-target"><a href="#annotated-cell-38-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-38-2" class="code-annotation-target"><a href="#annotated-cell-38-2"></a>  <span class="kw">def</span> primo_metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-38-3" class="code-annotation-target"><a href="#annotated-cell-38-3"></a>    <span class="cf">return</span> <span class="st">"Questo è un metodo"</span></span>
<span id="annotated-cell-38-4"><a href="#annotated-cell-38-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-38-5" class="code-annotation-target"><a href="#annotated-cell-38-5"></a>istanza <span class="op">=</span> MiaClasse()</span>
<span id="annotated-cell-38-6"><a href="#annotated-cell-38-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-38-7" class="code-annotation-target"><a href="#annotated-cell-38-7"></a><span class="bu">print</span>(istanza.primo_metodo())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-38" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="2" data-code-annotation="2">Definisce un metodo <code>primo_metodo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="3" data-code-annotation="3">Il metodo <code>primo_metodo</code> restituisce una stringa <code>Questo è un metodo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="7" data-code-annotation="5">Chiama il metodo <code>primo_metodo</code> sull’istanza e stampa il risultato.</span>
</dd>
</dl></li>
<li><p>Un metodo può avere uno dei tanti nomi definiti da Python con due trattini bassi all’inizio e alla fine (noti come nomi dunder, abbreviazione di “double-underscore names” - ad esempio, il nome <code>__init__</code> è pronunciato “dunder init”). Python chiama implicitamente questi metodi speciali, quando una classe li fornisce, quando si verificano vari tipi di operazioni su quella classe o sulle sue istanze.</p>
<div class="sourceCode" id="annotated-cell-39"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-39-1" class="code-annotation-target"><a href="#annotated-cell-39-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-39-2" class="code-annotation-target"><a href="#annotated-cell-39-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-39-3" class="code-annotation-target"><a href="#annotated-cell-39-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-39-4"><a href="#annotated-cell-39-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-39-5" class="code-annotation-target"><a href="#annotated-cell-39-5"></a>  <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-39-6" class="code-annotation-target"><a href="#annotated-cell-39-6"></a>    <span class="cf">return</span> <span class="ss">f"MiaClasse con valore </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>valore<span class="sc">}</span><span class="ss">"</span></span>
<span id="annotated-cell-39-7"><a href="#annotated-cell-39-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-39-8" class="code-annotation-target"><a href="#annotated-cell-39-8"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-39-9"><a href="#annotated-cell-39-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-39-10" class="code-annotation-target"><a href="#annotated-cell-39-10"></a><span class="bu">print</span>(istanza)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-39" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="5" data-code-annotation="4">Definisce il metodo speciale <code>__str__</code> per la rappresentazione stringa.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="6" data-code-annotation="5"><code>__str__</code> restituisce una stringa rappresentativa dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="8" data-code-annotation="6">Crea un’istanza della classe <code>MiaClasse</code> con valore <code>10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="10" data-code-annotation="7">Stampa la rappresentazione stringa dell’istanza, chiamando implicitamente <code>__str__</code>.</span>
</dd>
</dl></li>
<li><p>Una classe può ereditare da una o più classi, il che significa che delega ad altri oggetti classe la ricerca di alcuni attributi (inclusi metodi regolari e dunder) che non sono nella classe stessa.</p>
<div class="sourceCode" id="annotated-cell-40"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-40-1" class="code-annotation-target"><a href="#annotated-cell-40-1"></a><span class="kw">class</span> ClasseBase:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-40-2" class="code-annotation-target"><a href="#annotated-cell-40-2"></a>  <span class="kw">def</span> metodo_base(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-40-3" class="code-annotation-target"><a href="#annotated-cell-40-3"></a>    <span class="cf">return</span> <span class="st">"Metodo base"</span></span>
<span id="annotated-cell-40-4"><a href="#annotated-cell-40-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-40-5" class="code-annotation-target"><a href="#annotated-cell-40-5"></a><span class="kw">class</span> ClasseDerivata(ClasseBase):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-40-6" class="code-annotation-target"><a href="#annotated-cell-40-6"></a>  <span class="kw">def</span> metodo_derivato(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-40-7" class="code-annotation-target"><a href="#annotated-cell-40-7"></a>    <span class="cf">return</span> <span class="st">"Metodo derivato"</span></span>
<span id="annotated-cell-40-8"><a href="#annotated-cell-40-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-40-9" class="code-annotation-target"><a href="#annotated-cell-40-9"></a>istanza <span class="op">=</span> ClasseDerivata()</span>
<span id="annotated-cell-40-10"><a href="#annotated-cell-40-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-40-11" class="code-annotation-target"><a href="#annotated-cell-40-11"></a><span class="bu">print</span>(istanza.metodo_base())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-40-12" class="code-annotation-target"><a href="#annotated-cell-40-12"></a><span class="bu">print</span>(istanza.metodo_derivato())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-40" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>ClasseBase</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="2" data-code-annotation="2">Definisce un metodo <code>metodo_base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="3" data-code-annotation="3"><code>metodo_base</code> restituisce una stringa “Metodo base”.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="5" data-code-annotation="4">Definisce una classe <code>ClasseDerivata</code> che eredita da <code>ClasseBase</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="6" data-code-annotation="5">Definisce un metodo <code>metodo_derivato</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="7" data-code-annotation="6"><code>metodo_derivato</code> restituisce una stringa “Metodo derivato”.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="9" data-code-annotation="7">Crea un’istanza della classe <code>ClasseDerivata</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="11" data-code-annotation="8">Chiama il metodo <code>metodo_base</code> ereditato dall’istanza e stampa il risultato.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="12" data-code-annotation="9">Chiama il metodo <code>metodo_derivato</code> dell’istanza e stampa il risultato.</span>
</dd>
</dl></li>
</ul>
<p>Un’istanza di una classe è un oggetto Python con attributi con nomi arbitrari che possiamo associare e referenziare. Ogni oggetto istanza delega la ricerca degli attributi alla sua classe per qualsiasi attributo non trovato nell’istanza stessa. La classe, a sua volta, può delegare la ricerca alle classi da cui eredita, se presenti.</p>
<div class="sourceCode" id="annotated-cell-6"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-6-1" class="code-annotation-target"><a href="#annotated-cell-6-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-6-2" class="code-annotation-target"><a href="#annotated-cell-6-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-6-3" class="code-annotation-target"><a href="#annotated-cell-6-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-6-4"><a href="#annotated-cell-6-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-6-5" class="code-annotation-target"><a href="#annotated-cell-6-5"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-6-6"><a href="#annotated-cell-6-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-6-7" class="code-annotation-target"><a href="#annotated-cell-6-7"></a><span class="bu">print</span>(istanza.valore)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="7" data-code-annotation="5">Stampa il valore dell’attributo <code>valore</code> dell’istanza.</span>
</dd>
</dl>
<p>In Python, le classi sono oggetti (valori), gestiti proprio come altri oggetti. Possiamo passare una classe come argomento in una chiamata a una funzione e una funzione può restituire una classe come risultato di una chiamata. Possiamo associare una classe a una variabile, a un elemento in un contenitore o a un attributo di un oggetto. Le classi possono anche essere chiavi in un dizionario. Poiché le classi sono oggetti perfettamente ordinari in Python, spesso diciamo che le classi sono oggetti di prima classe.</p>
<div class="sourceCode" id="annotated-cell-7"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-7-1" class="code-annotation-target"><a href="#annotated-cell-7-1"></a><span class="kw">def</span> crea_classe():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-7-2" class="code-annotation-target"><a href="#annotated-cell-7-2"></a>  <span class="kw">class</span> NuovaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-7-3" class="code-annotation-target"><a href="#annotated-cell-7-3"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-7-4"><a href="#annotated-cell-7-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-7-5" class="code-annotation-target"><a href="#annotated-cell-7-5"></a>  <span class="cf">return</span> NuovaClasse</span>
<span id="annotated-cell-7-6"><a href="#annotated-cell-7-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-7-7" class="code-annotation-target"><a href="#annotated-cell-7-7"></a>MiaClasse <span class="op">=</span> crea_classe()</span>
<span id="annotated-cell-7-8"><a href="#annotated-cell-7-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-7-9" class="code-annotation-target"><a href="#annotated-cell-7-9"></a>istanza <span class="op">=</span> MiaClasse()</span>
<span id="annotated-cell-7-10"><a href="#annotated-cell-7-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-7-11" class="code-annotation-target"><a href="#annotated-cell-7-11"></a><span class="bu">print</span>(<span class="bu">type</span>(istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="1" data-code-annotation="1">Definisce una funzione <code>crea_classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="2" data-code-annotation="2">Definisce una classe <code>NuovaClasse</code> all’interno della funzione.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="3" data-code-annotation="3"><code>pass</code> indica che il corpo della classe è vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="5" data-code-annotation="4">Restituisce la classe <code>NuovaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="7" data-code-annotation="5">Chiama la funzione <code>crea_classe</code> e associa la classe risultante a <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="9" data-code-annotation="6">Crea un’istanza della classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="11" data-code-annotation="7">Stampa il tipo dell’istanza, che sarà <code>&lt;class '__main__.crea_classe.&lt;locals&gt;.NuovaClasse'&gt;</code>.</span>
</dd>
</dl>
</section>
<section id="il-corpo-della-classe" class="level2" data-number="18.4">
<h2 data-number="18.4" class="anchored" data-anchor-id="il-corpo-della-classe"><span class="header-section-number">18.4</span> Il corpo della classe</h2>
<p>Il corpo di una classe è dove normalmente specifichiamo i membri della classe; questi membri possono essere funzioni o oggetti dati ordinari di qualsiasi tipo. Un membro di una classe può essere un’altra classe, quindi, ad esempio, possiamo avere una dichiarazione di classe <em>annidata</em> all’interno di un’altra definizione di classe.</p>
<section id="attributi-degli-oggetti-classe" class="level3" data-number="18.4.1">
<h3 data-number="18.4.1" class="anchored" data-anchor-id="attributi-degli-oggetti-classe"><span class="header-section-number">18.4.1</span> Attributi degli oggetti classe</h3>
<p>Di solito specifichiamo un membro di un oggetto classe associando un valore a un identificatore all’interno del corpo della classe. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-8"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-8-1" class="code-annotation-target"><a href="#annotated-cell-8-1"></a><span class="kw">class</span> C1:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-8-2" class="code-annotation-target"><a href="#annotated-cell-8-2"></a>  x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-8-3"><a href="#annotated-cell-8-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-8-4" class="code-annotation-target"><a href="#annotated-cell-8-4"></a><span class="bu">print</span>(C1.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="2" data-code-annotation="2">L’attributo <code>x</code> della classe <code>C1</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="4" data-code-annotation="3">Stampa del valore dell’attributo x della classe <code>C1</code>.</span>
</dd>
</dl>
<p>Possiamo anche associare o disassociare membri della classe al di fuori del corpo della classe. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-9"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-9-1" class="code-annotation-target"><a href="#annotated-cell-9-1"></a><span class="kw">class</span> C2:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-9-2" class="code-annotation-target"><a href="#annotated-cell-9-2"></a>  <span class="cf">pass</span></span>
<span id="annotated-cell-9-3"><a href="#annotated-cell-9-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-9-4" class="code-annotation-target"><a href="#annotated-cell-9-4"></a>C2.x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-9-5"><a href="#annotated-cell-9-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-9-6" class="code-annotation-target"><a href="#annotated-cell-9-6"></a><span class="bu">print</span>(C2.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="2" data-code-annotation="2">Corpo della classe vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="4" data-code-annotation="3">Associazione dell’attributo x della classe <code>C2</code> al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="6" data-code-annotation="4">Stampa del valore dell’attributo <code>x</code> della classe <code>C2</code>.</span>
</dd>
</dl>
<p>Il nostro programma è solitamente più leggibile se associamo attributi della classe solo con istruzioni all’interno del corpo della classe. Tuttavia, riassociarli altrove può essere necessario se vogliamo mantenere informazioni di stato a livello di classe, piuttosto che a livello di istanza; Python ci permette di farlo, se lo desideriamo. Non c’è differenza tra un attributo di classe associato nel corpo della classe e uno associato o riassociato al di fuori del corpo associando un attributo. Come discuteremo a breve, tutte le istanze della classe condividono tutti gli attributi della classe.</p>
<p>L’istruzione della classe implicitamente imposta alcuni attributi della classe. L’attributo <code>__name__</code> è la stringa dell’identificatore NomeClasse utilizzato nella dichiarazione della classe. L’attributo <code>__bases__</code> è la tupla di oggetti classe forniti (o impliciti) come classi base nella dichiarazione della classe. Per esempio, utilizzando la classe C1 appena creata:</p>
<div class="sourceCode" id="annotated-cell-10"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-10-1" class="code-annotation-target"><a href="#annotated-cell-10-1"></a><span class="bu">print</span>(C1.<span class="va">__name__</span>, C1.__bases__)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="1" data-code-annotation="1">Stampa del nome della classe e delle classi base.</span>
</dd>
</dl>
<p>Una classe ha anche un attributo chiamato <code>__dict__</code>, che è la mappatura di sola lettura che la classe utilizza per mantenere altri attributi (noto anche, informalmente, come spazio dei nomi della classe).</p>
<p>Nelle istruzioni direttamente nel corpo di una classe, i riferimenti ai membri della classe devono utilizzare un nome semplice, non un nome completamente qualificato. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-11"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-11-1" class="code-annotation-target"><a href="#annotated-cell-11-1"></a><span class="kw">class</span> C3:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-11-2" class="code-annotation-target"><a href="#annotated-cell-11-2"></a>  x <span class="op">=</span> <span class="dv">23</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-11-3" class="code-annotation-target"><a href="#annotated-cell-11-3"></a>  y <span class="op">=</span> x <span class="op">+</span> <span class="dv">22</span></span>
<span id="annotated-cell-11-4"><a href="#annotated-cell-11-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-11-5" class="code-annotation-target"><a href="#annotated-cell-11-5"></a><span class="bu">print</span>(C3.y)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C3</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="2" data-code-annotation="2">L’attributo x della classe <code>C3</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="3" data-code-annotation="3">L’attributo y della classe <code>C3</code> è associato alla somma di <code>x</code> e <code>22</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="5" data-code-annotation="4">Stampa del valore dell’attributo <code>y</code> della classe <code>C3</code>.</span>
</dd>
</dl>
<p>Tuttavia, nelle istruzioni all’interno dei metodi definiti in un corpo di classe, i riferimenti agli attributi della classe devono utilizzare un nome completamente qualificato, non un nome semplice. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-12"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1"></a><span class="kw">class</span> C4:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-12-2" class="code-annotation-target"><a href="#annotated-cell-12-2"></a>  x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-12-3"><a href="#annotated-cell-12-3"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-12-4" class="code-annotation-target"><a href="#annotated-cell-12-4"></a>  <span class="kw">def</span> metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-12-5" class="code-annotation-target"><a href="#annotated-cell-12-5"></a>    <span class="bu">print</span>(C4.x)</span>
<span id="annotated-cell-12-6"><a href="#annotated-cell-12-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-12-7" class="code-annotation-target"><a href="#annotated-cell-12-7"></a>c <span class="op">=</span> C4()</span>
<span id="annotated-cell-12-8"><a href="#annotated-cell-12-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-12-9" class="code-annotation-target"><a href="#annotated-cell-12-9"></a>c.metodo()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="2" data-code-annotation="2">L’attributo x della classe <code>C4</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="4" data-code-annotation="3">Definizione di un metodo della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="5" data-code-annotation="4">Stampa del valore dell’attributo <code>x</code> della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="7" data-code-annotation="5">Creazione di un’istanza della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="9" data-code-annotation="6">Chiamata del metodo dell’istanza <code>c</code>.</span>
</dd>
</dl>
</section>
<section id="definizioni-di-funzioni-nel-corpo-di-una-classe" class="level3" data-number="18.4.2">
<h3 data-number="18.4.2" class="anchored" data-anchor-id="definizioni-di-funzioni-nel-corpo-di-una-classe"><span class="header-section-number">18.4.2</span> Definizioni di funzioni nel corpo di una classe</h3>
<p>La maggior parte dei corpi delle classi include alcune istruzioni <code>def</code>, poiché le funzioni (note come metodi in questo contesto) sono importanti membri per la maggior parte delle istanze delle classi. Un’istruzione <code>def</code> in un corpo di classe obbedisce alle regole viste per le funzioni ordinarie.</p>
<p>Ecco un esempio di una classe che include una definizione di metodo:</p>
<div class="sourceCode" id="annotated-cell-13"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-13-1" class="code-annotation-target"><a href="#annotated-cell-13-1"></a><span class="kw">class</span> C5:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-13-2" class="code-annotation-target"><a href="#annotated-cell-13-2"></a>  <span class="kw">def</span> ciao(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-13-3" class="code-annotation-target"><a href="#annotated-cell-13-3"></a>    <span class="bu">print</span>(<span class="st">'Ciao'</span>)</span>
<span id="annotated-cell-13-4"><a href="#annotated-cell-13-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-13-5" class="code-annotation-target"><a href="#annotated-cell-13-5"></a>c <span class="op">=</span> C5()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-13-6" class="code-annotation-target"><a href="#annotated-cell-13-6"></a>c.ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-13" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="2" data-code-annotation="2">Definizione di un metodo della classe <code>C5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="3" data-code-annotation="3">Stampa del messaggio <code>Ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="5" data-code-annotation="4">Creazione di un’istanza della classe <code>C5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="6" data-code-annotation="5">Chiamata del metodo <code>ciao()</code> dell’istanza <code>c</code>.</span>
</dd>
</dl>
</section>
<section id="variabili-private-della-classe" class="level3" data-number="18.4.3">
<h3 data-number="18.4.3" class="anchored" data-anchor-id="variabili-private-della-classe"><span class="header-section-number">18.4.3</span> Variabili private della classe</h3>
<p>Quando un’istruzione in un corpo di classe (o in un metodo nel corpo) utilizza un identificatore che inizia (ma non termina) con due trattini bassi, come <code>__ident</code>, Python cambia implicitamente l’identificatore in <code>_NomeClasse__ident</code>, dove <code>NomeClasse</code> è il nome della classe. Questo cambiamento implicito consente a una classe di utilizzare nomi <em>privati</em> per attributi, metodi, variabili globali e altri scopi, riducendo il rischio di duplicare accidentalmente i nomi utilizzati altrove (particolarmente nelle sottoclassi).</p>
<p>Per convenzione, gli identificatori che iniziano con un trattino basso sono considerati privati all’ambito che li associa, che tale ambito sia o meno una classe. Il compilatore Python non impone questa convenzione di privacy: è responsabilità dei programmatori rispettarla.</p>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-14"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-14-1" class="code-annotation-target"><a href="#annotated-cell-14-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-14-2" class="code-annotation-target"><a href="#annotated-cell-14-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-14-3" class="code-annotation-target"><a href="#annotated-cell-14-3"></a>    <span class="va">self</span>.__valore <span class="op">=</span> valore</span>
<span id="annotated-cell-14-4"><a href="#annotated-cell-14-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-14-5" class="code-annotation-target"><a href="#annotated-cell-14-5"></a>  <span class="kw">def</span> visualizza_valore(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-14-6" class="code-annotation-target"><a href="#annotated-cell-14-6"></a>    <span class="cf">return</span> <span class="va">self</span>.__valore</span>
<span id="annotated-cell-14-7"><a href="#annotated-cell-14-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-14-8" class="code-annotation-target"><a href="#annotated-cell-14-8"></a>  <span class="kw">def</span> __metodo_privato(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-14-9" class="code-annotation-target"><a href="#annotated-cell-14-9"></a>    <span class="cf">return</span> <span class="st">"Questo è un metodo privato"</span></span>
<span id="annotated-cell-14-10"><a href="#annotated-cell-14-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-14-11" class="code-annotation-target"><a href="#annotated-cell-14-11"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-14-12"><a href="#annotated-cell-14-12"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-14-13" class="code-annotation-target"><a href="#annotated-cell-14-13"></a><span class="bu">print</span>(istanza.visualizza_valore())</span>
<span id="annotated-cell-14-14"><a href="#annotated-cell-14-14"></a></span>
<span id="annotated-cell-14-15"><a href="#annotated-cell-14-15"></a><span class="cf">try</span>:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-14-16" class="code-annotation-target"><a href="#annotated-cell-14-16"></a>  <span class="bu">print</span>(istanza.__valore)</span>
<span id="annotated-cell-14-17"><a href="#annotated-cell-14-17"></a></span>
<span id="annotated-cell-14-18"><a href="#annotated-cell-14-18"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="annotated-cell-14-19"><a href="#annotated-cell-14-19"></a>  <span class="bu">print</span>(e)</span>
<span id="annotated-cell-14-20"><a href="#annotated-cell-14-20"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-14-21" class="code-annotation-target"><a href="#annotated-cell-14-21"></a><span class="bu">print</span>(istanza._MiaClasse__valore)</span>
<span id="annotated-cell-14-22"><a href="#annotated-cell-14-22"></a></span>
<span id="annotated-cell-14-23"><a href="#annotated-cell-14-23"></a><span class="cf">try</span>:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-14-24" class="code-annotation-target"><a href="#annotated-cell-14-24"></a>  <span class="bu">print</span>(istanza.__metodo_privato())</span>
<span id="annotated-cell-14-25"><a href="#annotated-cell-14-25"></a></span>
<span id="annotated-cell-14-26"><a href="#annotated-cell-14-26"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="annotated-cell-14-27"><a href="#annotated-cell-14-27"></a>  <span class="bu">print</span>(e)</span>
<span id="annotated-cell-14-28"><a href="#annotated-cell-14-28"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-14-29" class="code-annotation-target"><a href="#annotated-cell-14-29"></a><span class="bu">print</span>(istanza._MiaClasse__metodo_privato())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="3" data-code-annotation="3">Utilizza un attributo con due trattini bassi all’inizio, che verrà trasformato in <code>_MiaClasse__valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="5" data-code-annotation="4">Definisce un metodo <code>visualizza_valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="6" data-code-annotation="5">Il metodo <code>visualizza_valore</code> restituisce l’attributo <code>__valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="8" data-code-annotation="6">Definisce un metodo privato <code>__metodo_privato</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="9" data-code-annotation="7">Il metodo <code>__metodo_privato</code> restituisce una stringa.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="11" data-code-annotation="8">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="13" data-code-annotation="9">Chiama il metodo <code>visualizza_valore</code> sull’istanza e stampa il risultato. Output: <code>10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="16" data-code-annotation="10">Il tentativo di accedere direttamente all’attributo <code>__valore</code> genera un errore. Output: <code>'MiaClasse' object has no attribute '__valore'</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="21" data-code-annotation="11">Accede all’attributo <code>__valore</code> utilizzando il nome modificato <code>_MiaClasse__valore</code>. Output: <code>10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="24" data-code-annotation="12">Il tentativo di chiamare direttamente il metodo <code>__metodo_privato</code> genera un errore. Output: <code>'MiaClasse' object has no attribute '__metodo_privato'</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="29" data-code-annotation="13">Chiama il metodo privato <code>__metodo_privato</code> utilizzando il nome modificato <code>_MiaClasse__metodo_privato</code>. Output: <code>Questo è un metodo privato</code>.</span>
</dd>
</dl>
<p>In questo esempio, l’attributo <code>__valore</code> e il metodo <code>__metodo_privato</code> sono “rinominati” da Python per evitare conflitti di nomi, rendendoli più difficili da accedere accidentalmente. Tuttavia, questo non rende gli attributi o i metodi veramente privati, poiché possono ancora essere accessibili utilizzando il nome modificato. Quindi, l’uso del doppio trattino basso è una convenzione per indicare che un attributo o metodo è destinato all’uso interno della classe, non un meccanismo di sicurezza.</p>
</section>
<section id="stringhe-di-documentazione-della-classe" class="level3" data-number="18.4.4">
<h3 data-number="18.4.4" class="anchored" data-anchor-id="stringhe-di-documentazione-della-classe"><span class="header-section-number">18.4.4</span> Stringhe di documentazione della classe</h3>
<p>Se la prima istruzione nel corpo della classe è un letterale stringa, il compilatore associa quella stringa come stringa di documentazione (o docstring) per la classe. La docstring per la classe è disponibile nell’attributo <code>__doc__</code>; se la prima istruzione nel corpo della classe non è un letterale stringa, il suo valore è <code>None</code>.</p>
<p>Esempio di docstring di una classe:</p>
<div class="sourceCode" id="annotated-cell-15"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-15-1" class="code-annotation-target"><a href="#annotated-cell-15-1"></a><span class="kw">class</span> C6:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-15-2" class="code-annotation-target"><a href="#annotated-cell-15-2"></a>  <span class="co">"""Questa è una classe di esempio."""</span></span>
<span id="annotated-cell-15-3"><a href="#annotated-cell-15-3"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-15-4" class="code-annotation-target"><a href="#annotated-cell-15-4"></a>  <span class="kw">def</span> metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-15-5" class="code-annotation-target"><a href="#annotated-cell-15-5"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-15-6"><a href="#annotated-cell-15-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-15-7" class="code-annotation-target"><a href="#annotated-cell-15-7"></a><span class="bu">print</span>(C6.__doc__)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="2" data-code-annotation="2">Stringa di documentazione della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="4" data-code-annotation="3">Definizione di un metodo della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="5" data-code-annotation="4">Corpo del metodo vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="7" data-code-annotation="5">Stampa della docstring della classe <code>C6</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="istanze" class="level2" data-number="18.5">
<h2 data-number="18.5" class="anchored" data-anchor-id="istanze"><span class="header-section-number">18.5</span> Istanze</h2>
<p>Per creare un’istanza di una classe, chiamiamo l’oggetto classe come se fosse una funzione. Ogni chiamata restituisce una nuova istanza il cui tipo è quella classe:</p>
<div class="sourceCode" id="annotated-cell-16"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-16-1" class="code-annotation-target"><a href="#annotated-cell-16-1"></a>un_istanza <span class="op">=</span> C5()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-16" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="1" data-code-annotation="1">Creazione di un’istanza della classe <code>C5</code>.</span>
</dd>
</dl>
<p>La funzione predefinita <code>isinstance(i, C)</code>, con una classe come argomento <code>C</code>, restituisce <code>True</code> quando <code>i</code> è un’istanza della classe <code>C</code> o di qualsiasi sottoclasse di <code>C</code>. Altrimenti, <code>isinstance</code> restituisce <code>False</code>. Se <code>C</code> è una tupla di tipi (o più tipi uniti utilizzando l’operatore <code>|</code>), <code>isinstance</code> restituisce <code>True</code> se <code>i</code> è un’istanza o sottoclasse di uno dei tipi dati, e <code>False</code> altrimenti.</p>
<section id="init__" class="level3" data-number="18.5.1">
<h3 data-number="18.5.1" class="anchored" data-anchor-id="init__"><span class="header-section-number">18.5.1</span> <code>__init__</code></h3>
<p>Quando una classe definisce o eredita un metodo chiamato <code>__init__</code>, chiamare l’oggetto classe esegue <code>__init__</code> sulla nuova istanza per eseguire l’inizializzazione per istanza. Gli argomenti passati nella chiamata devono corrispondere ai parametri di <code>__init__</code>, eccetto per il parametro <code>self</code>. Per esempio, consideriamo la seguente definizione di classe:</p>
<div class="sourceCode" id="annotated-cell-17"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-17-1" class="code-annotation-target"><a href="#annotated-cell-17-1"></a><span class="kw">class</span> C6:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-17-2" class="code-annotation-target"><a href="#annotated-cell-17-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, n):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-17-3" class="code-annotation-target"><a href="#annotated-cell-17-3"></a>    <span class="va">self</span>.x <span class="op">=</span> n</span>
<span id="annotated-cell-17-4"><a href="#annotated-cell-17-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-17-5" class="code-annotation-target"><a href="#annotated-cell-17-5"></a>un_altra_istanza <span class="op">=</span> C6(<span class="dv">42</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-17" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="2" data-code-annotation="2">Definizione del metodo <code>__init__</code> con il parametro <code>n</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="3" data-code-annotation="3">Associazione dell’attributo <code>x</code> al valore del parametro <code>n</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="5" data-code-annotation="4">Creazione di un’istanza della classe <code>C6</code> con il valore <code>42</code> per il parametro <code>n</code>.</span>
</dd>
</dl>
<p>Il metodo <code>__init__</code> di solito contiene istruzioni che associano attributi di istanza. Un metodo <code>__init__</code> non deve restituire un valore diverso da <code>None</code>; se lo fa, Python solleva un’eccezione <code>TypeError</code>.</p>
</section>
<section id="membri-degli-oggetti-istanza" class="level3" data-number="18.5.2">
<h3 data-number="18.5.2" class="anchored" data-anchor-id="membri-degli-oggetti-istanza"><span class="header-section-number">18.5.2</span> Membri degli oggetti istanza</h3>
<p>Una volta creata un’istanza, possiamo accedere ai suoi membri (dati e metodi) utilizzando l’operatore punto <code>.</code>.</p>
<div class="sourceCode" id="annotated-cell-18"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-18-1" class="code-annotation-target"><a href="#annotated-cell-18-1"></a>un_istanza.ciao()</span>
<span id="annotated-cell-18-2"><a href="#annotated-cell-18-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-18-3" class="code-annotation-target"><a href="#annotated-cell-18-3"></a><span class="bu">print</span>(un_altra_istanza.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-18" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="1" data-code-annotation="1">Chiamata del metodo <code>ciao</code> dell’istanza <code>un_istanza</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="3" data-code-annotation="2">Stampa del valore dell’attributo <code>x</code> dell’istanza <code>un_altra_istanza</code>.</span>
</dd>
</dl>
<p>Possiamo dare a un oggetto istanza un attributo associando un valore a un riferimento di attributo.</p>
<div class="sourceCode" id="annotated-cell-19"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-19-1" class="code-annotation-target"><a href="#annotated-cell-19-1"></a><span class="kw">class</span> C7:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-19-2" class="code-annotation-target"><a href="#annotated-cell-19-2"></a>  <span class="cf">pass</span></span>
<span id="annotated-cell-19-3"><a href="#annotated-cell-19-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-19-4" class="code-annotation-target"><a href="#annotated-cell-19-4"></a>z <span class="op">=</span> C7()</span>
<span id="annotated-cell-19-5"><a href="#annotated-cell-19-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-19-6" class="code-annotation-target"><a href="#annotated-cell-19-6"></a>z.x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-19-7"><a href="#annotated-cell-19-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-19-8" class="code-annotation-target"><a href="#annotated-cell-19-8"></a><span class="bu">print</span>(z.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-19" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C7</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="2" data-code-annotation="2">Corpo della classe vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="4" data-code-annotation="3">Creazione di un’istanza della classe <code>C7</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="6" data-code-annotation="4">Associazione dell’attributo <code>x</code> dell’istanza <code>z</code> al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="8" data-code-annotation="5">Stampa del valore dell’attributo <code>x</code> dell’istanza <code>z</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="metodi-vincolati-e-non-vincolati" class="level2" data-number="18.6">
<h2 data-number="18.6" class="anchored" data-anchor-id="metodi-vincolati-e-non-vincolati"><span class="header-section-number">18.6</span> Metodi vincolati e non vincolati</h2>
<p>Il metodo <code>__get__</code> di un oggetto funzione può restituire l’oggetto funzione stesso o un oggetto metodo vincolato che avvolge la funzione; un metodo vincolato è associato all’istanza specifica da cui è ottenuto. Un metodo vincolato è un’istanza di un metodo che è legato a un oggetto particolare, il che significa che può essere chiamato senza dover passare l’oggetto come parametro. Al contrario, un metodo non vincolato non è legato a un’istanza e deve essere esplicitamente passato un oggetto come parametro.</p>
<p>Quando un metodo è chiamato su un’istanza di una classe, Python crea un metodo vincolato, che ha un riferimento implicito all’istanza, passato come il primo argomento <code>self</code>. Questo permette al metodo di accedere agli attributi e ad altri metodi della classe tramite <code>self</code>.</p>
<p>Esempio di metodo vincolato:</p>
<div class="sourceCode" id="annotated-cell-20"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-20-1" class="code-annotation-target"><a href="#annotated-cell-20-1"></a><span class="kw">class</span> C8:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-20-2" class="code-annotation-target"><a href="#annotated-cell-20-2"></a>  <span class="kw">def</span> saluta(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-20-3" class="code-annotation-target"><a href="#annotated-cell-20-3"></a>    <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-20-4"><a href="#annotated-cell-20-4"></a></span>
<span id="annotated-cell-20-5"><a href="#annotated-cell-20-5"></a>x <span class="op">=</span> C8()</span>
<span id="annotated-cell-20-6"><a href="#annotated-cell-20-6"></a></span>
<span id="annotated-cell-20-7"><a href="#annotated-cell-20-7"></a>metodo_vincolato <span class="op">=</span> x.saluta</span>
<span id="annotated-cell-20-8"><a href="#annotated-cell-20-8"></a></span>
<span id="annotated-cell-20-9"><a href="#annotated-cell-20-9"></a>metodo_vincolato()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-20" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C8</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-20" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="2" data-code-annotation="2">Definizione di un metodo della classe <code>C8</code> chiamato <code>saluta</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-20" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="3" data-code-annotation="3">Il metodo <code>saluta</code> stampa il</span>
</dd>
</dl>
<p>messaggio <code>"Ciao!"</code>. 4. Creazione di un’istanza della classe <code>C8</code> e assegnazione a <code>x</code>. 5. Ottenimento di un metodo vincolato dall’istanza <code>x</code> e assegnazione a <code>metodo_vincolato</code>. Questo passo associa il metodo <code>saluta</code> all’istanza <code>x</code>, creando un metodo vincolato. 6. Chiamata del metodo vincolato. Questa chiamata è equivalente a <code>x.saluta()</code> e stampa <code>"Ciao!"</code>.</p>
<p>Quando <code>metodo_vincolato</code> è chiamato, non c’è bisogno di passare <code>x</code> come argomento perché <code>x</code> è già legato al metodo vincolato. Questo è ciò che rende i metodi vincolati potenti e comodi da usare.</p>
<p>In contrasto, un metodo non vincolato può essere ottenuto dalla classe stessa. In tal caso, è necessario passare esplicitamente l’istanza come primo argomento.</p>
<p>Esempio di metodo non vincolato:</p>
<div class="sourceCode" id="annotated-cell-21"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-21-1" class="code-annotation-target"><a href="#annotated-cell-21-1"></a>metodo_non_vincolato <span class="op">=</span> C8.saluta</span>
<span id="annotated-cell-21-2"><a href="#annotated-cell-21-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-21-3" class="code-annotation-target"><a href="#annotated-cell-21-3"></a>metodo_non_vincolato(x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-21" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="1" data-code-annotation="1">Ottenimento di un metodo non vincolato dalla classe <code>C8</code> e assegnazione a <code>metodo_non_vincolato</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="3" data-code-annotation="2">Chiamata del metodo non vincolato, passando esplicitamente l’istanza <code>x</code> come argomento. Questo passo è necessario per fornire il contesto (<code>self</code>) per il metodo, poiché <code>metodo_non_vincolato</code> non è legato a nessuna istanza.</span>
</dd>
</dl>
<p>In sintesi, i metodi vincolati consentono di chiamare metodi di istanza senza dover passare esplicitamente l’istanza, rendendo il codice più pulito e intuitivo.</p>
</section>
<section id="ereditarietà" class="level2" data-number="18.7">
<h2 data-number="18.7" class="anchored" data-anchor-id="ereditarietà"><span class="header-section-number">18.7</span> Ereditarietà</h2>
<p>Quando utilizziamo un riferimento a un attributo <code>C.nome</code> su un oggetto classe <code>C</code>, e <code>nome</code> non è una chiave in <code>C.__dict__</code>, la ricerca procede implicitamente su ogni oggetto classe che è in <code>C.__bases__</code> in un ordine specifico (noto storicamente come ordine di risoluzione dei metodi, o MRO, ma che in realtà si applica a tutti gli attributi, non solo ai metodi). Le classi base di <code>C</code> possono a loro volta avere le proprie basi. La ricerca controlla gli antenati diretti e indiretti, uno per uno, nell’MRO, fermandosi quando <code>nome</code> viene trovato.</p>
<p>Esempio di ereditarietà:</p>
<div class="sourceCode" id="annotated-cell-22"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-22-1" class="code-annotation-target"><a href="#annotated-cell-22-1"></a><span class="kw">class</span> Base:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-22-2" class="code-annotation-target"><a href="#annotated-cell-22-2"></a>  a <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-22-3"><a href="#annotated-cell-22-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-22-4" class="code-annotation-target"><a href="#annotated-cell-22-4"></a>  <span class="kw">def</span> saluta(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-22-5" class="code-annotation-target"><a href="#annotated-cell-22-5"></a>    <span class="bu">print</span>(<span class="st">"Ciao dal Base"</span>)</span>
<span id="annotated-cell-22-6"><a href="#annotated-cell-22-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-22-7" class="code-annotation-target"><a href="#annotated-cell-22-7"></a><span class="kw">class</span> Derivata(Base):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-22-8" class="code-annotation-target"><a href="#annotated-cell-22-8"></a>  b <span class="op">=</span> <span class="dv">45</span></span>
<span id="annotated-cell-22-9"><a href="#annotated-cell-22-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-22-10" class="code-annotation-target"><a href="#annotated-cell-22-10"></a>d <span class="op">=</span> Derivata()</span>
<span id="annotated-cell-22-11"><a href="#annotated-cell-22-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-22-12" class="code-annotation-target"><a href="#annotated-cell-22-12"></a><span class="bu">print</span>(d.a)</span>
<span id="annotated-cell-22-13"><a href="#annotated-cell-22-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-22-14" class="code-annotation-target"><a href="#annotated-cell-22-14"></a>d.saluta()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-22" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="2" data-code-annotation="2">L’attributo <code>a</code> della classe Base è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="4" data-code-annotation="3">Definizione di un metodo della classe <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="5" data-code-annotation="4">Stampa del messaggio <code>Ciao dal Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="7" data-code-annotation="5">Definizione della classe Derivata che eredita da <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="8" data-code-annotation="6">L’attributo <code>b</code> della classe Derivata è associato al valore <code>45</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="10" data-code-annotation="7">Creazione di un’istanza della classe <code>Derivata</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="12" data-code-annotation="8">Stampa del valore dell’attributo <code>a</code> dell’istanza <code>d</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="14" data-code-annotation="9">Chiamata del metodo <code>saluta</code> dell’istanza <code>d</code>.</span>
</dd>
</dl>
</section>
<section id="metodi-speciali" class="level2" data-number="18.8">
<h2 data-number="18.8" class="anchored" data-anchor-id="metodi-speciali"><span class="header-section-number">18.8</span> Metodi speciali</h2>
<p>I metodi speciali in Python sono metodi con due trattini bassi all’inizio e alla fine del loro nome (dunder). Questi metodi vengono chiamati implicitamente in determinate situazioni. Ad esempio, il metodo <code>__init__</code> viene chiamato quando viene creata una nuova istanza di una classe.</p>
<p>Esempio di metodo speciale:</p>
<div class="sourceCode" id="annotated-cell-23"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-23-1" class="code-annotation-target"><a href="#annotated-cell-23-1"></a><span class="kw">class</span> C9:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-23-2" class="code-annotation-target"><a href="#annotated-cell-23-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-23-3" class="code-annotation-target"><a href="#annotated-cell-23-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-23-4"><a href="#annotated-cell-23-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-23-5" class="code-annotation-target"><a href="#annotated-cell-23-5"></a>  <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-23-6" class="code-annotation-target"><a href="#annotated-cell-23-6"></a>    <span class="cf">return</span> <span class="ss">f"C9 con valore: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>valore<span class="sc">}</span><span class="ss">"</span></span>
<span id="annotated-cell-23-7"><a href="#annotated-cell-23-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-23-8" class="code-annotation-target"><a href="#annotated-cell-23-8"></a>c <span class="op">=</span> C9(<span class="dv">10</span>)</span>
<span id="annotated-cell-23-9"><a href="#annotated-cell-23-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-23-10" class="code-annotation-target"><a href="#annotated-cell-23-10"></a><span class="bu">print</span>(c)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-23" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C9</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="2" data-code-annotation="2">Definizione del metodo <code>__init__</code> con il parametro <code>valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="3" data-code-annotation="3">Associazione dell’attributo <code>valore</code> al valore del parametro <code>valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="5" data-code-annotation="4">Definizione del metodo <code>__str__</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="6" data-code-annotation="5">Restituzione di una stringa rappresentativa dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="8" data-code-annotation="6">Creazione di un’istanza della classe <code>C9</code> con il valore <code>10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="10" data-code-annotation="7">Stampa della rappresentazione dell’istanza <code>c</code>.</span>
</dd>
</dl>
</section>
<section id="metodi-di-classe-e-metodi-statici" class="level2" data-number="18.9">
<h2 data-number="18.9" class="anchored" data-anchor-id="metodi-di-classe-e-metodi-statici"><span class="header-section-number">18.9</span> Metodi di classe e metodi statici</h2>
<p>In Python, i metodi possono essere definiti a livello di classe in due modi principali: come metodi statici e come metodi di classe. Entrambi offrono funzionalità diverse rispetto ai metodi di istanza.</p>
<section id="metodi-statici" class="level3" data-number="18.9.1">
<h3 data-number="18.9.1" class="anchored" data-anchor-id="metodi-statici"><span class="header-section-number">18.9.1</span> Metodi statici</h3>
<p>I metodi statici sono definiti utilizzando il decoratore <code>@staticmethod</code>. Questi metodi non ricevono automaticamente né il riferimento all’istanza (<code>self</code>) né alla classe (<code>cls</code>) come primo argomento. Sono simili alle funzioni normali, ma sono chiamati come membri della classe. Sono utili quando non è necessario accedere né alle variabili di istanza né alle variabili di classe all’interno del metodo.</p>
<p>Esempio di metodo statico:</p>
<div class="sourceCode" id="annotated-cell-24"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-24-1" class="code-annotation-target"><a href="#annotated-cell-24-1"></a><span class="kw">class</span> Utilita:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-24-2" class="code-annotation-target"><a href="#annotated-cell-24-2"></a>  <span class="at">@staticmethod</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-24-3" class="code-annotation-target"><a href="#annotated-cell-24-3"></a>  <span class="kw">def</span> somma(a, b):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-24-4" class="code-annotation-target"><a href="#annotated-cell-24-4"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="annotated-cell-24-5"><a href="#annotated-cell-24-5"></a></span>
<span id="annotated-cell-24-6"><a href="#annotated-cell-24-6"></a><span class="co"># Chiamata al metodo statico senza creare un'istanza</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-24-7" class="code-annotation-target"><a href="#annotated-cell-24-7"></a><span class="bu">print</span>(Utilita.somma(<span class="dv">10</span>, <span class="dv">5</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Utilita</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="2" data-code-annotation="2">Decoratore <code>@staticmethod</code> per definire un metodo statico.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="3" data-code-annotation="3">Definizione del metodo statico <code>somma</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="4" data-code-annotation="4">Il metodo <code>somma</code> prende due argomenti e restituisce la loro somma.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="7" data-code-annotation="5">Chiamata al metodo statico <code>somma</code> senza creare un’istanza della classe.</span>
</dd>
</dl>
</section>
<section id="metodi-di-classe" class="level3" data-number="18.9.2">
<h3 data-number="18.9.2" class="anchored" data-anchor-id="metodi-di-classe"><span class="header-section-number">18.9.2</span> Metodi di classe</h3>
<p>I metodi di classe sono definiti utilizzando il decoratore <code>@classmethod</code>. Questi metodi ricevono automaticamente un riferimento alla classe (<code>cls</code>) come primo argomento. Sono utili quando si ha bisogno di accedere o modificare lo stato della classe piuttosto che quello dell’istanza.</p>
<p>Esempio di metodo di classe:</p>
<div class="sourceCode" id="annotated-cell-25"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-25-1" class="code-annotation-target"><a href="#annotated-cell-25-1"></a><span class="kw">class</span> Contatore:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-25-2" class="code-annotation-target"><a href="#annotated-cell-25-2"></a>  contatore_comune <span class="op">=</span> <span class="dv">0</span></span>
<span id="annotated-cell-25-3"><a href="#annotated-cell-25-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-25-4" class="code-annotation-target"><a href="#annotated-cell-25-4"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-25-5" class="code-annotation-target"><a href="#annotated-cell-25-5"></a>    Contatore.contatore_comune <span class="op">+=</span> <span class="dv">1</span></span>
<span id="annotated-cell-25-6"><a href="#annotated-cell-25-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-25-7" class="code-annotation-target"><a href="#annotated-cell-25-7"></a>  <span class="at">@classmethod</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-25-8" class="code-annotation-target"><a href="#annotated-cell-25-8"></a>  <span class="kw">def</span> ottieni_contatore(cls):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-25-9" class="code-annotation-target"><a href="#annotated-cell-25-9"></a>    <span class="cf">return</span> cls.contatore_comune</span>
<span id="annotated-cell-25-10"><a href="#annotated-cell-25-10"></a></span>
<span id="annotated-cell-25-11"><a href="#annotated-cell-25-11"></a><span class="co"># Creazione di istanze</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-25-12" class="code-annotation-target"><a href="#annotated-cell-25-12"></a>c1 <span class="op">=</span> Contatore()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-25-13" class="code-annotation-target"><a href="#annotated-cell-25-13"></a>c2 <span class="op">=</span> Contatore()</span>
<span id="annotated-cell-25-14"><a href="#annotated-cell-25-14"></a></span>
<span id="annotated-cell-25-15"><a href="#annotated-cell-25-15"></a><span class="co"># Chiamata al metodo di classe</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-25-16" class="code-annotation-target"><a href="#annotated-cell-25-16"></a><span class="bu">print</span>(Contatore.ottieni_contatore())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-25" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="2" data-code-annotation="2">Attributo di classe <code>contatore_comune</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="4" data-code-annotation="3">Metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="5" data-code-annotation="4">Incrementa l’attributo di classe <code>contatore_comune</code> ogni volta che viene creata una nuova istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="7" data-code-annotation="5">Decoratore <code>@classmethod</code> per definire un metodo di classe.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="8" data-code-annotation="6">Definizione del metodo di classe <code>ottieni_contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="9" data-code-annotation="7">Il metodo <code>ottieni_contatore</code> restituisce il valore dell’attributo di classe <code>contatore_comune</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="12" data-code-annotation="8">Creazione di un’istanza della classe <code>Contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="13" data-code-annotation="9">Creazione di un’altra istanza della classe <code>Contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="16" data-code-annotation="10">Chiamata al metodo di classe <code>ottieni_contatore</code> senza creare un’istanza della classe.</span>
</dd>
</dl>
</section>
<section id="differenza-tra-metodi-statici-e-metodi-di-classe" class="level3" data-number="18.9.3">
<h3 data-number="18.9.3" class="anchored" data-anchor-id="differenza-tra-metodi-statici-e-metodi-di-classe"><span class="header-section-number">18.9.3</span> Differenza tra metodi statici e metodi di classe</h3>
<ul>
<li><p>Metodi statici:</p>
<ul>
<li>Non ricevono né l’istanza (<code>self</code>) né la classe (<code>cls</code>) come primo argomento.</li>
<li>Sono simili alle funzioni normali, ma possono essere chiamati attraverso il nome della classe.</li>
<li>Utili per operazioni che non dipendono dallo stato della classe o dell’istanza.</li>
</ul></li>
<li><p>Metodi di classe:</p>
<ul>
<li>Ricevono il riferimento alla classe (<code>cls</code>) come primo argomento.</li>
<li>Possono accedere e modificare lo stato della classe.</li>
<li>Utili per operazioni che riguardano lo stato globale della classe.</li>
</ul></li>
</ul>
</section>
<section id="casi-duso" class="level3" data-number="18.9.4">
<h3 data-number="18.9.4" class="anchored" data-anchor-id="casi-duso"><span class="header-section-number">18.9.4</span> Casi d’uso</h3>
<ul>
<li><p>Utilizzare un metodo statico per una funzione di utilità che non necessita di accedere o modificare lo stato della classe o dell’istanza.</p>
<div class="sourceCode" id="annotated-cell-41"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy"><code class="sourceCode python"><span id="annotated-cell-41-1"><a href="#annotated-cell-41-1"></a><span class="kw">class</span> Matematica:</span>
<span id="annotated-cell-41-2"><a href="#annotated-cell-41-2"></a>  <span class="at">@staticmethod</span></span>
<span id="annotated-cell-41-3"><a href="#annotated-cell-41-3"></a>  <span class="kw">def</span> moltiplica(a, b):</span>
<span id="annotated-cell-41-4"><a href="#annotated-cell-41-4"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span>
<span id="annotated-cell-41-5"><a href="#annotated-cell-41-5"></a></span>
<span id="annotated-cell-41-6"><a href="#annotated-cell-41-6"></a>  <span class="at">@staticmethod</span></span>
<span id="annotated-cell-41-7"><a href="#annotated-cell-41-7"></a>  <span class="kw">def</span> dividi(a, b):</span>
<span id="annotated-cell-41-8"><a href="#annotated-cell-41-8"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="annotated-cell-41-9"><a href="#annotated-cell-41-9"></a></span>
<span id="annotated-cell-41-10"><a href="#annotated-cell-41-10"></a><span class="bu">print</span>(Matematica.moltiplica(<span class="dv">3</span>, <span class="dv">4</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<ol type="1">
<li>Output: <code>12</code>.</li>
</ol>
<ul>
<li><p>Utilizzare un metodo di classe per mantenere o ottenere lo stato della classe, come contare il numero di istanze create.</p>
<div class="sourceCode" id="annotated-cell-42"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-42-1"><a href="#annotated-cell-42-1"></a><span class="kw">class</span> Giocatore:</span>
<span id="annotated-cell-42-2"><a href="#annotated-cell-42-2"></a>  numero_giocatori <span class="op">=</span> <span class="dv">0</span></span>
<span id="annotated-cell-42-3"><a href="#annotated-cell-42-3"></a></span>
<span id="annotated-cell-42-4"><a href="#annotated-cell-42-4"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, nome):</span>
<span id="annotated-cell-42-5"><a href="#annotated-cell-42-5"></a>    <span class="va">self</span>.nome <span class="op">=</span> nome</span>
<span id="annotated-cell-42-6"><a href="#annotated-cell-42-6"></a>    Giocatore.numero_giocatori <span class="op">+=</span> <span class="dv">1</span></span>
<span id="annotated-cell-42-7"><a href="#annotated-cell-42-7"></a></span>
<span id="annotated-cell-42-8"><a href="#annotated-cell-42-8"></a>  <span class="at">@classmethod</span></span>
<span id="annotated-cell-42-9"><a href="#annotated-cell-42-9"></a>  <span class="kw">def</span> ottieni_numero_giocatori(cls):</span>
<span id="annotated-cell-42-10"><a href="#annotated-cell-42-10"></a>    <span class="cf">return</span> cls.numero_giocatori</span>
<span id="annotated-cell-42-11"><a href="#annotated-cell-42-11"></a></span>
<span id="annotated-cell-42-12"><a href="#annotated-cell-42-12"></a>g1 <span class="op">=</span> Giocatore(<span class="st">"Mario"</span>)</span>
<span id="annotated-cell-42-13"><a href="#annotated-cell-42-13"></a>g2 <span class="op">=</span> Giocatore(<span class="st">"Luigi"</span>)</span>
<span id="annotated-cell-42-14"><a href="#annotated-cell-42-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-42" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-42-15" class="code-annotation-target"><a href="#annotated-cell-42-15"></a><span class="bu">print</span>(Giocatore.ottieni_numero_giocatori())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-42" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-42" data-code-lines="15" data-code-annotation="1">Output: <code>2</code>.</span>
</dd>
</dl></li>
</ul>
</section>
</section>
<section id="descrittori" class="level2" data-number="18.10">
<h2 data-number="18.10" class="anchored" data-anchor-id="descrittori"><span class="header-section-number">18.10</span> Descrittori</h2>
<p>Un descrittore è un oggetto la cui classe fornisce uno o più metodi speciali chiamati <code>__get__</code>, <code>__set__</code> o <code>__delete__</code>. I descrittori che sono attributi di classe controllano la semantica di accesso e impostazione degli attributi sulle istanze di quella classe.</p>
<p>Esempio di un descrittore:</p>
<div class="sourceCode" id="annotated-cell-26"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-26-1" class="code-annotation-target"><a href="#annotated-cell-26-1"></a><span class="kw">class</span> Const:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-26-2" class="code-annotation-target"><a href="#annotated-cell-26-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, value):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-26-3" class="code-annotation-target"><a href="#annotated-cell-26-3"></a>    <span class="va">self</span>.__dict__[<span class="st">'value'</span>] <span class="op">=</span> value</span>
<span id="annotated-cell-26-4"><a href="#annotated-cell-26-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-26-5" class="code-annotation-target"><a href="#annotated-cell-26-5"></a>  <span class="kw">def</span> <span class="fu">__set__</span>(<span class="va">self</span>, <span class="op">*</span>_):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-26-6" class="code-annotation-target"><a href="#annotated-cell-26-6"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-26-7"><a href="#annotated-cell-26-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-26-8" class="code-annotation-target"><a href="#annotated-cell-26-8"></a>  <span class="kw">def</span> <span class="fu">__get__</span>(<span class="va">self</span>, <span class="op">*</span>_):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-26-9" class="code-annotation-target"><a href="#annotated-cell-26-9"></a>    <span class="cf">return</span> <span class="va">self</span>.__dict__[<span class="st">'value'</span>]</span>
<span id="annotated-cell-26-10"><a href="#annotated-cell-26-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-26-11" class="code-annotation-target"><a href="#annotated-cell-26-11"></a>  <span class="kw">def</span> <span class="fu">__delete__</span>(<span class="va">self</span>, <span class="op">*</span>_):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-26-12" class="code-annotation-target"><a href="#annotated-cell-26-12"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-26-13"><a href="#annotated-cell-26-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-26-14" class="code-annotation-target"><a href="#annotated-cell-26-14"></a><span class="kw">class</span> X:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-26-15" class="code-annotation-target"><a href="#annotated-cell-26-15"></a>  c <span class="op">=</span> Const(<span class="dv">23</span>)</span>
<span id="annotated-cell-26-16"><a href="#annotated-cell-26-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-26-17" class="code-annotation-target"><a href="#annotated-cell-26-17"></a>x <span class="op">=</span> X()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-26-18" class="code-annotation-target"><a href="#annotated-cell-26-18"></a><span class="bu">print</span>(x.c)</span>
<span id="annotated-cell-26-19"><a href="#annotated-cell-26-19"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-26-20" class="code-annotation-target"><a href="#annotated-cell-26-20"></a>x.c <span class="op">=</span> <span class="dv">42</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="15" onclick="event.preventDefault();">15</a><span id="annotated-cell-26-21" class="code-annotation-target"><a href="#annotated-cell-26-21"></a><span class="bu">print</span>(x.c)</span>
<span id="annotated-cell-26-22"><a href="#annotated-cell-26-22"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="16" onclick="event.preventDefault();">16</a><span id="annotated-cell-26-23" class="code-annotation-target"><a href="#annotated-cell-26-23"></a><span class="kw">del</span> x.c</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="17" onclick="event.preventDefault();">17</a><span id="annotated-cell-26-24" class="code-annotation-target"><a href="#annotated-cell-26-24"></a><span class="bu">print</span>(x.c)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-26" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Const</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="2" data-code-annotation="2">Inizializzazione del descrittore con un valore.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="3" data-code-annotation="3">Memorizzazione del valore nel dizionario dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="5" data-code-annotation="4">Metodo <code>__set__</code> del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="6" data-code-annotation="5">Ignora qualsiasi tentativo di impostazione del valore.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="8" data-code-annotation="6">Metodo <code>__get__</code> del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="9" data-code-annotation="7">Restituisce il valore memorizzato nel dizionario dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="11" data-code-annotation="8">Metodo <code>__delete__</code> del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="12" data-code-annotation="9">Ignora qualsiasi tentativo di eliminazione del valore.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="14" data-code-annotation="10">Definizione della classe <code>X</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="15" data-code-annotation="11">L’attributo <code>c</code> della classe <code>X</code> è un descrittore di tipo <code>Const</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="17" data-code-annotation="12">Creazione di un’istanza della classe <code>X</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="18" data-code-annotation="13">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="20" data-code-annotation="14">Tentativo di impostazione del valore dell’attributo <code>c</code> dell’istanza <code>x</code> (ignorato).</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="15">15</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="21" data-code-annotation="15">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="16">16</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="23" data-code-annotation="16">Tentativo di eliminazione dell’attributo <code>c</code> dell’istanza <code>x</code> (ignorato).</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="17">17</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="24" data-code-annotation="17">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>x</code>.</span>
</dd>
</dl>
<section id="accesso" class="level3" data-number="18.10.1">
<h3 data-number="18.10.1" class="anchored" data-anchor-id="accesso"><span class="header-section-number">18.10.1</span> Accesso</h3>
<p>Nel caso di accesso ad un membro di una classe sia un descrittore, le regole viste in precedenza si qualificano come di seguito:</p>
<ul>
<li>Se il membro è un descrittore non sovrascrivente (ovvero, un descrittore che implementa solo il metodo <code>__get__</code>), viene restituito il risultato del metodo <code>__get__</code> del descrittore. Esempio:</li>
</ul>
<div class="sourceCode" id="annotated-cell-27"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-27-1"><a href="#annotated-cell-27-1"></a><span class="kw">class</span> DescrittoreNonSovrascrivente:</span>
<span id="annotated-cell-27-2"><a href="#annotated-cell-27-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<span id="annotated-cell-27-3"><a href="#annotated-cell-27-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-27-4"><a href="#annotated-cell-27-4"></a>  </span>
<span id="annotated-cell-27-5"><a href="#annotated-cell-27-5"></a>  <span class="kw">def</span> <span class="fu">__get__</span>(<span class="va">self</span>, istanza, proprietario):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-27-6" class="code-annotation-target"><a href="#annotated-cell-27-6"></a>    <span class="cf">return</span> <span class="va">self</span>.valore</span>
<span id="annotated-cell-27-7"><a href="#annotated-cell-27-7"></a></span>
<span id="annotated-cell-27-8"><a href="#annotated-cell-27-8"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-27-9" class="code-annotation-target"><a href="#annotated-cell-27-9"></a>  descrittore <span class="op">=</span> DescrittoreNonSovrascrivente(<span class="st">"valore descrittore"</span>)</span>
<span id="annotated-cell-27-10"><a href="#annotated-cell-27-10"></a></span>
<span id="annotated-cell-27-11"><a href="#annotated-cell-27-11"></a>istanza <span class="op">=</span> MiaClasse()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-27-12" class="code-annotation-target"><a href="#annotated-cell-27-12"></a><span class="bu">print</span>(istanza.descrittore)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-27" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="6" data-code-annotation="1">Il metodo <code>__get__</code> restituisce il valore del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="9" data-code-annotation="2">Definisce un descrittore non sovrascrivente come attributo di classe.</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="12" data-code-annotation="3">Trova <code>descrittore</code> nella classe, chiama <code>DescrittoreNonSovrascrivente.__get__</code> e restituisce <code>"valore descrittore"</code>.</span>
</dd>
</dl>
<ul>
<li>Se il membro è un descrittore sovrascrivente (ovvero, un descrittore che implementa i metodi <code>__get__</code> e <code>__set__</code>), viene chiamato il metodo <code>__get__</code> del descrittore, che restituisce il valore dell’attributo. Esempio:</li>
</ul>
<div class="sourceCode" id="annotated-cell-28"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-28-1"><a href="#annotated-cell-28-1"></a><span class="kw">class</span> DescrittoreSovrascrivente:</span>
<span id="annotated-cell-28-2"><a href="#annotated-cell-28-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<span id="annotated-cell-28-3"><a href="#annotated-cell-28-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-28-4"><a href="#annotated-cell-28-4"></a>  </span>
<span id="annotated-cell-28-5"><a href="#annotated-cell-28-5"></a>  <span class="kw">def</span> <span class="fu">__get__</span>(<span class="va">self</span>, istanza, proprietario):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-28-6" class="code-annotation-target"><a href="#annotated-cell-28-6"></a>    <span class="cf">return</span> <span class="va">self</span>.valore</span>
<span id="annotated-cell-28-7"><a href="#annotated-cell-28-7"></a>  </span>
<span id="annotated-cell-28-8"><a href="#annotated-cell-28-8"></a>  <span class="kw">def</span> <span class="fu">__set__</span>(<span class="va">self</span>, istanza, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-28-9" class="code-annotation-target"><a href="#annotated-cell-28-9"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-28-10"><a href="#annotated-cell-28-10"></a></span>
<span id="annotated-cell-28-11"><a href="#annotated-cell-28-11"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-28-12" class="code-annotation-target"><a href="#annotated-cell-28-12"></a>  descrittore <span class="op">=</span> DescrittoreSovrascrivente(<span class="st">"valore iniziale"</span>)</span>
<span id="annotated-cell-28-13"><a href="#annotated-cell-28-13"></a></span>
<span id="annotated-cell-28-14"><a href="#annotated-cell-28-14"></a>istanza <span class="op">=</span> MiaClasse()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-28-15" class="code-annotation-target"><a href="#annotated-cell-28-15"></a><span class="bu">print</span>(istanza.descrittore)</span>
<span id="annotated-cell-28-16"><a href="#annotated-cell-28-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-28-17" class="code-annotation-target"><a href="#annotated-cell-28-17"></a>istanza.descrittore <span class="op">=</span> <span class="st">"nuovo valore"</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-28-18" class="code-annotation-target"><a href="#annotated-cell-28-18"></a><span class="bu">print</span>(istanza.descrittore)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="6" data-code-annotation="1">Il metodo <code>__get__</code> restituisce il valore del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="9" data-code-annotation="2">Il metodo <code>__set__</code> permette di modificare il valore del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="12" data-code-annotation="3">Definisce un descrittore sovrascrivente come attributo di classe.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="15" data-code-annotation="4">Trova <code>descrittore</code> nella classe, chiama <code>DescrittoreSovrascrivente.__get__</code> e restituisce <code>"valore iniziale"</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="17" data-code-annotation="5">Chiama <code>DescrittoreSovrascrivente.__set__</code> per modificare il valore.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="18" data-code-annotation="6">Trova <code>descrittore</code> nella classe, chiama <code>DescrittoreSovrascrivente.__get__</code> e restituisce <code>"nuovo valore"</code>.</span>
</dd>
</dl>
<ul>
<li>Se il membro non è un descrittore, viene restituito il valore associato al membro. Esempio:</li>
</ul>
<div class="sourceCode" id="annotated-cell-29"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-29-1"><a href="#annotated-cell-29-1"></a><span class="kw">class</span> ClasseBase:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-29-2" class="code-annotation-target"><a href="#annotated-cell-29-2"></a>  attributo_base <span class="op">=</span> <span class="st">"valore base"</span></span>
<span id="annotated-cell-29-3"><a href="#annotated-cell-29-3"></a></span>
<span id="annotated-cell-29-4"><a href="#annotated-cell-29-4"></a><span class="kw">class</span> MiaClasse(ClasseBase):</span>
<span id="annotated-cell-29-5"><a href="#annotated-cell-29-5"></a>  <span class="cf">pass</span></span>
<span id="annotated-cell-29-6"><a href="#annotated-cell-29-6"></a></span>
<span id="annotated-cell-29-7"><a href="#annotated-cell-29-7"></a>istanza <span class="op">=</span> MiaClasse()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-29-8" class="code-annotation-target"><a href="#annotated-cell-29-8"></a><span class="bu">print</span>(istanza.attributo_base)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-29" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="2" data-code-annotation="1">Definisce un attributo di classe non descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="8" data-code-annotation="2">Trova <code>attributo_base</code> nella classe base e restituisce <code>"valore base"</code>.</span>
</dd>
</dl>
</section>
<section id="usi-comuni" class="level3" data-number="18.10.2">
<h3 data-number="18.10.2" class="anchored" data-anchor-id="usi-comuni"><span class="header-section-number">18.10.2</span> Usi comuni</h3>
<p>Un uso comune dei descrittori è la validazione degli attributi. Ad esempio, possiamo creare un descrittore per assicurare che un attributo sia sempre un numero positivo.</p>
<div class="sourceCode" id="annotated-cell-30"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1"></a><span class="kw">class</span> PositiveNumber:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-30-2" class="code-annotation-target"><a href="#annotated-cell-30-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-30-3" class="code-annotation-target"><a href="#annotated-cell-30-3"></a>    <span class="va">self</span>.value <span class="op">=</span> <span class="va">None</span></span>
<span id="annotated-cell-30-4"><a href="#annotated-cell-30-4"></a>      </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-30-5" class="code-annotation-target"><a href="#annotated-cell-30-5"></a>  <span class="kw">def</span> <span class="fu">__get__</span>(<span class="va">self</span>, instance, owner):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-30-6" class="code-annotation-target"><a href="#annotated-cell-30-6"></a>    <span class="cf">return</span> <span class="va">self</span>.value</span>
<span id="annotated-cell-30-7"><a href="#annotated-cell-30-7"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-30-8" class="code-annotation-target"><a href="#annotated-cell-30-8"></a>  <span class="kw">def</span> <span class="fu">__set__</span>(<span class="va">self</span>, instance, value):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-30-9" class="code-annotation-target"><a href="#annotated-cell-30-9"></a>    <span class="cf">if</span> value <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-30-10" class="code-annotation-target"><a href="#annotated-cell-30-10"></a>      <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Il valore deve essere positivo"</span>)</span>
<span id="annotated-cell-30-11"><a href="#annotated-cell-30-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-30-12" class="code-annotation-target"><a href="#annotated-cell-30-12"></a>    <span class="va">self</span>.value <span class="op">=</span> value</span>
<span id="annotated-cell-30-13"><a href="#annotated-cell-30-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-30-14" class="code-annotation-target"><a href="#annotated-cell-30-14"></a><span class="kw">class</span> Prodotto:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-30-15" class="code-annotation-target"><a href="#annotated-cell-30-15"></a>  prezzo <span class="op">=</span> PositiveNumber()</span>
<span id="annotated-cell-30-16"><a href="#annotated-cell-30-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-30-17" class="code-annotation-target"><a href="#annotated-cell-30-17"></a>p <span class="op">=</span> Prodotto()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-30-18" class="code-annotation-target"><a href="#annotated-cell-30-18"></a>p.prezzo <span class="op">=</span> <span class="dv">10</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-30-19" class="code-annotation-target"><a href="#annotated-cell-30-19"></a><span class="bu">print</span>(p.prezzo)</span>
<span id="annotated-cell-30-20"><a href="#annotated-cell-30-20"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="15" onclick="event.preventDefault();">15</a><span id="annotated-cell-30-21" class="code-annotation-target"><a href="#annotated-cell-30-21"></a>p.prezzo <span class="op">=</span> <span class="op">-</span><span class="dv">5</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="1">Definisce un descrittore <code>PositiveNumber</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="2" data-code-annotation="2">Inizializzazione del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="3" data-code-annotation="3">Memorizzazione del valore.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="5" data-code-annotation="4">Metodo <code>__get__</code> del descrittore per ottenere il valore.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="6" data-code-annotation="5">Restituisce il valore memorizzato.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="8" data-code-annotation="6">Metodo <code>__set__</code> del descrittore per impostare il valore.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="9" data-code-annotation="7">Controlla se il valore è negativo.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="10" data-code-annotation="8">Solleva un’eccezione se il valore è negativo.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="12" data-code-annotation="9">Imposta il valore se è positivo.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="14" data-code-annotation="10">Definisce una classe <code>Prodotto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="15" data-code-annotation="11">L’attributo <code>prezzo</code> della classe <code>Prodotto</code> è un descrittore di tipo <code>PositiveNumber</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="17" data-code-annotation="12">Creazione di un’istanza della classe <code>Prodotto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="18" data-code-annotation="13">Imposta il valore dell’attributo <code>prezzo</code> dell’istanza <code>p</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="19" data-code-annotation="14">Stampa il valore dell’attributo <code>prezzo</code> dell’istanza <code>p</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="15">15</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="21" data-code-annotation="15">Tentativo di impostazione di un valore negativo per l’attributo <code>prezzo</code> (solleva un’eccezione).</span>
</dd>
</dl>
<p>Un altro uso comune dei descrittori è la memorizzazione nella cache dei risultati di calcoli costosi.</p>
<div class="sourceCode" id="annotated-cell-31"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-31-1" class="code-annotation-target"><a href="#annotated-cell-31-1"></a><span class="kw">class</span> CachedProperty:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-31-2" class="code-annotation-target"><a href="#annotated-cell-31-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, func):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-31-3" class="code-annotation-target"><a href="#annotated-cell-31-3"></a>    <span class="va">self</span>.func <span class="op">=</span> func</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-31-4" class="code-annotation-target"><a href="#annotated-cell-31-4"></a>    <span class="va">self</span>.value <span class="op">=</span> <span class="va">None</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-31-5" class="code-annotation-target"><a href="#annotated-cell-31-5"></a>    <span class="va">self</span>.is_cached <span class="op">=</span> <span class="va">False</span></span>
<span id="annotated-cell-31-6"><a href="#annotated-cell-31-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-31-7" class="code-annotation-target"><a href="#annotated-cell-31-7"></a>  <span class="kw">def</span> <span class="fu">__get__</span>(<span class="va">self</span>, instance, owner):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-31-8" class="code-annotation-target"><a href="#annotated-cell-31-8"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="va">self</span>.is_cached:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-31-9" class="code-annotation-target"><a href="#annotated-cell-31-9"></a>      <span class="va">self</span>.value <span class="op">=</span> <span class="va">self</span>.func(instance)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-31-10" class="code-annotation-target"><a href="#annotated-cell-31-10"></a>      <span class="va">self</span>.is_cached <span class="op">=</span> <span class="va">True</span></span>
<span id="annotated-cell-31-11"><a href="#annotated-cell-31-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-31-12" class="code-annotation-target"><a href="#annotated-cell-31-12"></a>    <span class="cf">return</span> <span class="va">self</span>.value</span>
<span id="annotated-cell-31-13"><a href="#annotated-cell-31-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-31-14" class="code-annotation-target"><a href="#annotated-cell-31-14"></a><span class="kw">class</span> DatiComplessi:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-31-15" class="code-annotation-target"><a href="#annotated-cell-31-15"></a>  <span class="at">@CachedProperty</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-31-16" class="code-annotation-target"><a href="#annotated-cell-31-16"></a>  <span class="kw">def</span> calcolo_costoso(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-31-17" class="code-annotation-target"><a href="#annotated-cell-31-17"></a>    <span class="bu">print</span>(<span class="st">"Calcolo in corso..."</span>)</span>
<span id="annotated-cell-31-18"><a href="#annotated-cell-31-18"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="15" onclick="event.preventDefault();">15</a><span id="annotated-cell-31-19" class="code-annotation-target"><a href="#annotated-cell-31-19"></a>    <span class="cf">return</span> <span class="dv">42</span></span>
<span id="annotated-cell-31-20"><a href="#annotated-cell-31-20"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="16" onclick="event.preventDefault();">16</a><span id="annotated-cell-31-21" class="code-annotation-target"><a href="#annotated-cell-31-21"></a>d <span class="op">=</span> DatiComplessi()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="17" onclick="event.preventDefault();">17</a><span id="annotated-cell-31-22" class="code-annotation-target"><a href="#annotated-cell-31-22"></a><span class="bu">print</span>(d.calcolo_costoso)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="18" onclick="event.preventDefault();">18</a><span id="annotated-cell-31-23" class="code-annotation-target"><a href="#annotated-cell-31-23"></a><span class="bu">print</span>(d.calcolo_costoso)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-31" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="1" data-code-annotation="1">Definisce un descrittore <code>CachedProperty</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="2" data-code-annotation="2">Inizializzazione del descrittore con una funzione.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="3" data-code-annotation="3">Memorizza la funzione.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="4" data-code-annotation="4">Memorizza il valore.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="5" data-code-annotation="5">Flag per indicare se il valore è memorizzato nella cache.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="7" data-code-annotation="6">Metodo <code>__get__</code> del descrittore per ottenere il valore.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="8" data-code-annotation="7">Controlla se il valore è memorizzato nella cache.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="9" data-code-annotation="8">Calcola il valore e lo memorizza nella cache se non è presente.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="10" data-code-annotation="9">Imposta il flag di cache.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="12" data-code-annotation="10">Restituisce il valore memorizzato nella cache.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="14" data-code-annotation="11">Definisce una classe <code>DatiComplessi</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="15" data-code-annotation="12">Utilizza <code>CachedProperty</code> per decorare un metodo.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="16" data-code-annotation="13">Definisce un metodo <code>calcolo_costoso</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="17" data-code-annotation="14">Stampa un messaggio durante il calcolo.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="15">15</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="19" data-code-annotation="15">Restituisce un valore.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="16">16</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="21" data-code-annotation="16">Creazione di un’istanza della classe <code>DatiComplessi</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="17">17</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="22" data-code-annotation="17">Chiama <code>calcolo_costoso</code> e stampa il risultato (calcola e memorizza nella cache).</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="18">18</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="23" data-code-annotation="18">Chiama <code>calcolo_costoso</code> e stampa il risultato (usa il valore memorizzato nella cache).</span>
</dd>
</dl>
</section>
</section>
<section id="decoratori" class="level2" data-number="18.11">
<h2 data-number="18.11" class="anchored" data-anchor-id="decoratori"><span class="header-section-number">18.11</span> Decoratori</h2>
<p>I decoratori in Python sono funzioni che modificano il comportamento di altre funzioni o metodi. Sono utili per estendere la funzionalità di funzioni o metodi senza modificarne il codice.</p>
<p>Esempio di decoratore:</p>
<div class="sourceCode" id="annotated-cell-32"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1"></a><span class="kw">def</span> mio_decoratore(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-32-2" class="code-annotation-target"><a href="#annotated-cell-32-2"></a>  <span class="kw">def</span> wrapper():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-32-3" class="code-annotation-target"><a href="#annotated-cell-32-3"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa prima della funzione"</span>)</span>
<span id="annotated-cell-32-4"><a href="#annotated-cell-32-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-32-5" class="code-annotation-target"><a href="#annotated-cell-32-5"></a>    f()</span>
<span id="annotated-cell-32-6"><a href="#annotated-cell-32-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-32-7" class="code-annotation-target"><a href="#annotated-cell-32-7"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa dopo la funzione"</span>)</span>
<span id="annotated-cell-32-8"><a href="#annotated-cell-32-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-32-9" class="code-annotation-target"><a href="#annotated-cell-32-9"></a>  <span class="cf">return</span> wrapper</span>
<span id="annotated-cell-32-10"><a href="#annotated-cell-32-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-32-11" class="code-annotation-target"><a href="#annotated-cell-32-11"></a><span class="at">@mio_decoratore</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-32-12" class="code-annotation-target"><a href="#annotated-cell-32-12"></a><span class="kw">def</span> di_ciao():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-32-13" class="code-annotation-target"><a href="#annotated-cell-32-13"></a>  <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-32-14"><a href="#annotated-cell-32-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-32-15" class="code-annotation-target"><a href="#annotated-cell-32-15"></a>di_ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="1">Definizione del decoratore <code>mio_decoratore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>wrapper</code> interna.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="3" data-code-annotation="3">Stampa di un messaggio prima della chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="5" data-code-annotation="4">Chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="7" data-code-annotation="5">Stampa di un messaggio dopo la chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="9" data-code-annotation="6">Restituzione della funzione <code>wrapper</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="11" data-code-annotation="7">Applicazione del decoratore <code>mio_decoratore</code> alla funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="12" data-code-annotation="8">Definizione della funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="13" data-code-annotation="9">Stampa del messaggio <code>Ciao!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="15" data-code-annotation="10">Chiamata della funzione <code>di_ciao</code> decorata. Output:</span>
</dd>
</dl>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>Qualcosa prima della funzione</span>
<span id="cb1-2"><a href="#cb1-2"></a>Ciao<span class="op">!</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>Qualcosa dopo la funzione</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>L’analogo del codice precedente senza l’uso della sintassi di decorazione <code>@</code>, esplicita ciò che avviene dietro le quinte:</p>
<div class="sourceCode" id="annotated-cell-34"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-34-1" class="code-annotation-target"><a href="#annotated-cell-34-1"></a><span class="kw">def</span> mio_decoratore(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-34-2" class="code-annotation-target"><a href="#annotated-cell-34-2"></a>  <span class="kw">def</span> wrapper():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-34-3" class="code-annotation-target"><a href="#annotated-cell-34-3"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa prima della funzione"</span>)</span>
<span id="annotated-cell-34-4"><a href="#annotated-cell-34-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-34-5" class="code-annotation-target"><a href="#annotated-cell-34-5"></a>    f()</span>
<span id="annotated-cell-34-6"><a href="#annotated-cell-34-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-34-7" class="code-annotation-target"><a href="#annotated-cell-34-7"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa dopo la funzione"</span>)</span>
<span id="annotated-cell-34-8"><a href="#annotated-cell-34-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-34-9" class="code-annotation-target"><a href="#annotated-cell-34-9"></a>  <span class="cf">return</span> wrapper</span>
<span id="annotated-cell-34-10"><a href="#annotated-cell-34-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-34-11" class="code-annotation-target"><a href="#annotated-cell-34-11"></a><span class="kw">def</span> di_ciao():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-34-12" class="code-annotation-target"><a href="#annotated-cell-34-12"></a>  <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-34-13"><a href="#annotated-cell-34-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-34-14" class="code-annotation-target"><a href="#annotated-cell-34-14"></a>di_ciao <span class="op">=</span> mio_decoratore(di_ciao)</span>
<span id="annotated-cell-34-15"><a href="#annotated-cell-34-15"></a></span>
<span id="annotated-cell-34-16"><a href="#annotated-cell-34-16"></a>di_ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-34" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="1" data-code-annotation="1">Definizione del decoratore <code>mio_decoratore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>wrapper</code> interna.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="3" data-code-annotation="3">Stampa di un messaggio prima della chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="5" data-code-annotation="4">Chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="7" data-code-annotation="5">Stampa di un messaggio dopo la chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="9" data-code-annotation="6">Restituzione della funzione <code>wrapper</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="11" data-code-annotation="7">Definizione della funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="12" data-code-annotation="8">Stampa del messaggio <code>Ciao!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="14" data-code-annotation="9">Applicazione</span>
</dd>
</dl>
<p>del decoratore <code>mio_decoratore</code> alla funzione <code>di_ciao</code> assegnando <code>di_ciao</code> alla funzione <code>wrapper</code> restituita. 10. Chiamata della funzione <code>di_ciao</code> decorata. Output: <code>python   Qualcosa prima della funzione   Ciao!   Qualcosa dopo la funzione</code></p>
<p>Nel primo esempio, la sintassi <code>@mio_decoratore</code> applica il decoratore alla funzione <code>di_ciao</code> direttamente sopra la definizione della funzione. Nel secondo esempio, il decoratore <code>mio_decoratore</code> viene applicato esplicitamente assegnando <code>di_ciao</code> alla funzione <code>wrapper</code> restituita dal decoratore. Entrambi gli approcci producono lo stesso risultato, ma il secondo esempio mostra chiaramente come tutte le volte che chiamo la funzione devo modificare la sintassi mentre usando il decoratore nella definizione della funzione, ho una sola variazione che non impatta i codici che utilizzano la <code>di_ciao()</code>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiato!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiato!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./terza-parte.html" class="pagination-link" aria-label="Terza parte: Python orientato agli oggetti">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Terza parte: Python orientato agli oggetti</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./terza-parte-python-moduli.html" class="pagination-link" aria-label="Moduli">
        <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Moduli</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="./antonio.html">
<p>Antonio Montano</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="./come-collaborare.html">
<p>Come collaborare</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://4m4.it">
<p>4m4</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/antomon/corso-python/edit/main/terza-parte-python-programmazione-orientata-agli-oggetti.qmd" class="toc-action"><i class="bi bi-github"></i>Modifica questa pagina</a></li><li><a href="https://github.com/antomon/corso-python/blob/main/terza-parte-python-programmazione-orientata-agli-oggetti.qmd" class="toc-action"><i class="bi empty"></i>Mostra il codice</a></li><li><a href="https://github.com/antomon/corso-python/issues/new/choose" class="toc-action"><i class="bi empty"></i>Segnala un problema</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>
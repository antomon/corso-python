<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>15&nbsp; Programmazione orientata agli oggetti – Da neofita di Python a campione</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./terza-parte-python-moduli.html" rel="next">
<link href="./terza-parte.html" rel="prev">
<link href="./red-python-logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.0/full/pyodide.js"></script>


<meta property="og:title" content="Da neofita di Python a campione - 15&nbsp; Programmazione orientata agli oggetti">
<meta property="og:description" content="">
<meta property="og:site_name" content="Da neofita di Python a campione">
<meta name="twitter:title" content="Da neofita di Python a campione - 15&nbsp; Programmazione orientata agli oggetti">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@antomon">
<meta name="twitter:site" content="@antomon">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Da neofita di Python a campione</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text">Prefazione</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://4m4.it/"> 
<span class="menu-text">4M4</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/antomon/corso-python" title="Eseguire il codice" class="quarto-navigation-tool px-1" aria-label="Eseguire il codice"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Da-neofita-di-Python-a-campione.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Da-neofita-di-Python-a-campione.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Attiva/disattiva la modalità oscura"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Attiva/disattiva la barra laterale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./terza-parte.html">Terza parte: Python orientato agli oggetti</a></li><li class="breadcrumb-item"><a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Attiva/disattiva la barra laterale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefazione</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./prima-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prima parte: I fondamenti della programmazione</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-linguaggi-programmazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">I linguaggi di programmazione, i programmi e i programmatori</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-paradigmi-programmazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">I paradigmi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-sintassi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">La sintassi dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-variabili-funzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Le variabili e le funzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-modello-dati.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Il modello dati dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-altri-concetti-semantici.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Altri concetti semantici dei linguaggi di programmazione</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./seconda-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seconda parte: Le basi di Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-introduzione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduzione a Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-installazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Scaricare e installare Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-sintassi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">La sintassi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-modello-dati.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Il modello dati</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-istruzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Istruzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-funzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Funzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-esercizi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Esercizi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-esercitazione-uno.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Esercitazione 1: analisi di un dataset di vendite</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./terza-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Terza parte: Python orientato agli oggetti</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-moduli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Moduli</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-esercitazione-uno.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Esercitazione 1: web app con Flask</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Quarta parte: Python avanzato</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Quinta parte: strumenti</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendici</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendice-riferimenti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Riferimenti</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Indice</h2>
   
  <ul>
  <li><a href="#classi-e-istanze" id="toc-classi-e-istanze" class="nav-link active" data-scroll-target="#classi-e-istanze"><span class="header-section-number">15.1</span> Classi e istanze</a>
  <ul class="collapse">
  <li><a href="#listruzione-class" id="toc-listruzione-class" class="nav-link" data-scroll-target="#listruzione-class"><span class="header-section-number">15.1.1</span> L’istruzione <code>class</code></a></li>
  <li><a href="#il-parametro-self" id="toc-il-parametro-self" class="nav-link" data-scroll-target="#il-parametro-self"><span class="header-section-number">15.1.2</span> Il parametro <code>self</code></a></li>
  <li><a href="#oggetti" id="toc-oggetti" class="nav-link" data-scroll-target="#oggetti"><span class="header-section-number">15.1.3</span> Oggetti</a></li>
  </ul></li>
  <li><a href="#il-corpo-della-classe" id="toc-il-corpo-della-classe" class="nav-link" data-scroll-target="#il-corpo-della-classe"><span class="header-section-number">15.2</span> Il corpo della classe</a>
  <ul class="collapse">
  <li><a href="#attributi-degli-oggetti-classe" id="toc-attributi-degli-oggetti-classe" class="nav-link" data-scroll-target="#attributi-degli-oggetti-classe"><span class="header-section-number">15.2.1</span> Attributi degli oggetti classe</a></li>
  <li><a href="#definizioni-di-funzioni-nel-corpo-di-una-classe" id="toc-definizioni-di-funzioni-nel-corpo-di-una-classe" class="nav-link" data-scroll-target="#definizioni-di-funzioni-nel-corpo-di-una-classe"><span class="header-section-number">15.2.2</span> Definizioni di funzioni nel corpo di una classe</a></li>
  <li><a href="#variabili-private-della-classe" id="toc-variabili-private-della-classe" class="nav-link" data-scroll-target="#variabili-private-della-classe"><span class="header-section-number">15.2.3</span> Variabili private della classe</a></li>
  <li><a href="#stringhe-di-documentazione-della-classe" id="toc-stringhe-di-documentazione-della-classe" class="nav-link" data-scroll-target="#stringhe-di-documentazione-della-classe"><span class="header-section-number">15.2.4</span> Stringhe di documentazione della classe</a></li>
  <li><a href="#descrittori" id="toc-descrittori" class="nav-link" data-scroll-target="#descrittori"><span class="header-section-number">15.2.5</span> Descrittori</a></li>
  </ul></li>
  <li><a href="#istanze" id="toc-istanze" class="nav-link" data-scroll-target="#istanze"><span class="header-section-number">15.3</span> Istanze</a>
  <ul class="collapse">
  <li><a href="#init__" id="toc-init__" class="nav-link" data-scroll-target="#init__"><span class="header-section-number">15.3.1</span> <code>__init__</code></a></li>
  <li><a href="#attributi-degli-oggetti-istanza" id="toc-attributi-degli-oggetti-istanza" class="nav-link" data-scroll-target="#attributi-degli-oggetti-istanza"><span class="header-section-number">15.3.2</span> Attributi degli oggetti istanza</a></li>
  </ul></li>
  <li><a href="#riferimenti-agli-attributi" id="toc-riferimenti-agli-attributi" class="nav-link" data-scroll-target="#riferimenti-agli-attributi"><span class="header-section-number">15.4</span> Riferimenti agli attributi</a></li>
  <li><a href="#metodi-vincolati-e-non-vincolati" id="toc-metodi-vincolati-e-non-vincolati" class="nav-link" data-scroll-target="#metodi-vincolati-e-non-vincolati"><span class="header-section-number">15.5</span> Metodi vincolati e non vincolati</a></li>
  <li><a href="#ereditarietà" id="toc-ereditarietà" class="nav-link" data-scroll-target="#ereditarietà"><span class="header-section-number">15.6</span> Ereditarietà</a></li>
  <li><a href="#metodi-speciali" id="toc-metodi-speciali" class="nav-link" data-scroll-target="#metodi-speciali"><span class="header-section-number">15.7</span> Metodi speciali</a></li>
  <li><a href="#metodi-di-classe-e-metodi-statici" id="toc-metodi-di-classe-e-metodi-statici" class="nav-link" data-scroll-target="#metodi-di-classe-e-metodi-statici"><span class="header-section-number">15.8</span> Metodi di classe e metodi statici</a></li>
  <li><a href="#decoratori" id="toc-decoratori" class="nav-link" data-scroll-target="#decoratori"><span class="header-section-number">15.9</span> Decoratori</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/antomon/corso-python/edit/main/terza-parte-python-programmazione-orientata-agli-oggetti.qmd" class="toc-action"><i class="bi bi-github"></i>Modifica questa pagina</a></li><li><a href="https://github.com/antomon/corso-python/issues/new/choose" class="toc-action"><i class="bi empty"></i>Segnala un problema</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./terza-parte.html">Terza parte: Python orientato agli oggetti</a></li><li class="breadcrumb-item"><a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Python è un linguaggio di programmazione orientato agli oggetti. A differenza di altri linguaggi orientati agli oggetti, tuttavia, Python non costringe ad utilizzare esclusivamente il paradigma orientato agli oggetti: supporta anche la programmazione procedurale, con moduli e funzioni, consentendo di scegliere il miglior paradigma per ogni parte del programma.</p>
<p>Il paradigma orientato agli oggetti aiuta a raggruppare stato (dati) e comportamento (codice) in comode unità di funzionalità. Inoltre, offre alcuni meccanismi specializzati utili, come l’ereditarietà e i metodi speciali. L’approccio procedurale più semplice, basato su moduli e funzioni, può essere più adatto quando non è necessario sfruttare i vantaggi della programmazione orientata agli oggetti. Con Python, possiamo combinare e mescolare paradigmi.</p>
<p>Certo, ho incorporato i cambiamenti necessari per migliorare la chiarezza e introdurre la differenza tra membri della classe e membri delle istanze, con esempi di codice appropriati.</p>
<hr>
<section id="classi-e-istanze" class="level2" data-number="15.1">
<h2 data-number="15.1" class="anchored" data-anchor-id="classi-e-istanze"><span class="header-section-number">15.1</span> Classi e istanze</h2>
<p>Una classe è un tipo definibile dall’utente, che possiamo istanziare per costruire istanze, ovvero oggetti di quel tipo. Python supporta questo attraverso le sue classi e oggetti istanza.</p>
<section id="listruzione-class" class="level3" data-number="15.1.1">
<h3 data-number="15.1.1" class="anchored" data-anchor-id="listruzione-class"><span class="header-section-number">15.1.1</span> L’istruzione <code>class</code></h3>
<p>L’istruzione <code>class</code> è il modo più usuale per definire un oggetto classe. <code>class</code> è un’istruzione composta a singola clausola con la seguente sintassi:</p>
<div class="sourceCode" id="annotated-cell-1"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-1" class="code-annotation-target"><a href="#annotated-cell-1-1"></a><span class="kw">class</span> NomeClasse(classi<span class="op">-</span>base, <span class="op">*</span>, <span class="op">**</span>kw):</span>
<span id="annotated-cell-1-2"><a href="#annotated-cell-1-2"></a>  istruzione(i)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="1" data-code-annotation="1">Testata della definizione di classe:</span>
</dd>
</dl>
<ul>
<li><code>NomeClasse</code> è un identificatore, cioè una variabile che la definizione <code>class</code>, quando completata, associa (o riassocia) all’oggetto classe appena creato. Le convenzioni di denominazione Python consigliano di utilizzare la convenzione del cammello per i nomi delle classi, come <code>Elemento</code>, <code>UtentePrivilegiato</code>, <code>StrutturaMultiUso</code>, ecc.</li>
<li><code>classi-base</code> è una serie di espressioni delimitate da virgole i cui valori sono oggetti classe. Vari linguaggi di programmazione utilizzano nomi diversi per questi oggetti classe: possiamo chiamarli basi, superclasse o genitori della classe. Possiamo dire che la classe creata eredita da, deriva da, estende o sottoclasse le sue classi base; in questo capitolo, generalmente usiamo il termine estendere. Questa classe è una sottoclasse diretta o discendente delle sue classi base. <code>**kw</code> può includere un argomento denominato <code>metaclass</code> per stabilire la metaclasse della classe.</li>
<li>La definizione di una classe crea un oggetto classe, proprio come la definizione di una funzione crea un oggetto funzione. L’oggetto classe ha tipo <code>type</code>, da non confondere con la funzione predefinita <code>type()</code>. Quando si chiama una classe come se fosse una funzione, avviene l’istanziazione, che crea un nuovo oggetto istanza della classe con un tipo corrispondente alla classe stessa.</li>
</ul>
<ol start="2" type="1">
<li>Corpo della definizione della classe composto di istruzioni di definizione di membri della classe. Queste possono includere la definizione di attributi, metodi e altre classi.</li>
</ol>
<p>Esempio di definizione di una classe:</p>
<div class="sourceCode" id="annotated-cell-2"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-2-1" class="code-annotation-target"><a href="#annotated-cell-2-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-2-2" class="code-annotation-target"><a href="#annotated-cell-2-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-2-3" class="code-annotation-target"><a href="#annotated-cell-2-3"></a>        <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-2-4"><a href="#annotated-cell-2-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-2-5" class="code-annotation-target"><a href="#annotated-cell-2-5"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-2-6"><a href="#annotated-cell-2-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-2-7" class="code-annotation-target"><a href="#annotated-cell-2-7"></a><span class="bu">print</span>(<span class="bu">type</span>(MiaClasse))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-2-8" class="code-annotation-target"><a href="#annotated-cell-2-8"></a><span class="bu">print</span>(<span class="bu">type</span>(istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="7" data-code-annotation="5">Stampa il tipo di <code>MiaClasse</code>, che sarà <code>&lt;class 'type'&gt;</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="8" data-code-annotation="6">Stampa il tipo di <code>istanza</code>, che sarà <code>&lt;class '__main__.MiaClasse'&gt;</code>.</span>
</dd>
</dl>
</section>
<section id="il-parametro-self" class="level3" data-number="15.1.2">
<h3 data-number="15.1.2" class="anchored" data-anchor-id="il-parametro-self"><span class="header-section-number">15.1.2</span> Il parametro <code>self</code></h3>
<p>In Python, i metodi delle classi richiedono un parametro speciale <code>self</code> come primo parametro. Questo parametro rappresenta l’istanza della classe ed è usato per accedere agli attributi e ai metodi dell’istanza. La differenza fondamentale tra membri della classe e membri delle istanze è che i membri della classe sono condivisi tra tutte le istanze, mentre i membri delle istanze sono specifici per ciascuna istanza.</p>
<p>Esempio di membri della classe e membri delle istanze:</p>
<div class="sourceCode" id="annotated-cell-3"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-3-1" class="code-annotation-target"><a href="#annotated-cell-3-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-3-2" class="code-annotation-target"><a href="#annotated-cell-3-2"></a>    attributo_classe <span class="op">=</span> <span class="st">"Valore di classe"</span></span>
<span id="annotated-cell-3-3"><a href="#annotated-cell-3-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-3-4" class="code-annotation-target"><a href="#annotated-cell-3-4"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-3-5" class="code-annotation-target"><a href="#annotated-cell-3-5"></a>        <span class="va">self</span>.attributo_istanza <span class="op">=</span> valore</span>
<span id="annotated-cell-3-6"><a href="#annotated-cell-3-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-3-7" class="code-annotation-target"><a href="#annotated-cell-3-7"></a>    <span class="kw">def</span> mostra_attributi(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-3-8" class="code-annotation-target"><a href="#annotated-cell-3-8"></a>        <span class="cf">return</span> <span class="ss">f"Classe: </span><span class="sc">{</span>MiaClasse<span class="sc">.</span>attributo_classe<span class="sc">}</span><span class="ss">, Istanza: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>attributo_istanza<span class="sc">}</span><span class="ss">"</span></span>
<span id="annotated-cell-3-9"><a href="#annotated-cell-3-9"></a></span>
<span id="annotated-cell-3-10"><a href="#annotated-cell-3-10"></a><span class="co"># Creazione di due istanze della classe</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-3-11" class="code-annotation-target"><a href="#annotated-cell-3-11"></a>istanza1 <span class="op">=</span> MiaClasse(<span class="st">"Valore 1"</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-3-12" class="code-annotation-target"><a href="#annotated-cell-3-12"></a>istanza2 <span class="op">=</span> MiaClasse(<span class="st">"Valore 2"</span>)</span>
<span id="annotated-cell-3-13"><a href="#annotated-cell-3-13"></a></span>
<span id="annotated-cell-3-14"><a href="#annotated-cell-3-14"></a><span class="co"># Accesso agli attributi della classe e delle istanze</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-3-15" class="code-annotation-target"><a href="#annotated-cell-3-15"></a><span class="bu">print</span>(MiaClasse.attributo_classe)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-3-16" class="code-annotation-target"><a href="#annotated-cell-3-16"></a><span class="bu">print</span>(istanza1.attributo_classe)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-3-17" class="code-annotation-target"><a href="#annotated-cell-3-17"></a><span class="bu">print</span>(istanza1.attributo_istanza)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-3-18" class="code-annotation-target"><a href="#annotated-cell-3-18"></a><span class="bu">print</span>(istanza2.attributo_istanza)</span>
<span id="annotated-cell-3-19"><a href="#annotated-cell-3-19"></a></span>
<span id="annotated-cell-3-20"><a href="#annotated-cell-3-20"></a><span class="co"># Chiamata ai metodi delle istanze</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-3-21" class="code-annotation-target"><a href="#annotated-cell-3-21"></a><span class="bu">print</span>(istanza1.mostra_attributi())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-3-22" class="code-annotation-target"><a href="#annotated-cell-3-22"></a><span class="bu">print</span>(istanza2.mostra_attributi())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="2" data-code-annotation="2">Definisce un attributo di classe <code>attributo_classe</code> con valore <code>Valore di classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="4" data-code-annotation="3">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="5" data-code-annotation="4">Associa un valore all’attributo <code>attributo_istanza</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="7" data-code-annotation="5">Definisce un metodo <code>mostra_attributi</code> per mostrare gli attributi.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="8" data-code-annotation="6">Il metodo <code>mostra_attributi</code> restituisce una stringa con gli attributi di classe e di istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="11" data-code-annotation="7">Crea un’istanza della classe <code>MiaClasse</code> con valore <code>Valore 1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="12" data-code-annotation="8">Crea un’istanza della classe <code>MiaClasse</code> con valore <code>Valore 2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="15" data-code-annotation="9">Stampa il valore dell’attributo di classe <code>attributo_classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="16" data-code-annotation="10">Stampa il valore dell’attributo di classe <code>attributo_classe</code> dall’istanza <code>istanza1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="17" data-code-annotation="11">Stampa il valore dell’attributo di istanza <code>attributo_istanza</code> per <code>istanza1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="18" data-code-annotation="12">Stampa il valore dell’attributo di istanza <code>attributo_istanza</code> per <code>istanza2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="21" data-code-annotation="13">Chiama il metodo <code>mostra_attributi</code> sull’istanza <code>istanza1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="22" data-code-annotation="14">Chiama il metodo <code>mostra_attributi</code> sull’istanza <code>istanza2</code>.</span>
</dd>
</dl>
</section>
<section id="oggetti" class="level3" data-number="15.1.3">
<h3 data-number="15.1.3" class="anchored" data-anchor-id="oggetti"><span class="header-section-number">15.1.3</span> Oggetti</h3>
<p>Una classe è un oggetto Python con le seguenti caratteristiche:</p>
<ul>
<li><p>La definizione di una classe crea un oggetto classe, proprio come la definizione di una funzione crea un oggetto funzione. L’oggetto classe ha tipo <code>type</code>, da non confondere con la funzione predefinita <code>type()</code>. Quando si chiama una classe come se fosse una funzione, avviene l’istanziazione, che crea un nuovo oggetto istanza della classe con un tipo corrispondente alla classe stessa.</p>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-28"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-28-1" class="code-annotation-target"><a href="#annotated-cell-28-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-28-2" class="code-annotation-target"><a href="#annotated-cell-28-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-28-3" class="code-annotation-target"><a href="#annotated-cell-28-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-28-4"><a href="#annotated-cell-28-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-28-5" class="code-annotation-target"><a href="#annotated-cell-28-5"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-28-6"><a href="#annotated-cell-28-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-28-7" class="code-annotation-target"><a href="#annotated-cell-28-7"></a><span class="bu">print</span>(<span class="bu">type</span>(MiaClasse))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-28-8" class="code-annotation-target"><a href="#annotated-cell-28-8"></a><span class="bu">print</span>(<span class="bu">type</span>(istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="7" data-code-annotation="5">Stampa il tipo di <code>MiaClasse</code>, che sarà <code>&lt;class 'type'&gt;</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="8" data-code-annotation="6">Stampa il tipo di <code>istanza</code>, che sarà <code>&lt;class '__main__.MiaClasse'&gt;</code>.</span>
</dd>
</dl></li>
<li><p>Una classe ha membri con nomi arbitrari che possiamo associare e referenziare:</p>
<div class="sourceCode" id="annotated-cell-29"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-29-1" class="code-annotation-target"><a href="#annotated-cell-29-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-29-2" class="code-annotation-target"><a href="#annotated-cell-29-2"></a>  primo_attributo <span class="op">=</span> <span class="st">"esempio"</span></span>
<span id="annotated-cell-29-3"><a href="#annotated-cell-29-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-29-4" class="code-annotation-target"><a href="#annotated-cell-29-4"></a><span class="bu">print</span>(MiaClasse.primo_attributo)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-29" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="2" data-code-annotation="2">Associa un attributo di classe <code>primo_attributo</code> con valore <code>esempio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="4" data-code-annotation="3">Stampa il valore dell’attributo di classe <code>primo_attributo</code>.</span>
</dd>
</dl></li>
<li><p>I membri della classe possono essere metodi (funzioni) o dati ordinari (variabili):</p>
<div class="sourceCode" id="annotated-cell-30"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-30-2" class="code-annotation-target"><a href="#annotated-cell-30-2"></a>  primo_attributo <span class="op">=</span> <span class="st">"esempio"</span></span>
<span id="annotated-cell-30-3"><a href="#annotated-cell-30-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-30-4" class="code-annotation-target"><a href="#annotated-cell-30-4"></a>  <span class="kw">def</span> primo_metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-30-5" class="code-annotation-target"><a href="#annotated-cell-30-5"></a>    <span class="cf">return</span> <span class="st">"Ciao, mondo!"</span></span>
<span id="annotated-cell-30-6"><a href="#annotated-cell-30-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-30-7" class="code-annotation-target"><a href="#annotated-cell-30-7"></a><span class="bu">print</span>(MiaClasse.primo_attributo)</span>
<span id="annotated-cell-30-8"><a href="#annotated-cell-30-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-30-9" class="code-annotation-target"><a href="#annotated-cell-30-9"></a>mia_istanza <span class="op">=</span> MiaClasse()</span>
<span id="annotated-cell-30-10"><a href="#annotated-cell-30-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-30-11" class="code-annotation-target"><a href="#annotated-cell-30-11"></a><span class="bu">print</span>(mia_istanza.primo_metodo())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-30-12" class="code-annotation-target"><a href="#annotated-cell-30-12"></a><span class="bu">print</span>(MiaClasse.primo_metodo(mia_istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="2" data-code-annotation="2">Definisce un attributo di classe <code>primo_attributo</code> con valore <code>esempio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="4" data-code-annotation="3">Definisce un metodo <code>primo_metodo</code> con un parametro <code>self</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="5" data-code-annotation="4">Il metodo <code>primo_metodo</code> restituisce una stringa <code>Ciao, mondo!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="7" data-code-annotation="5">Stampa il valore dell’attributo di classe <code>primo_attributo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="9" data-code-annotation="6">Crea un’istanza della classe <code>MiaClasse</code> e la associa a <code>mia_istanza</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="11" data-code-annotation="7">Chiama il metodo <code>primo_metodo</code> sull’istanza <code>mia_istanza</code>. Python passa automaticamente <code>mia_istanza</code> come argomento per <code>self</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="12" data-code-annotation="8">Chiama il metodo <code>primo_metodo</code> direttamente sulla classe <code>MiaClasse</code>, passando esplicitamente <code>mia_istanza</code> come argomento per <code>self</code>.</span>
</dd>
</dl></li>
<li><p>Gli attributi della classe associati a funzioni sono noti anche come metodi della classe:</p>
<div class="sourceCode" id="annotated-cell-31"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-31-1" class="code-annotation-target"><a href="#annotated-cell-31-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-31-2" class="code-annotation-target"><a href="#annotated-cell-31-2"></a>  <span class="kw">def</span> primo_metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-31-3" class="code-annotation-target"><a href="#annotated-cell-31-3"></a>    <span class="cf">return</span> <span class="st">"Questo è un metodo"</span></span>
<span id="annotated-cell-31-4"><a href="#annotated-cell-31-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-31-5" class="code-annotation-target"><a href="#annotated-cell-31-5"></a>istanza <span class="op">=</span> MiaClasse()</span>
<span id="annotated-cell-31-6"><a href="#annotated-cell-31-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-31-7" class="code-annotation-target"><a href="#annotated-cell-31-7"></a><span class="bu">print</span>(istanza.primo_metodo())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-31" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="2" data-code-annotation="2">Definisce un metodo <code>primo_metodo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="3" data-code-annotation="3">Il metodo <code>primo_metodo</code> restituisce una stringa <code>Questo è un metodo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="7" data-code-annotation="5">Chiama il metodo <code>primo_metodo</code> sull’istanza e stampa il risultato.</span>
</dd>
</dl></li>
<li><p>Un metodo può avere uno dei tanti nomi definiti da Python con due trattini bassi all’inizio e alla fine (noti come nomi dunder, abbreviazione di “double-underscore names” - ad esempio, il nome <code>__init__</code> è pronunciato “dunder init”). Python chiama implicitamente questi metodi speciali, quando una classe li fornisce, quando si verificano vari tipi di operazioni su quella classe o sulle sue istanze.</p>
<div class="sourceCode" id="annotated-cell-32"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-32-2" class="code-annotation-target"><a href="#annotated-cell-32-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-32-3" class="code-annotation-target"><a href="#annotated-cell-32-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-32-4"><a href="#annotated-cell-32-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-32-5" class="code-annotation-target"><a href="#annotated-cell-32-5"></a>  <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-32-6" class="code-annotation-target"><a href="#annotated-cell-32-6"></a>    <span class="cf">return</span> <span class="ss">f"MiaClasse con valore </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>valore<span class="sc">}</span><span class="ss">"</span></span>
<span id="annotated-cell-32-7"><a href="#annotated-cell-32-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-32-8" class="code-annotation-target"><a href="#annotated-cell-32-8"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-32-9"><a href="#annotated-cell-32-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-32-10" class="code-annotation-target"><a href="#annotated-cell-32-10"></a><span class="bu">print</span>(istanza)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="5" data-code-annotation="4">Definisce il metodo speciale <code>__str__</code> per la rappresentazione stringa.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="6" data-code-annotation="5"><code>__str__</code> restituisce una stringa rappresentativa dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="8" data-code-annotation="6">Crea un’istanza della classe <code>MiaClasse</code> con valore <code>10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="10" data-code-annotation="7">Stampa la rappresentazione stringa dell’istanza, chiamando implicitamente <code>__str__</code>.</span>
</dd>
</dl></li>
<li><p>Una classe può ereditare da una o più classi, il che significa che delega ad altri oggetti classe la ricerca di alcuni attributi (inclusi metodi regolari e dunder) che non sono nella classe stessa.</p>
<div class="sourceCode" id="annotated-cell-33"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-33-1" class="code-annotation-target"><a href="#annotated-cell-33-1"></a><span class="kw">class</span> ClasseBase:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-33-2" class="code-annotation-target"><a href="#annotated-cell-33-2"></a>  <span class="kw">def</span> metodo_base(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-33-3" class="code-annotation-target"><a href="#annotated-cell-33-3"></a>    <span class="cf">return</span> <span class="st">"Metodo base"</span></span>
<span id="annotated-cell-33-4"><a href="#annotated-cell-33-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-33-5" class="code-annotation-target"><a href="#annotated-cell-33-5"></a><span class="kw">class</span> ClasseDerivata(ClasseBase):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-33-6" class="code-annotation-target"><a href="#annotated-cell-33-6"></a>  <span class="kw">def</span> metodo_derivato(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-33-7" class="code-annotation-target"><a href="#annotated-cell-33-7"></a>    <span class="cf">return</span> <span class="st">"Metodo derivato"</span></span>
<span id="annotated-cell-33-8"><a href="#annotated-cell-33-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-33-9" class="code-annotation-target"><a href="#annotated-cell-33-9"></a>istanza <span class="op">=</span> ClasseDerivata()</span>
<span id="annotated-cell-33-10"><a href="#annotated-cell-33-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-33-11" class="code-annotation-target"><a href="#annotated-cell-33-11"></a><span class="bu">print</span>(istanza.metodo_base())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-33-12" class="code-annotation-target"><a href="#annotated-cell-33-12"></a><span class="bu">print</span>(istanza.metodo_derivato())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-33" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>ClasseBase</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="2" data-code-annotation="2">Definisce un metodo <code>metodo_base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="3" data-code-annotation="3"><code>metodo_base</code> restituisce una stringa “Metodo base”.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="5" data-code-annotation="4">Definisce una classe <code>ClasseDerivata</code> che eredita da <code>ClasseBase</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="6" data-code-annotation="5">Definisce un metodo <code>metodo_derivato</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="7" data-code-annotation="6"><code>metodo_derivato</code> restituisce una stringa “Metodo derivato”.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="9" data-code-annotation="7">Crea un’istanza della classe <code>ClasseDerivata</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="11" data-code-annotation="8">Chiama il metodo <code>metodo_base</code> ereditato dall’istanza e stampa il risultato.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="12" data-code-annotation="9">Chiama il metodo <code>metodo_derivato</code> dell’istanza e stampa il risultato.</span>
</dd>
</dl></li>
</ul>
<p>Un’istanza di una classe è un oggetto Python con attributi con nomi arbitrari che possiamo associare e referenziare. Ogni oggetto istanza delega la ricerca degli attributi alla sua classe per qualsiasi attributo non trovato nell’istanza stessa. La classe, a sua volta, può delegare la ricerca alle classi da cui eredita, se presenti.</p>
<div class="sourceCode" id="annotated-cell-4"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-1" class="code-annotation-target"><a href="#annotated-cell-4-1"></a><span class="kw">class</span> MiaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-4-2" class="code-annotation-target"><a href="#annotated-cell-4-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-4-3" class="code-annotation-target"><a href="#annotated-cell-4-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-4-4"><a href="#annotated-cell-4-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-4-5" class="code-annotation-target"><a href="#annotated-cell-4-5"></a>istanza <span class="op">=</span> MiaClasse(<span class="dv">10</span>)</span>
<span id="annotated-cell-4-6"><a href="#annotated-cell-4-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-4-7" class="code-annotation-target"><a href="#annotated-cell-4-7"></a><span class="bu">print</span>(istanza.valore)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="1" data-code-annotation="1">Definisce una classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="2" data-code-annotation="2">Definisce il metodo speciale <code>__init__</code> per l’inizializzazione.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="3" data-code-annotation="3">Associa un valore all’attributo <code>valore</code> dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="5" data-code-annotation="4">Crea un’istanza della classe <code>MiaClasse</code> con valore 10.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="7" data-code-annotation="5">Stampa il valore dell’attributo <code>valore</code> dell’istanza.</span>
</dd>
</dl>
<p>In Python, le classi sono oggetti (valori), gestiti proprio come altri oggetti. Possiamo passare una classe come argomento in una chiamata a una funzione e una funzione può restituire una classe come risultato di una chiamata. Possiamo associare una classe a una variabile, a un elemento in un contenitore o a un attributo di un oggetto. Le classi possono anche essere chiavi in un dizionario. Poiché le classi sono oggetti perfettamente ordinari in Python, spesso diciamo che le classi sono oggetti di prima classe.</p>
<div class="sourceCode" id="annotated-cell-5"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-5-1" class="code-annotation-target"><a href="#annotated-cell-5-1"></a><span class="kw">def</span> crea_classe():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-5-2" class="code-annotation-target"><a href="#annotated-cell-5-2"></a>  <span class="kw">class</span> NuovaClasse:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-5-3" class="code-annotation-target"><a href="#annotated-cell-5-3"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-5-4"><a href="#annotated-cell-5-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-5-5" class="code-annotation-target"><a href="#annotated-cell-5-5"></a>  <span class="cf">return</span> NuovaClasse</span>
<span id="annotated-cell-5-6"><a href="#annotated-cell-5-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-5-7" class="code-annotation-target"><a href="#annotated-cell-5-7"></a>MiaClasse <span class="op">=</span> crea_classe()</span>
<span id="annotated-cell-5-8"><a href="#annotated-cell-5-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-5-9" class="code-annotation-target"><a href="#annotated-cell-5-9"></a>istanza <span class="op">=</span> MiaClasse()</span>
<span id="annotated-cell-5-10"><a href="#annotated-cell-5-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-5-11" class="code-annotation-target"><a href="#annotated-cell-5-11"></a><span class="bu">print</span>(<span class="bu">type</span>(istanza))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="1" data-code-annotation="1">Definisce una funzione <code>crea_classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="2" data-code-annotation="2">Definisce una classe <code>NuovaClasse</code> all’interno della funzione.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="3" data-code-annotation="3"><code>pass</code> indica che il corpo della classe è vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="5" data-code-annotation="4">Restituisce la classe <code>NuovaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="7" data-code-annotation="5">Chiama la funzione <code>crea_classe</code> e associa la classe risultante a <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="9" data-code-annotation="6">Crea un’istanza della classe <code>MiaClasse</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="11" data-code-annotation="7">Stampa il tipo dell’istanza, che sarà <code>&lt;class '__main__.crea_classe.&lt;locals&gt;.NuovaClasse'&gt;</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="il-corpo-della-classe" class="level2" data-number="15.2">
<h2 data-number="15.2" class="anchored" data-anchor-id="il-corpo-della-classe"><span class="header-section-number">15.2</span> Il corpo della classe</h2>
<p>Il corpo di una classe è dove normalmente specifichiamo gli attributi della classe; questi attributi possono essere oggetti descrittori (incluse funzioni) o oggetti dati ordinari di qualsiasi tipo. Un attributo di una classe può essere un’altra classe, quindi, ad esempio, possiamo avere una dichiarazione di classe “nidificata” all’interno di un’altra dichiarazione di classe.</p>
<section id="attributi-degli-oggetti-classe" class="level3" data-number="15.2.1">
<h3 data-number="15.2.1" class="anchored" data-anchor-id="attributi-degli-oggetti-classe"><span class="header-section-number">15.2.1</span> Attributi degli oggetti classe</h3>
<p>Di solito specifichiamo un attributo di un oggetto classe associando un valore a un identificatore all’interno del corpo della classe. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-6"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-6-1" class="code-annotation-target"><a href="#annotated-cell-6-1"></a><span class="kw">class</span> C1:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-6-2" class="code-annotation-target"><a href="#annotated-cell-6-2"></a>  x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-6-3"><a href="#annotated-cell-6-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-6-4" class="code-annotation-target"><a href="#annotated-cell-6-4"></a><span class="bu">print</span>(C1.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="2" data-code-annotation="2">L’attributo <code>x</code> della classe <code>C1</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="4" data-code-annotation="3">Stampa del valore dell’attributo x della classe <code>C1</code>.</span>
</dd>
</dl>
<p>Possiamo anche associare o disassociare attributi della classe al di fuori del corpo della classe. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-7"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-7-1" class="code-annotation-target"><a href="#annotated-cell-7-1"></a><span class="kw">class</span> C2:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-7-2" class="code-annotation-target"><a href="#annotated-cell-7-2"></a>  <span class="cf">pass</span></span>
<span id="annotated-cell-7-3"><a href="#annotated-cell-7-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-7-4" class="code-annotation-target"><a href="#annotated-cell-7-4"></a>C2.x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-7-5"><a href="#annotated-cell-7-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-7-6" class="code-annotation-target"><a href="#annotated-cell-7-6"></a><span class="bu">print</span>(C2.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="2" data-code-annotation="2">Corpo della classe vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="4" data-code-annotation="3">Associazione dell’attributo x della classe <code>C2</code> al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="6" data-code-annotation="4">Stampa del valore dell’attributo <code>x</code> della classe <code>C2</code>.</span>
</dd>
</dl>
<p>Il nostro programma è solitamente più leggibile se associamo attributi della classe solo con istruzioni all’interno del corpo della classe. Tuttavia, riassociarli altrove può essere necessario se vogliamo mantenere informazioni di stato a livello di classe, piuttosto che a livello di istanza; Python ci permette di farlo, se lo desideriamo. Non c’è differenza tra un attributo di classe associato nel corpo della classe e uno associato o riassociato al di fuori del corpo associando un attributo.</p>
<p>Come discuteremo a breve, tutte le istanze della classe condividono tutti gli attributi della classe.</p>
<p>L’istruzione della classe implicitamente imposta alcuni attributi della classe. L’attributo <code>__name__</code> è la stringa dell’identificatore NomeClasse utilizzato nella dichiarazione della classe. L’attributo <code>__bases__</code> è la tupla di oggetti classe forniti (o impliciti) come classi base nella dichiarazione della classe. Per esempio, utilizzando la classe C1 appena creata:</p>
<div class="sourceCode" id="annotated-cell-8"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-8-1" class="code-annotation-target"><a href="#annotated-cell-8-1"></a><span class="bu">print</span>(C1.<span class="va">__name__</span>, C1.__bases__)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="1" data-code-annotation="1">Stampa del nome della classe e delle classi base.</span>
</dd>
</dl>
<p>Una classe ha anche un attributo chiamato <code>__dict__</code>, che è la mappatura di sola lettura che la classe utilizza per mantenere altri attributi (noto anche, informalmente, come spazio dei nomi della classe).</p>
<p>Nelle istruzioni direttamente nel corpo di una classe, i riferimenti agli attributi della classe devono utilizzare un nome semplice, non un nome completamente qualificato. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-9"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-9-1" class="code-annotation-target"><a href="#annotated-cell-9-1"></a><span class="kw">class</span> C3:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-9-2" class="code-annotation-target"><a href="#annotated-cell-9-2"></a>  x <span class="op">=</span> <span class="dv">23</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-9-3" class="code-annotation-target"><a href="#annotated-cell-9-3"></a>  y <span class="op">=</span> x <span class="op">+</span> <span class="dv">22</span></span>
<span id="annotated-cell-9-4"><a href="#annotated-cell-9-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-9-5" class="code-annotation-target"><a href="#annotated-cell-9-5"></a><span class="bu">print</span>(C3.y)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C3</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="2" data-code-annotation="2">L’attributo x della classe <code>C3</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="3" data-code-annotation="3">L’attributo y della classe <code>C3</code> è associato alla somma di <code>x</code> e <code>22</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="5" data-code-annotation="4">Stampa del valore dell’attributo <code>y</code> della classe <code>C3</code>.</span>
</dd>
</dl>
<p>Tuttavia, nelle istruzioni all’interno dei metodi definiti in un corpo di classe, i riferimenti agli attributi della classe devono utilizzare un nome completamente qualificato, non un nome semplice. Per esempio:</p>
<div class="sourceCode" id="annotated-cell-10"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-10-1" class="code-annotation-target"><a href="#annotated-cell-10-1"></a><span class="kw">class</span> C4:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-10-2" class="code-annotation-target"><a href="#annotated-cell-10-2"></a>  x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-10-3"><a href="#annotated-cell-10-3"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-10-4" class="code-annotation-target"><a href="#annotated-cell-10-4"></a>  <span class="kw">def</span> metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-10-5" class="code-annotation-target"><a href="#annotated-cell-10-5"></a>    <span class="bu">print</span>(C4.x)</span>
<span id="annotated-cell-10-6"><a href="#annotated-cell-10-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-10-7" class="code-annotation-target"><a href="#annotated-cell-10-7"></a>c <span class="op">=</span> C4()</span>
<span id="annotated-cell-10-8"><a href="#annotated-cell-10-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-10-9" class="code-annotation-target"><a href="#annotated-cell-10-9"></a>c.metodo()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="2" data-code-annotation="2">L’attributo x della classe <code>C4</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="4" data-code-annotation="3">Definizione di un metodo della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="5" data-code-annotation="4">Stampa del valore dell’attributo <code>x</code> della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="7" data-code-annotation="5">Creazione di un’istanza della classe <code>C4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="9" data-code-annotation="6">Chiamata del metodo dell’istanza <code>c</code>.</span>
</dd>
</dl>
</section>
<section id="definizioni-di-funzioni-nel-corpo-di-una-classe" class="level3" data-number="15.2.2">
<h3 data-number="15.2.2" class="anchored" data-anchor-id="definizioni-di-funzioni-nel-corpo-di-una-classe"><span class="header-section-number">15.2.2</span> Definizioni di funzioni nel corpo di una classe</h3>
<p>La maggior parte dei corpi delle classi include alcune istruzioni <code>def</code>, poiché le funzioni (note come metodi in questo contesto) sono importanti attributi per la maggior parte delle istanze delle classi. Un’istruzione <code>def</code> in un corpo di classe obbedisce alle regole viste per le funzioni ordinarie. Inoltre, un metodo definito in un corpo di classe ha un parametro obbligatorio come primo parametro, convenzionalmente sempre chiamato <code>self</code>, che si riferisce all’istanza su cui chiamiamo il metodo. Il parametro <code>self</code> gioca un ruolo speciale nelle chiamate ai metodi.</p>
<p>Ecco un esempio di una classe che include una definizione di metodo:</p>
<div class="sourceCode" id="annotated-cell-11"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-11-1" class="code-annotation-target"><a href="#annotated-cell-11-1"></a><span class="kw">class</span> C5:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-11-2" class="code-annotation-target"><a href="#annotated-cell-11-2"></a>  <span class="kw">def</span> ciao(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-11-3" class="code-annotation-target"><a href="#annotated-cell-11-3"></a>    <span class="bu">print</span>(<span class="st">'Ciao'</span>)</span>
<span id="annotated-cell-11-4"><a href="#annotated-cell-11-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-11-5" class="code-annotation-target"><a href="#annotated-cell-11-5"></a>c <span class="op">=</span> C5()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-11-6" class="code-annotation-target"><a href="#annotated-cell-11-6"></a>c.ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="2" data-code-annotation="2">Definizione di un metodo della classe <code>C5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="3" data-code-annotation="3">Stampa del messaggio <code>Ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="5" data-code-annotation="4">Creazione di un’istanza della classe <code>C5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="6" data-code-annotation="5">Chiamata del metodo <code>ciao()</code> dell’istanza <code>c</code>.</span>
</dd>
</dl>
<p>Una classe può definire una varietà di metodi speciali dunder relativi a operazioni specifiche sulle sue istanze. Discuteremo questi metodi in dettaglio nella sezione “Metodi Speciali”.</p>
</section>
<section id="variabili-private-della-classe" class="level3" data-number="15.2.3">
<h3 data-number="15.2.3" class="anchored" data-anchor-id="variabili-private-della-classe"><span class="header-section-number">15.2.3</span> Variabili private della classe</h3>
<p>Quando un’istruzione in un corpo di classe (o in un metodo nel corpo) utilizza un identificatore che inizia (ma non termina) con due trattini bassi, come <code>__ident</code>, Python cambia implicitamente l’identificatore in <code>_NomeClasse__ident</code>, dove <code>NomeClasse</code> è il nome della classe. Questo cambiamento implicito consente a una classe di utilizzare nomi “privati” per attributi, metodi, variabili globali e altri scopi, riducendo il rischio di duplicare accidentalmente i nomi utilizzati altrove (particolarmente nelle sottoclassi).</p>
<p>Per convenzione, gli identificatori che iniziano con un trattino basso sono privati all’ambito che li associa, che tale ambito sia o meno una classe. Il compilatore Python non impone questa convenzione di privacy: è responsabilità dei programmatori rispettarla.</p>
</section>
<section id="stringhe-di-documentazione-della-classe" class="level3" data-number="15.2.4">
<h3 data-number="15.2.4" class="anchored" data-anchor-id="stringhe-di-documentazione-della-classe"><span class="header-section-number">15.2.4</span> Stringhe di documentazione della classe</h3>
<p>Se la prima istruzione nel corpo della classe è un letterale stringa, il compilatore associa quella stringa come stringa di documentazione (o docstring) per la classe. La docstring per la classe è disponibile nell’attributo <code>__doc__</code>; se la prima istruzione nel corpo della classe non è un letterale stringa, il suo valore è <code>None</code>.</p>
<p>Esempio di docstring di una classe:</p>
<div class="sourceCode" id="annotated-cell-12"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1"></a><span class="kw">class</span> C6:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-12-2" class="code-annotation-target"><a href="#annotated-cell-12-2"></a>  <span class="co">"""Questa è una classe di esempio."""</span></span>
<span id="annotated-cell-12-3"><a href="#annotated-cell-12-3"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-12-4" class="code-annotation-target"><a href="#annotated-cell-12-4"></a>  <span class="kw">def</span> metodo(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-12-5" class="code-annotation-target"><a href="#annotated-cell-12-5"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-12-6"><a href="#annotated-cell-12-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-12-7" class="code-annotation-target"><a href="#annotated-cell-12-7"></a><span class="bu">print</span>(C6.__doc__)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="2" data-code-annotation="2">Stringa di documentazione della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="4" data-code-annotation="3">Definizione di un metodo della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="5" data-code-annotation="4">Corpo del metodo vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="7" data-code-annotation="5">Stampa della docstring della classe <code>C6</code>.</span>
</dd>
</dl>
</section>
<section id="descrittori" class="level3" data-number="15.2.5">
<h3 data-number="15.2.5" class="anchored" data-anchor-id="descrittori"><span class="header-section-number">15.2.5</span> Descrittori</h3>
<p>Un descrittore è un oggetto la cui classe fornisce uno o più metodi speciali chiamati <code>__get__</code>, <code>__set__</code> o <code>__delete__</code>. I descrittori che sono attributi di classe controllano la semantica di accesso e impostazione degli attributi sulle istanze di quella classe.</p>
<p>Esempio di un descrittore:</p>
<div class="sourceCode" id="annotated-cell-13"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-13-1" class="code-annotation-target"><a href="#annotated-cell-13-1"></a><span class="kw">class</span> Const:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-13-2" class="code-annotation-target"><a href="#annotated-cell-13-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, value):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-13-3" class="code-annotation-target"><a href="#annotated-cell-13-3"></a>    <span class="va">self</span>.__dict__[<span class="st">'value'</span>] <span class="op">=</span> value</span>
<span id="annotated-cell-13-4"><a href="#annotated-cell-13-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-13-5" class="code-annotation-target"><a href="#annotated-cell-13-5"></a>  <span class="kw">def</span> <span class="fu">__set__</span>(<span class="va">self</span>, <span class="op">*</span>_):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-13-6" class="code-annotation-target"><a href="#annotated-cell-13-6"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-13-7"><a href="#annotated-cell-13-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-13-8" class="code-annotation-target"><a href="#annotated-cell-13-8"></a>  <span class="kw">def</span> <span class="fu">__get__</span>(<span class="va">self</span>, <span class="op">*</span>_):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-13-9" class="code-annotation-target"><a href="#annotated-cell-13-9"></a>    <span class="cf">return</span> <span class="va">self</span>.__dict__[<span class="st">'value'</span>]</span>
<span id="annotated-cell-13-10"><a href="#annotated-cell-13-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-13-11" class="code-annotation-target"><a href="#annotated-cell-13-11"></a>  <span class="kw">def</span> <span class="fu">__delete__</span>(<span class="va">self</span>, <span class="op">*</span>_):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-13-12" class="code-annotation-target"><a href="#annotated-cell-13-12"></a>    <span class="cf">pass</span></span>
<span id="annotated-cell-13-13"><a href="#annotated-cell-13-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-13-14" class="code-annotation-target"><a href="#annotated-cell-13-14"></a><span class="kw">class</span> X:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-13-15" class="code-annotation-target"><a href="#annotated-cell-13-15"></a>  c <span class="op">=</span> Const(<span class="dv">23</span>)</span>
<span id="annotated-cell-13-16"><a href="#annotated-cell-13-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-13-17" class="code-annotation-target"><a href="#annotated-cell-13-17"></a>x <span class="op">=</span> X()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-13-18" class="code-annotation-target"><a href="#annotated-cell-13-18"></a><span class="bu">print</span>(x.c)</span>
<span id="annotated-cell-13-19"><a href="#annotated-cell-13-19"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-13-20" class="code-annotation-target"><a href="#annotated-cell-13-20"></a>x.c <span class="op">=</span> <span class="dv">42</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="15" onclick="event.preventDefault();">15</a><span id="annotated-cell-13-21" class="code-annotation-target"><a href="#annotated-cell-13-21"></a><span class="bu">print</span>(x.c)</span>
<span id="annotated-cell-13-22"><a href="#annotated-cell-13-22"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="16" onclick="event.preventDefault();">16</a><span id="annotated-cell-13-23" class="code-annotation-target"><a href="#annotated-cell-13-23"></a><span class="kw">del</span> x.c</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="17" onclick="event.preventDefault();">17</a><span id="annotated-cell-13-24" class="code-annotation-target"><a href="#annotated-cell-13-24"></a><span class="bu">print</span>(x.c)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-13" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Const</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="2" data-code-annotation="2">Inizializzazione del descrittore con un valore.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="3" data-code-annotation="3">Memorizzazione del valore nel dizionario dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="5" data-code-annotation="4">Metodo <code>__set__</code> del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="6" data-code-annotation="5">Ignora qualsiasi tentativo di impostazione del valore.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="8" data-code-annotation="6">Metodo <code>__get__</code> del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="9" data-code-annotation="7">Restituisce il valore memorizzato nel dizionario dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="11" data-code-annotation="8">Metodo <code>__delete__</code> del descrittore.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="12" data-code-annotation="9">Ignora qualsiasi tentativo di eliminazione del valore.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="14" data-code-annotation="10">Definizione della classe <code>X</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="15" data-code-annotation="11">L’attributo c della classe <code>X</code> è un descrittore di tipo <code>Const</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="17" data-code-annotation="12">Creazione di un’istanza della classe <code>X</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="18" data-code-annotation="13">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="20" data-code-annotation="14">Tentativo di impostazione del valore dell’attributo <code>c</code> dell’istanza <code>x</code> (ignorato).</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="15">15</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="21" data-code-annotation="15">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="16">16</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="23" data-code-annotation="16">Tentativo di eliminazione dell’attributo <code>c</code> dell’istanza <code>x</code> (ignorato).</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="17">17</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="24" data-code-annotation="17">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>x</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="istanze" class="level2" data-number="15.3">
<h2 data-number="15.3" class="anchored" data-anchor-id="istanze"><span class="header-section-number">15.3</span> Istanze</h2>
<p>Per creare un’istanza di una classe, chiamiamo l’oggetto classe come se fosse una funzione. Ogni chiamata restituisce una nuova istanza il cui tipo è quella classe:</p>
<div class="sourceCode" id="annotated-cell-14"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-14-1" class="code-annotation-target"><a href="#annotated-cell-14-1"></a>un_istanza <span class="op">=</span> C5()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="1" data-code-annotation="1">Creazione di un’istanza della classe <code>C5</code>.</span>
</dd>
</dl>
<p>La funzione predefinita <code>isinstance(i, C)</code>, con una classe come argomento <code>C</code>, restituisce <code>True</code> quando <code>i</code> è un’istanza della classe <code>C</code> o di qualsiasi sottoclasse di <code>C</code>. Altrimenti, <code>isinstance</code> restituisce <code>False</code>. Se <code>C</code> è una tupla di tipi (o più tipi uniti utilizzando l’operatore <code>|</code>), <code>isinstance</code> restituisce <code>True</code> se <code>i</code> è un’istanza o sottoclasse di uno dei tipi dati, e <code>False</code> altrimenti.</p>
<section id="init__" class="level3" data-number="15.3.1">
<h3 data-number="15.3.1" class="anchored" data-anchor-id="init__"><span class="header-section-number">15.3.1</span> <code>__init__</code></h3>
<p>Quando una classe definisce o eredita un metodo chiamato <code>__init__</code>, chiamare l’oggetto classe esegue <code>__init__</code> sulla nuova istanza per eseguire l’inizializzazione per istanza. Gli argomenti passati nella chiamata devono corrispondere ai parametri di <code>__init__</code>, eccetto per il parametro <code>self</code>. Per esempio, consideriamo la seguente definizione di classe:</p>
<div class="sourceCode" id="annotated-cell-15"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-15-1" class="code-annotation-target"><a href="#annotated-cell-15-1"></a><span class="kw">class</span> C6:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-15-2" class="code-annotation-target"><a href="#annotated-cell-15-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, n):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-15-3" class="code-annotation-target"><a href="#annotated-cell-15-3"></a>    <span class="va">self</span>.x <span class="op">=</span> n</span>
<span id="annotated-cell-15-4"><a href="#annotated-cell-15-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-15-5" class="code-annotation-target"><a href="#annotated-cell-15-5"></a>un_altra_istanza <span class="op">=</span> C6(<span class="dv">42</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C6</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="2" data-code-annotation="2">Definizione del metodo <code>__init__</code> con il parametro <code>n</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="3" data-code-annotation="3">Associazione dell’attributo <code>x</code> al valore del parametro <code>n</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="5" data-code-annotation="4">Creazione di un’istanza della classe <code>C6</code> con il valore <code>42</code> per il parametro <code>n</code>.</span>
</dd>
</dl>
<p>Il metodo <code>__init__</code> di solito contiene istruzioni che associano attributi di istanza. Un metodo <code>__init__</code> non deve restituire un valore diverso da <code>None</code>; se lo fa, Python solleva un’eccezione <code>TypeError</code>.</p>
</section>
<section id="attributi-degli-oggetti-istanza" class="level3" data-number="15.3.2">
<h3 data-number="15.3.2" class="anchored" data-anchor-id="attributi-degli-oggetti-istanza"><span class="header-section-number">15.3.2</span> Attributi degli oggetti istanza</h3>
<p>Una volta creata un’istanza, possiamo accedere ai suoi attributi (dati e metodi) utilizzando l’operatore punto <code>.</code>.</p>
<div class="sourceCode" id="annotated-cell-16"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-16-1" class="code-annotation-target"><a href="#annotated-cell-16-1"></a>un_istanza.ciao()</span>
<span id="annotated-cell-16-2"><a href="#annotated-cell-16-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-16-3" class="code-annotation-target"><a href="#annotated-cell-16-3"></a><span class="bu">print</span>(un_altra_istanza.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-16" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="1" data-code-annotation="1">Chiamata del metodo <code>ciao</code> dell’istanza <code>un_istanza</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="3" data-code-annotation="2">Stampa del valore dell’attributo <code>x</code> dell’istanza <code>un_altra_istanza</code>.</span>
</dd>
</dl>
<p>Possiamo dare a un oggetto istanza un attributo associando un valore a un riferimento di attributo.</p>
<div class="sourceCode" id="annotated-cell-17"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-17-1" class="code-annotation-target"><a href="#annotated-cell-17-1"></a><span class="kw">class</span> C7:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-17-2" class="code-annotation-target"><a href="#annotated-cell-17-2"></a>  <span class="cf">pass</span></span>
<span id="annotated-cell-17-3"><a href="#annotated-cell-17-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-17-4" class="code-annotation-target"><a href="#annotated-cell-17-4"></a>z <span class="op">=</span> C7()</span>
<span id="annotated-cell-17-5"><a href="#annotated-cell-17-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-17-6" class="code-annotation-target"><a href="#annotated-cell-17-6"></a>z.x <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-17-7"><a href="#annotated-cell-17-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-17-8" class="code-annotation-target"><a href="#annotated-cell-17-8"></a><span class="bu">print</span>(z.x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-17" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C7</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="2" data-code-annotation="2">Corpo della classe vuoto.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="4" data-code-annotation="3">Creazione di un’istanza della classe <code>C7</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="6" data-code-annotation="4">Associazione dell’attributo <code>x</code> dell’istanza <code>z</code> al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="8" data-code-annotation="5">Stampa del valore dell’attributo <code>x</code> dell’istanza <code>z</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="riferimenti-agli-attributi" class="level2" data-number="15.4">
<h2 data-number="15.4" class="anchored" data-anchor-id="riferimenti-agli-attributi"><span class="header-section-number">15.4</span> Riferimenti agli attributi</h2>
<p>Un riferimento a un attributo è un’espressione della forma <code>x.nome</code>, dove <code>x</code> è qualsiasi espressione e <code>nome</code> è un identificatore chiamato nome dell’attributo. Molti oggetti Python hanno attributi, ma un riferimento a un attributo ha una semantica speciale e ricca quando <code>x</code> si riferisce a una classe o a un’istanza. I metodi sono attributi, quindi tutto ciò che diciamo sugli attributi in generale si applica anche agli attributi chiamabili (cioè, metodi).</p>
<p>Quando utilizziamo la sintassi <code>x.nome</code> per riferirci a un attributo di un’istanza <code>x</code> di una classe <code>C</code>, la ricerca dell’attributo procede in tre passi:</p>
<ol type="1">
<li><p>Attributo nell’istanza: Se <code>'nome'</code> è una chiave in <code>x.__dict__</code>, <code>x.nome</code> restituisce il valore associato a quella chiave. Questo è il caso più semplice e veloce.</p></li>
<li><p>Attributo nella classe o nelle sue basi: Se <code>'nome'</code> non è una chiave in <code>x.__dict__</code>, la ricerca dell’attributo procede nella classe di <code>x</code> (<code>x.__class__</code>) e nelle sue basi, seguendo l’ordine di risoluzione dei metodi (Method Resolution Order, MRO). Durante questa ricerca:</p>
<ul>
<li><p>Se l’attributo è un descrittore non sovrascrivente (ovvero, un descrittore che implementa solo il metodo <code>__get__</code>), viene restituito il valore del descrittore stesso.</p></li>
<li><p>Se l’attributo è un descrittore sovrascrivente (ovvero, un descrittore che implementa i metodi <code>__get__</code> e <code>__set__</code>), viene chiamato il metodo <code>__get__</code> del descrittore, che restituisce il valore dell’attributo.</p></li>
<li><p>Se l’attributo non è un descrittore, viene restituito il valore associato all’attributo.</p></li>
</ul></li>
<li><p>Metodo <code>__getattr__</code>: Se l’attributo non è trovato né nell’istanza né nella classe e nelle sue basi, viene chiamato il metodo speciale <code>__getattr__</code>, se definito. Questo metodo può fornire un valore di ritorno per l’attributo o sollevare un’eccezione <code>AttributeError</code>.</p></li>
</ol>
<p>Esempio di riferimento agli attributi:</p>
<div class="sourceCode" id="annotated-cell-18"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-18-1" class="code-annotation-target"><a href="#annotated-cell-18-1"></a><span class="kw">class</span> Base:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-18-2" class="code-annotation-target"><a href="#annotated-cell-18-2"></a>  a <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-18-3"><a href="#annotated-cell-18-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-18-4" class="code-annotation-target"><a href="#annotated-cell-18-4"></a><span class="kw">class</span> Derivata(Base):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-18-5" class="code-annotation-target"><a href="#annotated-cell-18-5"></a>  b <span class="op">=</span> <span class="dv">45</span></span>
<span id="annotated-cell-18-6"><a href="#annotated-cell-18-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-18-7" class="code-annotation-target"><a href="#annotated-cell-18-7"></a>d <span class="op">=</span> Derivata()</span>
<span id="annotated-cell-18-8"><a href="#annotated-cell-18-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-18-9" class="code-annotation-target"><a href="#annotated-cell-18-9"></a>d.c <span class="op">=</span> <span class="dv">67</span></span>
<span id="annotated-cell-18-10"><a href="#annotated-cell-18-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-18-11" class="code-annotation-target"><a href="#annotated-cell-18-11"></a><span class="bu">print</span>(d.a)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-18-12" class="code-annotation-target"><a href="#annotated-cell-18-12"></a><span class="bu">print</span>(d.b)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-18-13" class="code-annotation-target"><a href="#annotated-cell-18-13"></a><span class="bu">print</span>(d.c)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-18" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="2" data-code-annotation="2">L’attributo <code>a</code> della classe <code>Base</code> è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="4" data-code-annotation="3">Definizione della classe <code>Derivata</code> che eredita da <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="5" data-code-annotation="4">L’attributo <code>b</code> della classe <code>Derivata</code> è associato al valore <code>45</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="7" data-code-annotation="5">Creazione di un’istanza della classe <code>Derivata</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="9" data-code-annotation="6">Associazione dell’attributo <code>c</code> dell’istanza <code>d</code> al valore <code>67</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="11" data-code-annotation="7">Stampa del valore dell’attributo <code>a</code> dell’istanza <code>d</code>, trovato nella classe base. Output: <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="12" data-code-annotation="8">Stampa del valore dell’attributo <code>b</code> dell’istanza <code>d</code>, trovato nella classe derivata. Output: <code>45</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="13" data-code-annotation="9">Stampa del valore dell’attributo <code>c</code> dell’istanza <code>d</code>, trovato nell’istanza stessa. Output: <code>67</code>.</span>
</dd>
</dl>
<p>Questo esempio illustra come la ricerca di un attributo procede dall’istanza alla classe e, infine, alle basi della classe.</p>
</section>
<section id="metodi-vincolati-e-non-vincolati" class="level2" data-number="15.5">
<h2 data-number="15.5" class="anchored" data-anchor-id="metodi-vincolati-e-non-vincolati"><span class="header-section-number">15.5</span> Metodi vincolati e non vincolati</h2>
<p>Il metodo <code>__get__</code> di un oggetto funzione può restituire l’oggetto funzione stesso o un oggetto metodo vincolato che avvolge la funzione; un metodo vincolato è associato all’istanza specifica da cui è ottenuto. Un metodo vincolato è un’istanza di un metodo che è legato a un oggetto particolare, il che significa che può essere chiamato senza dover passare l’oggetto come parametro. Al contrario, un metodo non vincolato non è legato a un’istanza e deve essere esplicitamente passato un oggetto come parametro.</p>
<p>Quando un metodo è chiamato su un’istanza di una classe, Python crea un metodo vincolato, che ha un riferimento implicito all’istanza, passato come il primo argomento <code>self</code>. Questo permette al metodo di accedere agli attributi e ad altri metodi della classe tramite <code>self</code>.</p>
<p>Esempio di metodo vincolato:</p>
<div class="sourceCode" id="annotated-cell-19"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-19-1" class="code-annotation-target"><a href="#annotated-cell-19-1"></a><span class="kw">class</span> C8:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-19-2" class="code-annotation-target"><a href="#annotated-cell-19-2"></a>  <span class="kw">def</span> saluta(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-19-3" class="code-annotation-target"><a href="#annotated-cell-19-3"></a>    <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-19-4"><a href="#annotated-cell-19-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-19-5" class="code-annotation-target"><a href="#annotated-cell-19-5"></a>x <span class="op">=</span> C8()</span>
<span id="annotated-cell-19-6"><a href="#annotated-cell-19-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-19-7" class="code-annotation-target"><a href="#annotated-cell-19-7"></a>metodo_vincolato <span class="op">=</span> x.saluta</span>
<span id="annotated-cell-19-8"><a href="#annotated-cell-19-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-19-9" class="code-annotation-target"><a href="#annotated-cell-19-9"></a>metodo_vincolato()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-19" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C8</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="2" data-code-annotation="2">Definizione di un metodo della classe <code>C8</code> chiamato <code>saluta</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="3" data-code-annotation="3">Il metodo <code>saluta</code> stampa il messaggio <code>"Ciao!"</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="5" data-code-annotation="4">Creazione di un’istanza della classe <code>C8</code> e assegnazione a <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="7" data-code-annotation="5">Ottenimento di un metodo vincolato dall’istanza <code>x</code> e assegnazione a <code>metodo_vincolato</code>. Questo passo associa il metodo <code>saluta</code> all’istanza <code>x</code>, creando un metodo vincolato.</span>
</dd>
<dt data-target-cell="annotated-cell-19" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="9" data-code-annotation="6">Chiamata del metodo vincolato. Questa chiamata è equivalente a <code>x.saluta()</code> e stampa <code>"Ciao!"</code>.</span>
</dd>
</dl>
<p>Quando <code>metodo_vincolato</code> è chiamato, non c’è bisogno di passare <code>x</code> come argomento perché <code>x</code> è già legato al metodo vincolato. Questo è ciò che rende i metodi vincolati potenti e comodi da usare.</p>
<p>In contrasto, un metodo non vincolato può essere ottenuto dalla classe stessa. In tal caso, è necessario passare esplicitamente l’istanza come primo argomento.</p>
<p>Esempio di metodo non vincolato:</p>
<div class="sourceCode" id="annotated-cell-20"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-20-1" class="code-annotation-target"><a href="#annotated-cell-20-1"></a>metodo_non_vincolato <span class="op">=</span> C8.saluta</span>
<span id="annotated-cell-20-2"><a href="#annotated-cell-20-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-20-3" class="code-annotation-target"><a href="#annotated-cell-20-3"></a>metodo_non_vincolato(x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-20" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="1" data-code-annotation="1">Ottenimento di un metodo non vincolato dalla classe <code>C8</code> e assegnazione a <code>metodo_non_vincolato</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-20" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="3" data-code-annotation="2">Chiamata del metodo non vincolato, passando esplicitamente l’istanza <code>x</code> come argomento. Questo passo è necessario per fornire il contesto (<code>self</code>) per il metodo, poiché <code>metodo_non_vincolato</code> non è legato a nessuna istanza.</span>
</dd>
</dl>
<p>In sintesi, i metodi vincolati consentono di chiamare metodi di istanza senza dover passare esplicitamente l’istanza, rendendo il codice più pulito e intuitivo.</p>
</section>
<section id="ereditarietà" class="level2" data-number="15.6">
<h2 data-number="15.6" class="anchored" data-anchor-id="ereditarietà"><span class="header-section-number">15.6</span> Ereditarietà</h2>
<p>Quando utilizziamo un riferimento a un attributo <code>C.nome</code> su un oggetto classe <code>C</code>, e <code>nome</code> non è una chiave in <code>C.__dict__</code>, la ricerca procede implicitamente su ogni oggetto classe che è in <code>C.__bases__</code> in un ordine specifico (noto storicamente come ordine di risoluzione dei metodi, o MRO, ma che in realtà si applica a tutti gli attributi, non solo ai metodi). Le classi base di <code>C</code> possono a loro volta avere le proprie basi. La ricerca controlla gli antenati diretti e indiretti, uno per uno, nell’MRO, fermandosi quando <code>nome</code> viene trovato.</p>
<p>Esempio di ereditarietà:</p>
<div class="sourceCode" id="annotated-cell-21"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-21-1" class="code-annotation-target"><a href="#annotated-cell-21-1"></a><span class="kw">class</span> Base:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-21-2" class="code-annotation-target"><a href="#annotated-cell-21-2"></a>  a <span class="op">=</span> <span class="dv">23</span></span>
<span id="annotated-cell-21-3"><a href="#annotated-cell-21-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-21-4" class="code-annotation-target"><a href="#annotated-cell-21-4"></a>  <span class="kw">def</span> saluta(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-21-5" class="code-annotation-target"><a href="#annotated-cell-21-5"></a>    <span class="bu">print</span>(<span class="st">"Ciao dal Base"</span>)</span>
<span id="annotated-cell-21-6"><a href="#annotated-cell-21-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-21-7" class="code-annotation-target"><a href="#annotated-cell-21-7"></a><span class="kw">class</span> Derivata(Base):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-21-8" class="code-annotation-target"><a href="#annotated-cell-21-8"></a>  b <span class="op">=</span> <span class="dv">45</span></span>
<span id="annotated-cell-21-9"><a href="#annotated-cell-21-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-21-10" class="code-annotation-target"><a href="#annotated-cell-21-10"></a>d <span class="op">=</span> Derivata()</span>
<span id="annotated-cell-21-11"><a href="#annotated-cell-21-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-21-12" class="code-annotation-target"><a href="#annotated-cell-21-12"></a><span class="bu">print</span>(d.a)</span>
<span id="annotated-cell-21-13"><a href="#annotated-cell-21-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-21-14" class="code-annotation-target"><a href="#annotated-cell-21-14"></a>d.saluta()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-21" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="2" data-code-annotation="2">L’attributo <code>a</code> della classe Base è associato al valore <code>23</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="4" data-code-annotation="3">Definizione di un metodo della classe <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="5" data-code-annotation="4">Stampa del messaggio <code>Ciao dal Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="7" data-code-annotation="5">Definizione della classe Derivata che eredita da <code>Base</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="8" data-code-annotation="6">L’attributo <code>b</code> della classe Derivata è associato al valore <code>45</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="10" data-code-annotation="7">Creazione di un’istanza della classe <code>Derivata</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="12" data-code-annotation="8">Stampa del valore dell’attributo <code>a</code> dell’istanza <code>d</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="14" data-code-annotation="9">Chiamata del metodo <code>saluta</code> dell’istanza <code>d</code>.</span>
</dd>
</dl>
</section>
<section id="metodi-speciali" class="level2" data-number="15.7">
<h2 data-number="15.7" class="anchored" data-anchor-id="metodi-speciali"><span class="header-section-number">15.7</span> Metodi speciali</h2>
<p>I metodi speciali in Python sono metodi con due trattini bassi all’inizio e alla fine del loro nome (dunder). Questi metodi vengono chiamati implicitamente in determinate situazioni. Ad esempio, il metodo <code>__init__</code> viene chiamato quando viene creata una nuova istanza di una classe.</p>
<p>Esempio di metodo speciale:</p>
<div class="sourceCode" id="annotated-cell-22"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-22-1" class="code-annotation-target"><a href="#annotated-cell-22-1"></a><span class="kw">class</span> C9:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-22-2" class="code-annotation-target"><a href="#annotated-cell-22-2"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, valore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-22-3" class="code-annotation-target"><a href="#annotated-cell-22-3"></a>    <span class="va">self</span>.valore <span class="op">=</span> valore</span>
<span id="annotated-cell-22-4"><a href="#annotated-cell-22-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-22-5" class="code-annotation-target"><a href="#annotated-cell-22-5"></a>  <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-22-6" class="code-annotation-target"><a href="#annotated-cell-22-6"></a>    <span class="cf">return</span> <span class="ss">f"C9 con valore: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>valore<span class="sc">}</span><span class="ss">"</span></span>
<span id="annotated-cell-22-7"><a href="#annotated-cell-22-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-22-8" class="code-annotation-target"><a href="#annotated-cell-22-8"></a>c <span class="op">=</span> C9(<span class="dv">10</span>)</span>
<span id="annotated-cell-22-9"><a href="#annotated-cell-22-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-22-10" class="code-annotation-target"><a href="#annotated-cell-22-10"></a><span class="bu">print</span>(c)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-22" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C9</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="2" data-code-annotation="2">Definizione del metodo <code>__init__</code> con il parametro <code>valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="3" data-code-annotation="3">Associazione dell’attributo <code>valore</code> al valore del parametro <code>valore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="5" data-code-annotation="4">Definizione del metodo <code>__str__</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="6" data-code-annotation="5">Restituzione di una stringa rappresentativa dell’istanza.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="8" data-code-annotation="6">Creazione di un’istanza della classe <code>C9</code> con il valore <code>10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="10" data-code-annotation="7">Stampa della rappresentazione dell’istanza <code>c</code>.</span>
</dd>
</dl>
</section>
<section id="metodi-di-classe-e-metodi-statici" class="level2" data-number="15.8">
<h2 data-number="15.8" class="anchored" data-anchor-id="metodi-di-classe-e-metodi-statici"><span class="header-section-number">15.8</span> Metodi di classe e metodi statici</h2>
<p>Python fornisce due tipi di metodi a livello di classe: metodi statici e metodi di classe. I metodi statici sono definiti utilizzando il decoratore <code>@staticmethod</code> e non ricevono automaticamente il riferimento all’istanza o alla classe come primo argomento. I metodi di classe sono definiti utilizzando il decoratore <code>@classmethod</code> e ricevono il riferimento alla classe come primo argomento, convenzionalmente chiamato <code>cls</code>.</p>
<p>Esempio di metodo statico e metodo di classe:</p>
<div class="sourceCode" id="annotated-cell-23"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-23-1" class="code-annotation-target"><a href="#annotated-cell-23-1"></a><span class="kw">class</span> C10:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-23-2" class="code-annotation-target"><a href="#annotated-cell-23-2"></a>  <span class="at">@staticmethod</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-23-3" class="code-annotation-target"><a href="#annotated-cell-23-3"></a>  <span class="kw">def</span> metodo_statico():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-23-4" class="code-annotation-target"><a href="#annotated-cell-23-4"></a>    <span class="bu">print</span>(<span class="st">"Metodo statico"</span>)</span>
<span id="annotated-cell-23-5"><a href="#annotated-cell-23-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-23-6" class="code-annotation-target"><a href="#annotated-cell-23-6"></a>  <span class="at">@classmethod</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-23-7" class="code-annotation-target"><a href="#annotated-cell-23-7"></a>  <span class="kw">def</span> metodo_di_classe(cls):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-23-8" class="code-annotation-target"><a href="#annotated-cell-23-8"></a>    <span class="bu">print</span>(<span class="ss">f"Metodo di classe per </span><span class="sc">{</span>cls<span class="sc">.</span><span class="va">__name__</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="annotated-cell-23-9"><a href="#annotated-cell-23-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-23-10" class="code-annotation-target"><a href="#annotated-cell-23-10"></a>C10.metodo_statico()</span>
<span id="annotated-cell-23-11"><a href="#annotated-cell-23-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-23-12" class="code-annotation-target"><a href="#annotated-cell-23-12"></a>C10.metodo_di_classe()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-23" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="1" data-code-annotation="1">Definizione della classe <code>C10</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="2" data-code-annotation="2">Decoratore <code>@staticmethod</code> per definire un metodo statico.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="3" data-code-annotation="3">Definizione del metodo statico <code>metodo_statico</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="4" data-code-annotation="4">Stampa del messaggio <code>Metodo statico</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="6" data-code-annotation="5">Decoratore <code>@classmethod</code> per definire un metodo di classe.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="7" data-code-annotation="6">Definizione del metodo di classe <code>metodo_di_classe</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="8" data-code-annotation="7">Stampa del messaggio con il nome della classe.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="10" data-code-annotation="8">Chiamata del metodo statico <code>metodo_statico</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="12" data-code-annotation="9">Chiamata del metodo di classe <code>metodo_di_classe</code>.</span>
</dd>
</dl>
</section>
<section id="decoratori" class="level2" data-number="15.9">
<h2 data-number="15.9" class="anchored" data-anchor-id="decoratori"><span class="header-section-number">15.9</span> Decoratori</h2>
<p>I decoratori in Python sono funzioni che modificano il comportamento di altre funzioni o metodi. Sono utili per estendere la funzionalità di funzioni o metodi senza modificarne il codice.</p>
<p>Esempio di decoratore:</p>
<div class="sourceCode" id="annotated-cell-24"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-24-1" class="code-annotation-target"><a href="#annotated-cell-24-1"></a><span class="kw">def</span> mio_decoratore(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-24-2" class="code-annotation-target"><a href="#annotated-cell-24-2"></a>  <span class="kw">def</span> wrapper():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-24-3" class="code-annotation-target"><a href="#annotated-cell-24-3"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa prima della funzione"</span>)</span>
<span id="annotated-cell-24-4"><a href="#annotated-cell-24-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-24-5" class="code-annotation-target"><a href="#annotated-cell-24-5"></a>    f()</span>
<span id="annotated-cell-24-6"><a href="#annotated-cell-24-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-24-7" class="code-annotation-target"><a href="#annotated-cell-24-7"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa dopo la funzione"</span>)</span>
<span id="annotated-cell-24-8"><a href="#annotated-cell-24-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-24-9" class="code-annotation-target"><a href="#annotated-cell-24-9"></a>  <span class="cf">return</span> wrapper</span>
<span id="annotated-cell-24-10"><a href="#annotated-cell-24-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-24-11" class="code-annotation-target"><a href="#annotated-cell-24-11"></a><span class="at">@mio_decoratore</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-24-12" class="code-annotation-target"><a href="#annotated-cell-24-12"></a><span class="kw">def</span> di_ciao():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-24-13" class="code-annotation-target"><a href="#annotated-cell-24-13"></a>  <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-24-14"><a href="#annotated-cell-24-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-24-15" class="code-annotation-target"><a href="#annotated-cell-24-15"></a>di_ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="1" data-code-annotation="1">Definizione del decoratore <code>mio_decoratore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>wrapper</code> interna.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="3" data-code-annotation="3">Stampa di un messaggio prima della chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="5" data-code-annotation="4">Chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="7" data-code-annotation="5">Stampa di un messaggio dopo la chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="9" data-code-annotation="6">Restituzione della funzione <code>wrapper</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="11" data-code-annotation="7">Applicazione del decoratore <code>mio_decoratore</code> alla funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="12" data-code-annotation="8">Definizione della funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="13" data-code-annotation="9">Stampa del messaggio <code>Ciao!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="15" data-code-annotation="10">Chiamata della funzione <code>di_ciao</code> decorata. Output:</span>
</dd>
</dl>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>Qualcosa prima della funzione</span>
<span id="cb1-2"><a href="#cb1-2"></a>Ciao<span class="op">!</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>Qualcosa dopo la funzione</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>L’analogo del codice precedente senza l’uso della sintassi di decorazione <code>@</code>, esplicita ciò che avviene dietro le quinte:</p>
<div class="sourceCode" id="annotated-cell-26"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-26-1" class="code-annotation-target"><a href="#annotated-cell-26-1"></a><span class="kw">def</span> mio_decoratore(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-26-2" class="code-annotation-target"><a href="#annotated-cell-26-2"></a>  <span class="kw">def</span> wrapper():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-26-3" class="code-annotation-target"><a href="#annotated-cell-26-3"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa prima della funzione"</span>)</span>
<span id="annotated-cell-26-4"><a href="#annotated-cell-26-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-26-5" class="code-annotation-target"><a href="#annotated-cell-26-5"></a>    f()</span>
<span id="annotated-cell-26-6"><a href="#annotated-cell-26-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-26-7" class="code-annotation-target"><a href="#annotated-cell-26-7"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa dopo la funzione"</span>)</span>
<span id="annotated-cell-26-8"><a href="#annotated-cell-26-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-26-9" class="code-annotation-target"><a href="#annotated-cell-26-9"></a>  <span class="cf">return</span> wrapper</span>
<span id="annotated-cell-26-10"><a href="#annotated-cell-26-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-26-11" class="code-annotation-target"><a href="#annotated-cell-26-11"></a><span class="kw">def</span> di_ciao():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-26-12" class="code-annotation-target"><a href="#annotated-cell-26-12"></a>  <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-26-13"><a href="#annotated-cell-26-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-26-14" class="code-annotation-target"><a href="#annotated-cell-26-14"></a>di_ciao <span class="op">=</span> mio_decoratore(di_ciao)</span>
<span id="annotated-cell-26-15"><a href="#annotated-cell-26-15"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-26-16" class="code-annotation-target"><a href="#annotated-cell-26-16"></a>di_ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-26" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="1" data-code-annotation="1">Definizione del decoratore <code>mio_decoratore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>wrapper</code> interna.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="3" data-code-annotation="3">Stampa di un messaggio prima della chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="5" data-code-annotation="4">Chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="7" data-code-annotation="5">Stampa di un messaggio dopo la chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="9" data-code-annotation="6">Restituzione della funzione <code>wrapper</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="11" data-code-annotation="7">Definizione della funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="12" data-code-annotation="8">Stampa del messaggio <code>Ciao!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="14" data-code-annotation="9">Applicazione del decoratore <code>mio_decoratore</code> alla funzione <code>di_ciao</code> assegnando <code>di_ciao</code> alla funzione <code>wrapper</code> restituita.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="16" data-code-annotation="10">Chiamata della funzione <code>di_ciao</code> decorata. Output:</span>
</dd>
</dl>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>Qualcosa prima della funzione</span>
<span id="cb2-2"><a href="#cb2-2"></a>Ciao<span class="op">!</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>Qualcosa dopo la funzione</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Nel primo esempio, la sintassi <code>@mio_decoratore</code> applica il decoratore alla funzione <code>di_ciao</code> direttamente sopra la definizione della funzione. Nel secondo esempio, il decoratore <code>mio_decoratore</code> viene applicato esplicitamente assegnando <code>di_ciao</code> alla funzione <code>wrapper</code> restituita dal decoratore. Entrambi gli approcci producono lo stesso risultato, ma il secondo esempio mostra chiaramente come tutte le volte che chiano la funzione devo modificare la sintassi mentre usando il decoratore nella definizione della funzione, ho una sola variazione che non impatta i codici che utilizzano la <code>di_ciao()</code>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiato!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiato!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./terza-parte.html" class="pagination-link" aria-label="Terza parte: Python orientato agli oggetti">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Terza parte: Python orientato agli oggetti</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./terza-parte-python-moduli.html" class="pagination-link" aria-label="Moduli">
        <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Moduli</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="./antonio.html">
<p>Antonio Montano</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="./come-collaborare.html">
<p>Come collaborare</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://4m4.it">
<p>4m4</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/antomon/corso-python/edit/main/terza-parte-python-programmazione-orientata-agli-oggetti.qmd" class="toc-action"><i class="bi bi-github"></i>Modifica questa pagina</a></li><li><a href="https://github.com/antomon/corso-python/issues/new/choose" class="toc-action"><i class="bi empty"></i>Segnala un problema</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>
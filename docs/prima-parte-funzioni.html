<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; La funzione – Da neofita di Python a campione</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./prima-parte-modello-dati.html" rel="next">
<link href="./prima-parte-variabili-spazi-nomi-moduli-file.html" rel="prev">
<link href="./red-python-logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.0/full/pyodide.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Da neofita di Python a campione</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text">Prefazione</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://4m4.it/"> 
<span class="menu-text">4M4</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/antomon/corso-python" title="Eseguire il codice" class="quarto-navigation-tool px-1" aria-label="Eseguire il codice"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Da-neofita-di-Python-a-campione.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Da-neofita-di-Python-a-campione.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Attiva/disattiva la modalità oscura"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Attiva/disattiva la barra laterale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./prima-parte.html">Prima parte: I fondamenti della programmazione</a></li><li class="breadcrumb-item"><a href="./prima-parte-funzioni.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La funzione</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Attiva/disattiva la barra laterale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefazione</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./prima-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prima parte: I fondamenti della programmazione</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-linguaggi-programmazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">I linguaggi di programmazione, i programmi e i programmatori</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-paradigmi-programmazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">I paradigmi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-sintassi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">La sintassi dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-semantica.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">La semantica dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-variabili-spazi-nomi-moduli-file.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">La variabile</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-funzioni.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La funzione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-modello-dati.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Il modello dati dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-altri-concetti-semantici.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Altri concetti semantici dei linguaggi di programmazione</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prima-parte-programmazione-ia-generativa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">L’Impatto dell’intelligenza artificiale generativa sulla programmazione</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./seconda-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seconda parte: Le basi di Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-introduzione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduzione a Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-installazione.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Scaricare e installare Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-sintassi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">La sintassi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-modello-dati.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Il modello dati</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-istruzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Istruzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-funzioni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Funzioni</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-esercizi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Esercizi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seconda-parte-python-esercitazione-uno.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Esercitazione 1: analisi di un dataset di vendite</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./terza-parte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Terza parte: Python orientato agli oggetti</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-programmazione-orientata-agli-oggetti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Programmazione orientata agli oggetti</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-moduli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Moduli</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terza-parte-python-esercitazione-uno.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Esercitazione 1: web app con Flask</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Quarta parte: Python avanzato</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Quinta parte: strumenti</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendici</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Attiva/disattiva sezione">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendice-riferimenti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Riferimenti</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Indice</h2>
   
  <ul>
  <li><a href="#dichiarazione" id="toc-dichiarazione" class="nav-link active" data-scroll-target="#dichiarazione"><span class="header-section-number">6.1</span> Dichiarazione</a></li>
  <li><a href="#il-parametro-e-largomento" id="toc-il-parametro-e-largomento" class="nav-link" data-scroll-target="#il-parametro-e-largomento"><span class="header-section-number">6.2</span> Il parametro e l’argomento</a></li>
  <li><a href="#il-valore-di-ritorno" id="toc-il-valore-di-ritorno" class="nav-link" data-scroll-target="#il-valore-di-ritorno"><span class="header-section-number">6.3</span> Il valore di ritorno</a></li>
  <li><a href="#ambito-e-visibilità" id="toc-ambito-e-visibilità" class="nav-link" data-scroll-target="#ambito-e-visibilità"><span class="header-section-number">6.4</span> Ambito e visibilità</a>
  <ul class="collapse">
  <li><a href="#ambito" id="toc-ambito" class="nav-link" data-scroll-target="#ambito"><span class="header-section-number">6.4.1</span> Ambito</a></li>
  <li><a href="#visibilità" id="toc-visibilità" class="nav-link" data-scroll-target="#visibilità"><span class="header-section-number">6.4.2</span> Visibilità</a></li>
  <li><a href="#differenze-tra-funzioni-con-variabili-e-oggetti" id="toc-differenze-tra-funzioni-con-variabili-e-oggetti" class="nav-link" data-scroll-target="#differenze-tra-funzioni-con-variabili-e-oggetti"><span class="header-section-number">6.4.3</span> Differenze tra funzioni con variabili e oggetti</a></li>
  </ul></li>
  <li><a href="#la-ricorsione" id="toc-la-ricorsione" class="nav-link" data-scroll-target="#la-ricorsione"><span class="header-section-number">6.5</span> La ricorsione</a></li>
  <li><a href="#la-funzione-in-prima-classe" id="toc-la-funzione-in-prima-classe" class="nav-link" data-scroll-target="#la-funzione-in-prima-classe"><span class="header-section-number">6.6</span> La funzione in prima classe</a>
  <ul class="collapse">
  <li><a href="#implementazione-in-linguaggi-di-programmazione" id="toc-implementazione-in-linguaggi-di-programmazione" class="nav-link" data-scroll-target="#implementazione-in-linguaggi-di-programmazione"><span class="header-section-number">6.6.1</span> Implementazione in linguaggi di programmazione</a></li>
  <li><a href="#la-funzione-di-ordine-superiore" id="toc-la-funzione-di-ordine-superiore" class="nav-link" data-scroll-target="#la-funzione-di-ordine-superiore"><span class="header-section-number">6.6.2</span> La funzione di ordine superiore</a></li>
  <li><a href="#lapplicazione-parziale" id="toc-lapplicazione-parziale" class="nav-link" data-scroll-target="#lapplicazione-parziale"><span class="header-section-number">6.6.3</span> L’applicazione parziale</a></li>
  <li><a href="#il-decoratore" id="toc-il-decoratore" class="nav-link" data-scroll-target="#il-decoratore"><span class="header-section-number">6.6.4</span> Il decoratore</a></li>
  <li><a href="#la-funzione-di-richiamo" id="toc-la-funzione-di-richiamo" class="nav-link" data-scroll-target="#la-funzione-di-richiamo"><span class="header-section-number">6.6.5</span> La funzione di richiamo</a></li>
  <li><a href="#la-lambda" id="toc-la-lambda" class="nav-link" data-scroll-target="#la-lambda"><span class="header-section-number">6.6.6</span> La lambda</a></li>
  <li><a href="#chiusure" id="toc-chiusure" class="nav-link" data-scroll-target="#chiusure"><span class="header-section-number">6.6.7</span> Chiusure</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/antomon/corso-python/edit/main/prima-parte-funzioni.qmd" class="toc-action"><i class="bi bi-github"></i>Modifica questa pagina</a></li><li><a href="https://github.com/antomon/corso-python/blob/main/prima-parte-funzioni.qmd" class="toc-action"><i class="bi empty"></i>Mostra il codice</a></li><li><a href="https://github.com/antomon/corso-python/issues/new/choose" class="toc-action"><i class="bi empty"></i>Segnala un problema</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./prima-parte.html">Prima parte: I fondamenti della programmazione</a></li><li class="breadcrumb-item"><a href="./prima-parte-funzioni.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La funzione</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La funzione</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>La <strong>funzione</strong> è un blocco di codice riutilizzabile che contiene una sequenza di istruzioni. Questi costrutti sono fondamentali per la strutturazione e la modularizzazione del codice, consentendo di definire operazioni che possono essere invocate più volte durante l’esecuzione di un programma. La distinzione tra funzioni e metodi è che le funzioni sono indipendenti, mentre i metodi sono associati a oggetti o classi.</p>
<section id="dichiarazione" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="dichiarazione"><span class="header-section-number">6.1</span> Dichiarazione</h2>
<p>La <strong>dichiarazione</strong> di una funzione è il processo mediante il quale si definisce una nuova funzione nel programma, specificandone il nome, i parametri (se presenti) e il blocco di codice che essa eseguirà. Questo processo informa il compilatore o l’interprete che una certa funzione esiste e può essere utilizzata nel codice. Durante la dichiarazione, non viene eseguito alcun codice; viene semplicemente definita la funzione in modo che possa essere invocata successivamente nel programma.</p>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-1"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-1" class="code-annotation-target"><a href="#annotated-cell-1-1"></a><span class="kw">def</span> somma(a, b):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-2" class="code-annotation-target"><a href="#annotated-cell-1-2"></a>  <span class="cf">return</span> a <span class="op">+</span> b</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>somma</code> con due parametri <code>a</code> e <code>b</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="2">La funzione <code>somma</code> ritorna la somma dei parametri <code>a</code> e <code>b</code>.</span>
</dd>
</dl>
</section>
<section id="il-parametro-e-largomento" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="il-parametro-e-largomento"><span class="header-section-number">6.2</span> Il parametro e l’argomento</h2>
<p>Il <strong>parametro</strong> e l’<strong>argomento</strong> sono strumenti fondamentali per passare dati alle funzioni e influenzarne il comportamento. In particolare:</p>
<ul>
<li><p>Parametri o parametri formali: I parametri sono definiti nella dichiarazione della funzione e rappresentano i nomi delle variabili che la funzione utilizzerà per accedere ai dati passati.</p></li>
<li><p>Argomenti o parametri attuali: Gli argomenti sono i valori effettivi passati alla funzione quando viene chiamata.</p></li>
</ul>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-2"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-2-1" class="code-annotation-target"><a href="#annotated-cell-2-1"></a><span class="kw">def</span> somma(a, b):</span>
<span id="annotated-cell-2-2"><a href="#annotated-cell-2-2"></a>  <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="annotated-cell-2-3"><a href="#annotated-cell-2-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-2-4" class="code-annotation-target"><a href="#annotated-cell-2-4"></a>result <span class="op">=</span> somma(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="annotated-cell-2-5"><a href="#annotated-cell-2-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-2-6" class="code-annotation-target"><a href="#annotated-cell-2-6"></a><span class="bu">print</span>(result)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1"><code>a</code> e <code>b</code> sono parametri della funzione <code>somma</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="4" data-code-annotation="2"><code>3</code> e <code>4</code> sono argomenti passati alla funzione <code>somma</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="6" data-code-annotation="3">Il risultato della funzione <code>somma</code> viene stampato.</span>
</dd>
</dl>
</section>
<section id="il-valore-di-ritorno" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="il-valore-di-ritorno"><span class="header-section-number">6.3</span> Il valore di ritorno</h2>
<p>Il valore di ritorno è il risultato prodotto da una funzione, che può essere utilizzato nell’istruzione chiamante. Una funzione può restituire un valore utilizzando una sintassi particolare come la parola chiave <code>return</code>.</p>
<p>Esempio in Java:</p>
<div class="sourceCode" id="annotated-cell-3"><pre class="sourceCode numberSource java code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode java"><span id="annotated-cell-3-1"><a href="#annotated-cell-3-1"></a><span class="kw">public</span> <span class="kw">class</span> Main <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-3-2" class="code-annotation-target"><a href="#annotated-cell-3-2"></a>  <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">somma</span><span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-3-3" class="code-annotation-target"><a href="#annotated-cell-3-3"></a>    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="annotated-cell-3-4"><a href="#annotated-cell-3-4"></a>  <span class="op">}</span></span>
<span id="annotated-cell-3-5"><a href="#annotated-cell-3-5"></a></span>
<span id="annotated-cell-3-6"><a href="#annotated-cell-3-6"></a>  <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-3-7" class="code-annotation-target"><a href="#annotated-cell-3-7"></a>    <span class="dt">int</span> result <span class="op">=</span> <span class="fu">somma</span><span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span>
<span id="annotated-cell-3-8"><a href="#annotated-cell-3-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-3-9" class="code-annotation-target"><a href="#annotated-cell-3-9"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>result<span class="op">);</span></span>
<span id="annotated-cell-3-10"><a href="#annotated-cell-3-10"></a>  <span class="op">}</span></span>
<span id="annotated-cell-3-11"><a href="#annotated-cell-3-11"></a><span class="op">}</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="2" data-code-annotation="1">Dichiarazione della funzione <code>somma</code> che accetta due parametri interi.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="3" data-code-annotation="2">La funzione <code>somma</code> ritorna la somma di <code>a</code> e <code>b</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="7" data-code-annotation="3">Chiamata della funzione <code>somma</code> con argomenti <code>3</code> e <code>4</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="9" data-code-annotation="4">Il risultato della funzione <code>somma</code> viene stampato.</span>
</dd>
</dl>
</section>
<section id="ambito-e-visibilità" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="ambito-e-visibilità"><span class="header-section-number">6.4</span> Ambito e visibilità</h2>
<p>L’ambito e la visibilità degli identificatori delle funzioni sono concetti sono simili a quelli delle variabili, ma presentano alcune differenze chiave che è importante comprendere.</p>
<section id="ambito" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="ambito"><span class="header-section-number">6.4.1</span> Ambito</h3>
<p>Per le funzioni distinguiamo sempre i seguenti:</p>
<ul>
<li><p>Ambito globale: Una funzione dichiarata a livello globale, cioè al di fuori di qualsiasi altra funzione o blocco di codice, ha un ambito globale. Questo significa che la funzione è visibile e può essere chiamata da qualsiasi punto del programma dopo la sua dichiarazione.</p>
<p>Esempio in C++:</p>
<div class="sourceCode" id="annotated-cell-27"><pre class="sourceCode numberSource cpp code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode cpp"><span id="annotated-cell-27-1"><a href="#annotated-cell-27-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="annotated-cell-27-2"><a href="#annotated-cell-27-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-27-3" class="code-annotation-target"><a href="#annotated-cell-27-3"></a><span class="dt">void</span> funzioneGlobale<span class="op">()</span> <span class="op">{</span></span>
<span id="annotated-cell-27-4"><a href="#annotated-cell-27-4"></a>  <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> <span class="st">"Funzione globale"</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="annotated-cell-27-5"><a href="#annotated-cell-27-5"></a><span class="op">}</span></span>
<span id="annotated-cell-27-6"><a href="#annotated-cell-27-6"></a></span>
<span id="annotated-cell-27-7"><a href="#annotated-cell-27-7"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-27-8" class="code-annotation-target"><a href="#annotated-cell-27-8"></a>  funzioneGlobale<span class="op">();</span></span>
<span id="annotated-cell-27-9"><a href="#annotated-cell-27-9"></a></span>
<span id="annotated-cell-27-10"><a href="#annotated-cell-27-10"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-27" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="3" data-code-annotation="1">Dichiarazione della funzione <code>funzioneGlobale</code> a livello globale.</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="8" data-code-annotation="2">Chiamata della funzione <code>funzioneGlobale</code> all’interno di <code>main</code>.</span>
</dd>
</dl>
<p>Il comportamento è identico in Java e C. In Python, le funzioni definite a livello globale hanno ambito globale.</p></li>
<li><p>Ambito locale: Una funzione dichiarata all’interno di un blocco di codice (come all’interno di una funzione o di una classe) ha un ambito locale. La funzione è visibile e può essere chiamata solo all’interno di quel blocco.</p>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-28"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-28-1"><a href="#annotated-cell-28-1"></a><span class="kw">def</span> funzione_esterna():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-28-2" class="code-annotation-target"><a href="#annotated-cell-28-2"></a>  <span class="kw">def</span> funzione_locale():</span>
<span id="annotated-cell-28-3"><a href="#annotated-cell-28-3"></a>    <span class="bu">print</span>(<span class="st">"Funzione locale"</span>)</span>
<span id="annotated-cell-28-4"><a href="#annotated-cell-28-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-28-5" class="code-annotation-target"><a href="#annotated-cell-28-5"></a>  funzione_locale()</span>
<span id="annotated-cell-28-6"><a href="#annotated-cell-28-6"></a></span>
<span id="annotated-cell-28-7"><a href="#annotated-cell-28-7"></a>funzione_esterna()</span>
<span id="annotated-cell-28-8"><a href="#annotated-cell-28-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-28-9" class="code-annotation-target"><a href="#annotated-cell-28-9"></a>funzione_locale()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="2" data-code-annotation="1">Dichiarazione della funzione <code>funzione_locale</code> all’interno di <code>funzione_esterna</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="5" data-code-annotation="2">Chiamata della funzione <code>funzione_locale</code> all’interno di <code>funzione_esterna</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="9" data-code-annotation="3">Chiamata a <code>funzione_locale</code> al di fuori di <code>funzione_esterna</code>, che genera un errore poiché <code>funzione_locale</code> non è visibile a questo livello.</span>
</dd>
</dl>
<p>In Java e C++, le funzioni dichiarate all’interno di un blocco (come metodi all’interno di una classe) sono accessibili solo all’interno di quel blocco, simile a Python.</p>
<p>In C, le funzioni locali non sono standard, ma è possibile ottenere un comportamento simile usando funzioni statiche o funzioni inline definite all’interno di un file sorgente specifico.</p></li>
</ul>
</section>
<section id="visibilità" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="visibilità"><span class="header-section-number">6.4.2</span> Visibilità</h3>
<p>La visibilità si riferisce a dove nel codice l’identificatore di una funzione può essere utilizzato. La visibilità è strettamente legata all’ambito, ma può essere influenzata anche da altre considerazioni come la modularità e le regole di accesso.</p>
<ul>
<li><p>Visibilità Globale: Le funzioni con ambito globale sono visibili ovunque nel programma come per le variabili.</p></li>
<li><p>Visibilità Locale: Le funzioni con ambito locale sono visibili solo all’interno del blocco in cui sono dichiarate. Questo è utile per creare funzioni di supporto (inglese: <em>helper</em>) o interne che non devono essere accessibili dall’esterno.</p>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-29"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-29-1"><a href="#annotated-cell-29-1"></a><span class="kw">def</span> funzione_esterna():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-29-2" class="code-annotation-target"><a href="#annotated-cell-29-2"></a>  <span class="kw">def</span> funzione_supporto():</span>
<span id="annotated-cell-29-3"><a href="#annotated-cell-29-3"></a>    <span class="bu">print</span>(<span class="st">"Funzione di supporto"</span>)</span>
<span id="annotated-cell-29-4"><a href="#annotated-cell-29-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-29-5" class="code-annotation-target"><a href="#annotated-cell-29-5"></a>  funzione_supporto()</span>
<span id="annotated-cell-29-6"><a href="#annotated-cell-29-6"></a></span>
<span id="annotated-cell-29-7"><a href="#annotated-cell-29-7"></a>  <span class="bu">print</span>(<span class="st">"Funzione esterna"</span>)</span>
<span id="annotated-cell-29-8"><a href="#annotated-cell-29-8"></a></span>
<span id="annotated-cell-29-9"><a href="#annotated-cell-29-9"></a>funzione_esterna()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-29" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="2" data-code-annotation="1">Dichiarazione della funzione <code>funzione_supporto</code> all’interno di <code>funzione_esterna</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="5" data-code-annotation="2">Chiamata della funzione <code>funzione_supporto</code> all’interno di <code>funzione_esterna</code>.</span>
</dd>
</dl></li>
</ul>
</section>
<section id="differenze-tra-funzioni-con-variabili-e-oggetti" class="level3" data-number="6.4.3">
<h3 data-number="6.4.3" class="anchored" data-anchor-id="differenze-tra-funzioni-con-variabili-e-oggetti"><span class="header-section-number">6.4.3</span> Differenze tra funzioni con variabili e oggetti</h3>
<p>Sebbene l’ambito e la visibilità delle funzioni condividano concetti simili con le variabili e gli oggetti, ci sono alcune differenze chiave:</p>
<ul>
<li><p>Durata di vita: Le variabili locali (automatiche) hanno una durata di vita limitata al blocco di codice in cui sono dichiarate. Quando il controllo esce dal blocco, la memoria allocata per la variabile viene liberata. Le funzioni, tuttavia, non vengono “distrutte” quando il controllo esce dal loro ambito; semplicemente non sono più visibili e chiamabili. In Python, le variabili definite all’interno di un blocco di un’istruzione composta rimangono accessibili finché sono nello stesso ambito di funzione o modulo, mentre le funzioni definite all’interno di un’altra funzione (nested functions) sono visibili solo all’interno di quella funzione.</p></li>
<li><p>Allocazione dinamica: In C++, le variabili e gli oggetti possono essere allocati dinamicamente usando <code>new</code> e deallocati usando <code>delete</code>. Le funzioni non richiedono un’allocazione esplicita di memoria; la loro dichiarazione è sufficiente per renderle utilizzabili nell’ambito definito.</p></li>
</ul>
</section>
</section>
<section id="la-ricorsione" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="la-ricorsione"><span class="header-section-number">6.5</span> La ricorsione</h2>
<p>La <strong>ricorsione</strong> è la capacità di una funzione di chiamare se stessa, utile per risolvere problemi che possono essere suddivisi in sottoproblemi simili. Ogni chiamata ricorsiva deve avvicinarsi a una condizione di terminazione per evitare loop infiniti.</p>
<p>Esempio in C++ (calcolo del fattoriale):</p>
<div class="sourceCode" id="annotated-cell-4"><pre class="sourceCode numberSource cpp code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode cpp"><span id="annotated-cell-4-1"><a href="#annotated-cell-4-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="annotated-cell-4-2"><a href="#annotated-cell-4-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-3" class="code-annotation-target"><a href="#annotated-cell-4-3"></a><span class="dt">int</span> fattoriale<span class="op">(</span><span class="dt">int</span> n<span class="op">)</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-4-4" class="code-annotation-target"><a href="#annotated-cell-4-4"></a>  <span class="cf">if</span> <span class="op">(</span>n <span class="op">&lt;=</span> <span class="dv">1</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="annotated-cell-4-5"><a href="#annotated-cell-4-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-4-6" class="code-annotation-target"><a href="#annotated-cell-4-6"></a>  <span class="cf">return</span> n <span class="op">*</span> fattoriale<span class="op">(</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="annotated-cell-4-7"><a href="#annotated-cell-4-7"></a><span class="op">}</span></span>
<span id="annotated-cell-4-8"><a href="#annotated-cell-4-8"></a></span>
<span id="annotated-cell-4-9"><a href="#annotated-cell-4-9"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-4-10" class="code-annotation-target"><a href="#annotated-cell-4-10"></a>  <span class="dt">int</span> result <span class="op">=</span> fattoriale<span class="op">(</span><span class="dv">5</span><span class="op">);</span></span>
<span id="annotated-cell-4-11"><a href="#annotated-cell-4-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-4-12" class="code-annotation-target"><a href="#annotated-cell-4-12"></a>  <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> result <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="annotated-cell-4-13"><a href="#annotated-cell-4-13"></a>  </span>
<span id="annotated-cell-4-14"><a href="#annotated-cell-4-14"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="annotated-cell-4-15"><a href="#annotated-cell-4-15"></a><span class="op">}</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="3" data-code-annotation="1">Dichiarazione della funzione <code>fattoriale</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="4" data-code-annotation="2">Condizione di terminazione: se <code>n</code> è minore o uguale a 1, ritorna 1.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="6" data-code-annotation="3">Chiamata ricorsiva: <code>fattoriale</code> chiama se stessa con <code>n - 1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="10" data-code-annotation="4">Chiamata della funzione <code>fattoriale</code> con argomento <code>5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="12" data-code-annotation="5">Il risultato della funzione <code>fattoriale</code> viene stampato.</span>
</dd>
</dl>
</section>
<section id="la-funzione-in-prima-classe" class="level2 page-columns page-full" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="la-funzione-in-prima-classe"><span class="header-section-number">6.6</span> La funzione in prima classe</h2>
<p>Il concetto di <strong>funzione in prima classe</strong> (inglese: <em>first-class function</em>) è un principio fondamentale in molti linguaggi di programmazione, particolarmente rilevante nel paradigma di programmazione funzionale. In breve, un linguaggio di programmazione che supporta le funzioni come cittadini di prima classe. Ciò significa che le funzioni possono essere manipolate e utilizzate come qualsiasi altro tipo di dato. Le operazioni che definiscono questa caratteristica includono:</p>
<ul>
<li><p>Assegnazione a variabili: Le funzioni possono essere assegnate a variabili.</p></li>
<li><p>Passaggio come argomenti: Le funzioni possono essere passate come argomenti ad altre funzioni.</p></li>
<li><p>Restituzione come risultati: Le funzioni possono essere restituite da altre funzioni.</p></li>
<li><p>Memorizzazione in strutture dati: Le funzioni possono essere memorizzate in strutture dati come liste, dizionari, ecc.</p></li>
</ul>
<p>Nel paradigma di programmazione funzionale, le funzioni in prima classe sono essenziali perché permettono di trattare le funzioni pure come valori di prima classe. Le funzioni pure sono funzioni il cui output è determinato solo dai loro input e non hanno effetti collaterali. L’abilità di passare, restituire e comporre funzioni in prima classe è fondamentale per il paradigma funzionale, poiché consente di creare funzioni di ordine superiore e di mantenere l’immutabilità. Le funzioni in prima classe permettono di:</p>
<ul>
<li><p>Creare funzioni di ordine superiore: Funzioni che accettano altre funzioni come argomenti o che restituiscono funzioni, promuovendo un’astrazione più elevata e la riutilizzabilità del codice.</p></li>
<li><p>Comporre funzioni: Combinare semplici funzioni pure per costruire funzioni più complesse, facilitando la costruzione di software modulare e mantenibile.</p></li>
<li><p>Favorire l’immutabilità: Favorire la scrittura di codice che non modifica lo stato, riducendo i bug e rendendo il codice più prevedibile.</p></li>
</ul>
<section id="implementazione-in-linguaggi-di-programmazione" class="level3 page-columns page-full" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="implementazione-in-linguaggi-di-programmazione"><span class="header-section-number">6.6.1</span> Implementazione in linguaggi di programmazione</h3>
<p>Python tratta le funzioni come oggetti in prima classe. Ecco come:</p>
<div class="sourceCode" id="annotated-cell-5"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-5-1"><a href="#annotated-cell-5-1"></a><span class="co"># Assegnazione a variabili</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-5-2" class="code-annotation-target"><a href="#annotated-cell-5-2"></a><span class="kw">def</span> saluto(nome):</span>
<span id="annotated-cell-5-3"><a href="#annotated-cell-5-3"></a>  <span class="cf">return</span> <span class="ss">f"Ciao, </span><span class="sc">{</span>nome<span class="sc">}</span><span class="ss">!"</span></span>
<span id="annotated-cell-5-4"><a href="#annotated-cell-5-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-5-5" class="code-annotation-target"><a href="#annotated-cell-5-5"></a>messaggio <span class="op">=</span> saluto</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-5-6" class="code-annotation-target"><a href="#annotated-cell-5-6"></a><span class="bu">print</span>(messaggio(<span class="st">"Mondo"</span>))</span>
<span id="annotated-cell-5-7"><a href="#annotated-cell-5-7"></a></span>
<span id="annotated-cell-5-8"><a href="#annotated-cell-5-8"></a><span class="co"># Passaggio come argomenti</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-5-9" class="code-annotation-target"><a href="#annotated-cell-5-9"></a><span class="kw">def</span> chiamata_di_ritorno(f):</span>
<span id="annotated-cell-5-10"><a href="#annotated-cell-5-10"></a>  <span class="cf">return</span> f(<span class="st">"Mondo"</span>)</span>
<span id="annotated-cell-5-11"><a href="#annotated-cell-5-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-5-12" class="code-annotation-target"><a href="#annotated-cell-5-12"></a><span class="bu">print</span>(chiamata_di_ritorno(saluto))</span>
<span id="annotated-cell-5-13"><a href="#annotated-cell-5-13"></a></span>
<span id="annotated-cell-5-14"><a href="#annotated-cell-5-14"></a><span class="co"># Restituzione come risultati</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-5-15" class="code-annotation-target"><a href="#annotated-cell-5-15"></a><span class="kw">def</span> crea_saluto():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-5-16" class="code-annotation-target"><a href="#annotated-cell-5-16"></a>  <span class="kw">def</span> saluto(nome):</span>
<span id="annotated-cell-5-17"><a href="#annotated-cell-5-17"></a>    <span class="cf">return</span> <span class="ss">f"Ciao, </span><span class="sc">{</span>nome<span class="sc">}</span><span class="ss">!"</span></span>
<span id="annotated-cell-5-18"><a href="#annotated-cell-5-18"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-5-19" class="code-annotation-target"><a href="#annotated-cell-5-19"></a>  <span class="cf">return</span> saluto</span>
<span id="annotated-cell-5-20"><a href="#annotated-cell-5-20"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-5-21" class="code-annotation-target"><a href="#annotated-cell-5-21"></a>saluta <span class="op">=</span> crea_saluto()</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-5-22" class="code-annotation-target"><a href="#annotated-cell-5-22"></a><span class="bu">print</span>(saluta(<span class="st">"Mondo"</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="2" data-code-annotation="1">Definizione della funzione <code>saluto</code> che accetta un parametro <code>nome</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="5" data-code-annotation="2">Assegnazione della funzione <code>saluto</code> alla variabile <code>messaggio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="6" data-code-annotation="3">Chiamata della funzione <code>messaggio</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="9" data-code-annotation="4">Definizione della funzione <code>chiamata_di_ritorno</code> che accetta una funzione come parametro <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="12" data-code-annotation="5">Chiamata della funzione <code>chiamata_di_ritorno</code> con la funzione <code>saluto</code> come argomento, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="15" data-code-annotation="6">Definizione della funzione <code>crea_saluto</code> che restituisce una funzione.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="16" data-code-annotation="7">Definizione della funzione <code>saluto</code> interna a <code>crea_saluto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="19" data-code-annotation="8">Restituzione della funzione <code>saluto</code> da <code>crea_saluto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="21" data-code-annotation="9">Assegnazione della funzione restituita da <code>crea_saluto</code> alla variabile <code>saluta</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="22" data-code-annotation="10">Chiamata della funzione <code>saluta</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
</dl>
<p>Anche JavaScript supporta le funzioni in prima classe:</p>
<div class="sourceCode" id="annotated-cell-6"><pre class="sourceCode numberSource javascript code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode javascript"><span id="annotated-cell-6-1"><a href="#annotated-cell-6-1"></a><span class="co">// Assegnazione a variabili</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-6-2" class="code-annotation-target"><a href="#annotated-cell-6-2"></a><span class="kw">function</span> <span class="fu">saluto</span>(nome) {</span>
<span id="annotated-cell-6-3"><a href="#annotated-cell-6-3"></a>    <span class="cf">return</span> <span class="vs">`Ciao, </span><span class="sc">${</span>nome<span class="sc">}</span><span class="vs">!`</span><span class="op">;</span></span>
<span id="annotated-cell-6-4"><a href="#annotated-cell-6-4"></a>}</span>
<span id="annotated-cell-6-5"><a href="#annotated-cell-6-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-6-6" class="code-annotation-target"><a href="#annotated-cell-6-6"></a><span class="kw">let</span> messaggio <span class="op">=</span> saluto<span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-6-7" class="code-annotation-target"><a href="#annotated-cell-6-7"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">messaggio</span>(<span class="st">"Mondo"</span>))<span class="op">;</span></span>
<span id="annotated-cell-6-8"><a href="#annotated-cell-6-8"></a></span>
<span id="annotated-cell-6-9"><a href="#annotated-cell-6-9"></a><span class="co">// Passaggio come argomenti</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-6-10" class="code-annotation-target"><a href="#annotated-cell-6-10"></a><span class="kw">function</span> <span class="fu">chiamataDiRitorno</span>(f) {</span>
<span id="annotated-cell-6-11"><a href="#annotated-cell-6-11"></a>    <span class="cf">return</span> <span class="fu">f</span>(<span class="st">"Mondo"</span>)<span class="op">;</span></span>
<span id="annotated-cell-6-12"><a href="#annotated-cell-6-12"></a>}</span>
<span id="annotated-cell-6-13"><a href="#annotated-cell-6-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-6-14" class="code-annotation-target"><a href="#annotated-cell-6-14"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">chiamataDiRitorno</span>(saluto))<span class="op">;</span></span>
<span id="annotated-cell-6-15"><a href="#annotated-cell-6-15"></a></span>
<span id="annotated-cell-6-16"><a href="#annotated-cell-6-16"></a><span class="co">// Restituzione come risultati</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-6-17" class="code-annotation-target"><a href="#annotated-cell-6-17"></a><span class="kw">function</span> <span class="fu">creaSaluto</span>() {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-6-18" class="code-annotation-target"><a href="#annotated-cell-6-18"></a>  <span class="kw">function</span> <span class="fu">saluto</span>(nome) {</span>
<span id="annotated-cell-6-19"><a href="#annotated-cell-6-19"></a>    <span class="cf">return</span> <span class="vs">`Ciao, </span><span class="sc">${</span>nome<span class="sc">}</span><span class="vs">!`</span><span class="op">;</span></span>
<span id="annotated-cell-6-20"><a href="#annotated-cell-6-20"></a>  }</span>
<span id="annotated-cell-6-21"><a href="#annotated-cell-6-21"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-6-22" class="code-annotation-target"><a href="#annotated-cell-6-22"></a>  <span class="cf">return</span> saluto<span class="op">;</span></span>
<span id="annotated-cell-6-23"><a href="#annotated-cell-6-23"></a>}</span>
<span id="annotated-cell-6-24"><a href="#annotated-cell-6-24"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-6-25" class="code-annotation-target"><a href="#annotated-cell-6-25"></a><span class="kw">let</span> saluta <span class="op">=</span> <span class="fu">creaSaluto</span>()<span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-6-26" class="code-annotation-target"><a href="#annotated-cell-6-26"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">saluta</span>(<span class="st">"Mondo"</span>))<span class="op">;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="2" data-code-annotation="1">Definizione della funzione <code>saluto</code> che accetta un parametro <code>nome</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="6" data-code-annotation="2">Assegnazione della funzione <code>saluto</code> alla variabile <code>messaggio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="7" data-code-annotation="3">Chiamata della funzione <code>messaggio</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="10" data-code-annotation="4">Definizione della funzione <code>chiamataDiRitorno</code> che accetta una funzione come parametro <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="14" data-code-annotation="5">Chiamata della funzione <code>chiamataDiRitorno</code> con la funzione <code>saluto</code> come argomento, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="17" data-code-annotation="6">Definizione della funzione <code>creaSaluto</code> che restituisce una funzione.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="18" data-code-annotation="7">Definizione della funzione <code>saluto</code> interna a <code>creaSaluto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="22" data-code-annotation="8">Restituzione della funzione <code>saluto</code> da <code>creaSaluto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="25" data-code-annotation="9">Assegnazione della funzione restituita da <code>creaSaluto</code> alla variabile <code>saluta</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="26" data-code-annotation="10">Chiamata della funzione <code>saluta</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
</dl>
<p>Haskell è un linguaggio puramente funzionale che supporta naturalmente le funzioni in prima classe:</p>
<div class="sourceCode" id="annotated-cell-7"><pre class="sourceCode numberSource haskell code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode haskell"><span id="annotated-cell-7-1"><a href="#annotated-cell-7-1"></a><span class="co">-- Assegnazione a variabili</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-7-2" class="code-annotation-target"><a href="#annotated-cell-7-2"></a><span class="ot">saluto ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span></span>
<span id="annotated-cell-7-3"><a href="#annotated-cell-7-3"></a>saluto nome <span class="ot">=</span> <span class="st">"Ciao, "</span> <span class="op">++</span> nome <span class="op">++</span> <span class="st">"!"</span></span>
<span id="annotated-cell-7-4"><a href="#annotated-cell-7-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-7-5" class="code-annotation-target"><a href="#annotated-cell-7-5"></a>messaggio <span class="ot">=</span> saluto</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-7-6" class="code-annotation-target"><a href="#annotated-cell-7-6"></a>main <span class="ot">=</span> <span class="fu">putStrLn</span> (messaggio <span class="st">"Mondo"</span>)</span>
<span id="annotated-cell-7-7"><a href="#annotated-cell-7-7"></a></span>
<span id="annotated-cell-7-8"><a href="#annotated-cell-7-8"></a><span class="co">-- Passaggio come argomenti</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-7-9" class="code-annotation-target"><a href="#annotated-cell-7-9"></a><span class="ot">chiamataDiRitorno ::</span> (<span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span>) <span class="ot">-&gt;</span> <span class="dt">String</span></span>
<span id="annotated-cell-7-10"><a href="#annotated-cell-7-10"></a>chiamataDiRitorno f <span class="ot">=</span> f <span class="st">"Mondo"</span></span>
<span id="annotated-cell-7-11"><a href="#annotated-cell-7-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-7-12" class="code-annotation-target"><a href="#annotated-cell-7-12"></a>main <span class="ot">=</span> <span class="fu">putStrLn</span> (chiamataDiRitorno saluto)</span>
<span id="annotated-cell-7-13"><a href="#annotated-cell-7-13"></a></span>
<span id="annotated-cell-7-14"><a href="#annotated-cell-7-14"></a><span class="co">-- Restituzione come risultati</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-7-15" class="code-annotation-target"><a href="#annotated-cell-7-15"></a><span class="ot">creaSaluto ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span></span>
<span id="annotated-cell-7-16"><a href="#annotated-cell-7-16"></a>creaSaluto <span class="ot">=</span> saluto</span>
<span id="annotated-cell-7-17"><a href="#annotated-cell-7-17"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-7-18" class="code-annotation-target"><a href="#annotated-cell-7-18"></a>main <span class="ot">=</span> <span class="fu">putStrLn</span> (creaSaluto <span class="st">"Mondo"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="2" data-code-annotation="1">Definizione della funzione <code>saluto</code> che accetta una stringa <code>nome</code> e restituisce una stringa.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="5" data-code-annotation="2">Assegnazione della funzione <code>saluto</code> alla variabile <code>messaggio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="6" data-code-annotation="3">Chiamata della funzione <code>messaggio</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="9" data-code-annotation="4">Definizione della funzione <code>chiamataDiRitorno</code> che accetta una funzione come parametro <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="12" data-code-annotation="5">Chiamata della funzione <code>chiamataDiRitorno</code> con la funzione <code>saluto</code> come argomento, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="15" data-code-annotation="6">Definizione della funzione <code>creaSaluto</code> che restituisce la funzione <code>saluto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="18" data-code-annotation="7">Chiamata della funzione <code>creaSaluto</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
</dl>
<p>C++ non era originariamente un linguaggio con supporto della programmazione funzionale, ma, a partire dal C++11, ha introdotto diverse funzionalità che permettono di trattare le funzioni come valori di prima classe. Queste caratteristiche sono implementate tramite puntatori a funzione, oggetti funzione (<code>std::function</code>) e espressioni lambda. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Per ulteriori informazioni, si può consultare <a href="https://en.cppreference.com/w/cpp/utility/functional/function">la documentazione ufficiale di C++11</a>.</p></div></div><p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-8"><pre class="sourceCode numberSource cpp code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode cpp"><span id="annotated-cell-8-1"><a href="#annotated-cell-8-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="annotated-cell-8-2"><a href="#annotated-cell-8-2"></a><span class="pp">#include </span><span class="im">&lt;functional&gt;</span></span>
<span id="annotated-cell-8-3"><a href="#annotated-cell-8-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-8-4" class="code-annotation-target"><a href="#annotated-cell-8-4"></a><span class="dt">void</span> saluto<span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;</span> nome<span class="op">)</span> <span class="op">{</span></span>
<span id="annotated-cell-8-5"><a href="#annotated-cell-8-5"></a>    <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> <span class="st">"Ciao, "</span> <span class="op">&lt;&lt;</span> nome <span class="op">&lt;&lt;</span> <span class="st">"!"</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="annotated-cell-8-6"><a href="#annotated-cell-8-6"></a><span class="op">}</span></span>
<span id="annotated-cell-8-7"><a href="#annotated-cell-8-7"></a></span>
<span id="annotated-cell-8-8"><a href="#annotated-cell-8-8"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-8-9" class="code-annotation-target"><a href="#annotated-cell-8-9"></a>    <span class="bu">std::</span>function<span class="op">&lt;</span><span class="dt">void</span><span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;)&gt;</span> messaggio <span class="op">=</span> saluto<span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-8-10" class="code-annotation-target"><a href="#annotated-cell-8-10"></a>    messaggio<span class="op">(</span><span class="st">"Mondo"</span><span class="op">);</span></span>
<span id="annotated-cell-8-11"><a href="#annotated-cell-8-11"></a></span>
<span id="annotated-cell-8-12"><a href="#annotated-cell-8-12"></a>    <span class="co">// Passaggio come argomenti</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-8-13" class="code-annotation-target"><a href="#annotated-cell-8-13"></a>    <span class="kw">auto</span> chiamataDiRitorno <span class="op">=</span> <span class="op">[](</span><span class="bu">std::</span>function<span class="op">&lt;</span><span class="dt">void</span><span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;)&gt;</span> f<span class="op">,</span> <span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;</span> nome<span class="op">)</span> <span class="op">{</span></span>
<span id="annotated-cell-8-14"><a href="#annotated-cell-8-14"></a>        f<span class="op">(</span>nome<span class="op">);</span></span>
<span id="annotated-cell-8-15"><a href="#annotated-cell-8-15"></a>    <span class="op">};</span></span>
<span id="annotated-cell-8-16"><a href="#annotated-cell-8-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-8-17" class="code-annotation-target"><a href="#annotated-cell-8-17"></a>    chiamataDiRitorno<span class="op">(</span>saluto<span class="op">,</span> <span class="st">"Mondo"</span><span class="op">);</span></span>
<span id="annotated-cell-8-18"><a href="#annotated-cell-8-18"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="annotated-cell-8-19"><a href="#annotated-cell-8-19"></a><span class="op">}</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="4" data-code-annotation="1">Definizione della funzione <code>saluto</code> che accetta un parametro <code>nome</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="9" data-code-annotation="2">Assegnazione della funzione <code>saluto</code> all’oggetto funzione <code>messaggio</code> utilizzando <code>std::function</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="10" data-code-annotation="3">Chiamata della funzione <code>messaggio</code> con l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="13" data-code-annotation="4">Definizione di una lambda expression <code>chiamataDiRitorno</code> che accetta una funzione <code>f</code> e un valore <code>nome</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="17" data-code-annotation="5">Chiamata della lambda <code>chiamataDiRitorno</code> con la funzione <code>saluto</code> e l’argomento <code>"Mondo"</code>, che stampa “Ciao, Mondo!”.</span>
</dd>
</dl>
</section>
<section id="la-funzione-di-ordine-superiore" class="level3" data-number="6.6.2">
<h3 data-number="6.6.2" class="anchored" data-anchor-id="la-funzione-di-ordine-superiore"><span class="header-section-number">6.6.2</span> La funzione di ordine superiore</h3>
<p>La <strong>funzione di ordine superiore</strong> è una diretta conseguenza del supporto per le funzioni in prima classe. Tale funzione accetta altre funzioni come argomenti e/o ritornano funzioni come risultati. Nel paradigma della programmazione funzionale, le funzioni di ordine superiore facilitano l’implementazione di tecniche come la composizione di funzioni, l’applicazione parziale e l’uso di callback.</p>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-9"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-9-1"><a href="#annotated-cell-9-1"></a><span class="kw">def</span> somma(a):</span>
<span id="annotated-cell-9-2"><a href="#annotated-cell-9-2"></a>  <span class="kw">def</span> inner(b):</span>
<span id="annotated-cell-9-3"><a href="#annotated-cell-9-3"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="annotated-cell-9-4"><a href="#annotated-cell-9-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-9-5" class="code-annotation-target"><a href="#annotated-cell-9-5"></a>  <span class="cf">return</span> inner</span>
<span id="annotated-cell-9-6"><a href="#annotated-cell-9-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-9-7" class="code-annotation-target"><a href="#annotated-cell-9-7"></a>aggiungi_cinque <span class="op">=</span> somma(<span class="dv">5</span>)</span>
<span id="annotated-cell-9-8"><a href="#annotated-cell-9-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-9-9" class="code-annotation-target"><a href="#annotated-cell-9-9"></a><span class="bu">print</span>(aggiungi_cinque(<span class="dv">3</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="5" data-code-annotation="1">La funzione <code>somma</code> ritorna una nuova funzione <code>inner</code> che somma <code>a</code> al suo argomento <code>b</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="7" data-code-annotation="2"><code>somma(5)</code> ritorna una nuova funzione che somma <code>5</code> al suo argomento.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="9" data-code-annotation="3">La funzione risultante viene chiamata con l’argomento <code>3</code>, restituendo <code>8</code>.</span>
</dd>
</dl>
<p>Esempio in C++:</p>
<div class="sourceCode" id="annotated-cell-10"><pre class="sourceCode numberSource cpp code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode cpp"><span id="annotated-cell-10-1"><a href="#annotated-cell-10-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="annotated-cell-10-2"><a href="#annotated-cell-10-2"></a><span class="pp">#include </span><span class="im">&lt;functional&gt;</span></span>
<span id="annotated-cell-10-3"><a href="#annotated-cell-10-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-10-4" class="code-annotation-target"><a href="#annotated-cell-10-4"></a><span class="bu">std::</span>function<span class="op">&lt;</span><span class="dt">int</span><span class="op">(</span><span class="dt">int</span><span class="op">)&gt;</span> somma<span class="op">(</span><span class="dt">int</span> a<span class="op">)</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-10-5" class="code-annotation-target"><a href="#annotated-cell-10-5"></a>  <span class="cf">return</span> <span class="op">[</span>a<span class="op">](</span><span class="dt">int</span> b<span class="op">)</span> <span class="op">{</span> <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span> <span class="op">};</span></span>
<span id="annotated-cell-10-6"><a href="#annotated-cell-10-6"></a><span class="op">}</span></span>
<span id="annotated-cell-10-7"><a href="#annotated-cell-10-7"></a></span>
<span id="annotated-cell-10-8"><a href="#annotated-cell-10-8"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-10-9" class="code-annotation-target"><a href="#annotated-cell-10-9"></a>  <span class="kw">auto</span> aggiungi_cinque <span class="op">=</span> somma<span class="op">(</span><span class="dv">5</span><span class="op">);</span></span>
<span id="annotated-cell-10-10"><a href="#annotated-cell-10-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-10-11" class="code-annotation-target"><a href="#annotated-cell-10-11"></a>  <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> aggiungi_cinque<span class="op">(</span><span class="dv">3</span><span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="annotated-cell-10-12"><a href="#annotated-cell-10-12"></a></span>
<span id="annotated-cell-10-13"><a href="#annotated-cell-10-13"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="annotated-cell-10-14"><a href="#annotated-cell-10-14"></a><span class="op">}</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="4" data-code-annotation="1">Dichiarazione della funzione <code>somma</code> che ritorna un <code>std::function&lt;int(int)&gt;</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="5" data-code-annotation="2"><code>somma</code> ritorna una funzione lambda che somma <code>a</code> al suo argomento <code>b</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="9" data-code-annotation="3"><code>somma(5)</code> ritorna una nuova funzione che somma <code>5</code> al suo argomento.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="11" data-code-annotation="4">La funzione risultante viene chiamata con l’argomento <code>3</code>, restituendo <code>8</code>.</span>
</dd>
</dl>
</section>
<section id="lapplicazione-parziale" class="level3" data-number="6.6.3">
<h3 data-number="6.6.3" class="anchored" data-anchor-id="lapplicazione-parziale"><span class="header-section-number">6.6.3</span> L’applicazione parziale</h3>
<p>L’<strong>applicazione parziale</strong> (inglese: <em>partial application</em>) è una tecnica della programmazione funzionale che permette di fissare un certo numero di parametri di una funzione, producendo una nuova funzione con un numero inferiore dei medesimi. Ciò è particolarmente utile quando si desidera creare varianti di una funzione con alcuni parametri predefiniti, aumentando così la flessibilità e la riutilizzabilità del codice.</p>
<p>In pratica, l’applicazione parziale consente di preimpostare alcuni argomenti di una funzione, riducendo il numero di argomenti che devono essere forniti successivamente.</p>
<p>Python supporta l’applicazione parziale tramite il modulo <code>functools</code> che include la funzione <code>partial</code>:</p>
<div class="sourceCode" id="annotated-cell-11"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-11-1"><a href="#annotated-cell-11-1"></a><span class="im">from</span> functools <span class="im">import</span> partial</span>
<span id="annotated-cell-11-2"><a href="#annotated-cell-11-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-11-3" class="code-annotation-target"><a href="#annotated-cell-11-3"></a><span class="kw">def</span> f(a, b, c):</span>
<span id="annotated-cell-11-4"><a href="#annotated-cell-11-4"></a>  <span class="cf">return</span> a <span class="op">+</span> b <span class="op">+</span> c</span>
<span id="annotated-cell-11-5"><a href="#annotated-cell-11-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-11-6" class="code-annotation-target"><a href="#annotated-cell-11-6"></a>g <span class="op">=</span> partial(f, <span class="dv">1</span>)</span>
<span id="annotated-cell-11-7"><a href="#annotated-cell-11-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-11-8" class="code-annotation-target"><a href="#annotated-cell-11-8"></a><span class="bu">print</span>(g(<span class="dv">2</span>, <span class="dv">3</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="3" data-code-annotation="1">Funzione che accetta tre argomenti.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="6" data-code-annotation="2">Utilizzo di <code>partial</code> per fissare il primo argomento di <code>f</code> a <code>1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="8" data-code-annotation="3">Chiamata della funzione <code>g</code> con i restanti due argomenti. Output: <code>6</code>.</span>
</dd>
</dl>
<p>In C++, l’applicazione parziale può essere realizzata utilizzando le espressioni lambda o la funzione <code>std::bind</code> dalla libreria standard:</p>
<div class="sourceCode" id="annotated-cell-12"><pre class="sourceCode numberSource cpp code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode cpp"><span id="annotated-cell-12-1"><a href="#annotated-cell-12-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="annotated-cell-12-2"><a href="#annotated-cell-12-2"></a><span class="pp">#include </span><span class="im">&lt;functional&gt;</span></span>
<span id="annotated-cell-12-3"><a href="#annotated-cell-12-3"></a></span>
<span id="annotated-cell-12-4"><a href="#annotated-cell-12-4"></a><span class="dt">int</span> somma<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span> <span class="op">{</span></span>
<span id="annotated-cell-12-5"><a href="#annotated-cell-12-5"></a>  <span class="cf">return</span> a <span class="op">+</span> b <span class="op">+</span> c<span class="op">;</span></span>
<span id="annotated-cell-12-6"><a href="#annotated-cell-12-6"></a><span class="op">}</span></span>
<span id="annotated-cell-12-7"><a href="#annotated-cell-12-7"></a></span>
<span id="annotated-cell-12-8"><a href="#annotated-cell-12-8"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-12-9" class="code-annotation-target"><a href="#annotated-cell-12-9"></a>  <span class="kw">auto</span> fissaPrimoArgomento <span class="op">=</span> <span class="bu">std::</span>bind<span class="op">(</span>somma<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="bu">std::</span>placeholders::_1<span class="op">,</span> <span class="bu">std::</span>placeholders::_2<span class="op">);</span></span>
<span id="annotated-cell-12-10"><a href="#annotated-cell-12-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-12-11" class="code-annotation-target"><a href="#annotated-cell-12-11"></a>  <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> fissaPrimoArgomento<span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="annotated-cell-12-12"><a href="#annotated-cell-12-12"></a></span>
<span id="annotated-cell-12-13"><a href="#annotated-cell-12-13"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="annotated-cell-12-14"><a href="#annotated-cell-12-14"></a><span class="op">}</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="9" data-code-annotation="1">Utilizzo di <code>std::bind</code> per fissare il primo argomento di <code>somma</code> a 1.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="11" data-code-annotation="2">Chiamata della funzione <code>fissaPrimoArgomento</code> con i restanti due argomenti. Output: <code>6</code>.</span>
</dd>
</dl>
<p>L’applicazione parziale è importante perché:</p>
<ul>
<li><p>Aumenta la modularità: Permette di creare versioni specifiche di funzioni generiche.</p></li>
<li><p>Riduce la ridondanza: Evita la necessità di riscrivere funzioni simili con parametri diversi.</p></li>
<li><p>Facilita la composizione: Supporta la creazione di funzioni più complesse a partire da funzioni più semplici.</p></li>
</ul>
<p>L’applicazione parziale è una tecnica potente che, insieme alle funzioni di ordine superiore, contribuisce alla flessibilità e alla manutenibilità del codice nel paradigma della programmazione funzionale.</p>
</section>
<section id="il-decoratore" class="level3" data-number="6.6.4">
<h3 data-number="6.6.4" class="anchored" data-anchor-id="il-decoratore"><span class="header-section-number">6.6.4</span> Il decoratore</h3>
<p>Il <strong>decoratore</strong> è una potente funzionalità in Python che permette di modificare il comportamento di funzioni o metodi esistenti senza cambiarne il codice sorgente. Esso sfrutta i concetti di funzioni in prima classe e funzioni di ordine superiore per aggiungere nuove funzionalità in modo modulare e riutilizzabile. È necessaria una sintassi ad hoc per applicare i decoratori al nostro codice ma il processo risulta semplice e il prodotto molto leggibile.</p>
<p>Un decoratore è essenzialmente una funzione che accetta un’altra funzione come argomento e restituisce una nuova funzione. Questa nuova funzione può estendere o modificare il comportamento della funzione originale.</p>
<p>Questo consente di estendere le funzionalità di una funzione in modo modulare e senza alterare il suo codice originale, utile sia per creare librerie di <em>modifiche</em> a funzioni proprie, sia per aggiornare il codice mantenendo la compatibilità con le versioni precedenti.</p>
<p>Esempio generico:</p>
<div class="sourceCode" id="annotated-cell-13"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-13-1" class="code-annotation-target"><a href="#annotated-cell-13-1"></a><span class="kw">def</span> mio_decoratore(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-13-2" class="code-annotation-target"><a href="#annotated-cell-13-2"></a>  <span class="kw">def</span> involucro(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-13-3" class="code-annotation-target"><a href="#annotated-cell-13-3"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa prima della funzione"</span>)</span>
<span id="annotated-cell-13-4"><a href="#annotated-cell-13-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-13-5" class="code-annotation-target"><a href="#annotated-cell-13-5"></a>    risultato <span class="op">=</span> f(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="annotated-cell-13-6"><a href="#annotated-cell-13-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-13-7" class="code-annotation-target"><a href="#annotated-cell-13-7"></a>    <span class="bu">print</span>(<span class="st">"Qualcosa dopo la funzione"</span>)</span>
<span id="annotated-cell-13-8"><a href="#annotated-cell-13-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-13-9" class="code-annotation-target"><a href="#annotated-cell-13-9"></a>    <span class="cf">return</span> risultato</span>
<span id="annotated-cell-13-10"><a href="#annotated-cell-13-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-13-11" class="code-annotation-target"><a href="#annotated-cell-13-11"></a>  <span class="cf">return</span> involucro</span>
<span id="annotated-cell-13-12"><a href="#annotated-cell-13-12"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-13-13" class="code-annotation-target"><a href="#annotated-cell-13-13"></a><span class="at">@mio_decoratore</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-13-14" class="code-annotation-target"><a href="#annotated-cell-13-14"></a><span class="kw">def</span> di_ciao():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-13-15" class="code-annotation-target"><a href="#annotated-cell-13-15"></a>  <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-13-16"><a href="#annotated-cell-13-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-13-17" class="code-annotation-target"><a href="#annotated-cell-13-17"></a>di_ciao()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-13" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>mio_decoratore</code>, che accetta una funzione <code>f</code> come argomento.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>involucro</code> interna, che accetta argomenti variabili <code>*args</code> e <code>**kwargs</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="3" data-code-annotation="3">Stampa di un messaggio prima della chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="5" data-code-annotation="4">Chiamata della funzione originale <code>f</code> con gli argomenti originali.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="7" data-code-annotation="5">Stampa di un messaggio dopo la chiamata della funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="9" data-code-annotation="6">Restituzione del risultato della funzione <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="11" data-code-annotation="7">Restituzione della funzione <code>involucro</code> come nuova funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="13" data-code-annotation="8">Applicazione del decoratore <code>mio_decoratore</code> alla funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="14" data-code-annotation="9">Definizione della funzione <code>di_ciao</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="15" data-code-annotation="10">Stampa del messaggio <code>Ciao!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-13" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="17" data-code-annotation="11">Chiamata della funzione <code>di_ciao</code> decorata.</span>
</dd>
</dl>
<section id="applicazioni" class="level4" data-number="6.6.4.1">
<h4 data-number="6.6.4.1" class="anchored" data-anchor-id="applicazioni"><span class="header-section-number">6.6.4.1</span> Applicazioni</h4>
<p>I decoratori sono molto utili per creare librerie che estendono le funzionalità delle funzioni esistenti senza modificarne il codice sorgente. Ad esempio, si potrebbe creare un decoratore per registrare il tempo di esecuzione di una funzione:</p>
<div class="sourceCode" id="annotated-cell-14"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-14-1"><a href="#annotated-cell-14-1"></a><span class="im">import</span> time</span>
<span id="annotated-cell-14-2"><a href="#annotated-cell-14-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-14-3" class="code-annotation-target"><a href="#annotated-cell-14-3"></a><span class="kw">def</span> calcolo_tempo_esecuzione(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-14-4" class="code-annotation-target"><a href="#annotated-cell-14-4"></a>  <span class="kw">def</span> involucro(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-14-5" class="code-annotation-target"><a href="#annotated-cell-14-5"></a>    start_time <span class="op">=</span> time.time()</span>
<span id="annotated-cell-14-6"><a href="#annotated-cell-14-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-14-7" class="code-annotation-target"><a href="#annotated-cell-14-7"></a>    result <span class="op">=</span> f(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="annotated-cell-14-8"><a href="#annotated-cell-14-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-14-9" class="code-annotation-target"><a href="#annotated-cell-14-9"></a>    end_time <span class="op">=</span> time.time()</span>
<span id="annotated-cell-14-10"><a href="#annotated-cell-14-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-14-11" class="code-annotation-target"><a href="#annotated-cell-14-11"></a>    <span class="bu">print</span>(<span class="ss">f"Tempo di esecuzione: </span><span class="sc">{</span>end_time <span class="op">-</span> start_time<span class="sc">}</span><span class="ss"> secondi"</span>)</span>
<span id="annotated-cell-14-12"><a href="#annotated-cell-14-12"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-14-13" class="code-annotation-target"><a href="#annotated-cell-14-13"></a>    <span class="cf">return</span> result</span>
<span id="annotated-cell-14-14"><a href="#annotated-cell-14-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-14-15" class="code-annotation-target"><a href="#annotated-cell-14-15"></a>  <span class="cf">return</span> involucro</span>
<span id="annotated-cell-14-16"><a href="#annotated-cell-14-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-14-17" class="code-annotation-target"><a href="#annotated-cell-14-17"></a><span class="at">@calcolo_tempo_esecuzione</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-14-18" class="code-annotation-target"><a href="#annotated-cell-14-18"></a><span class="kw">def</span> esempio_funzione():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-14-19" class="code-annotation-target"><a href="#annotated-cell-14-19"></a>  time.sleep(<span class="dv">2</span>)</span>
<span id="annotated-cell-14-20"><a href="#annotated-cell-14-20"></a></span>
<span id="annotated-cell-14-21"><a href="#annotated-cell-14-21"></a>  <span class="bu">print</span>(<span class="st">"Funzione eseguita"</span>)</span>
<span id="annotated-cell-14-22"><a href="#annotated-cell-14-22"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-14-23" class="code-annotation-target"><a href="#annotated-cell-14-23"></a>esempio_funzione()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="3" data-code-annotation="1">Definizione del decoratore <code>calcolo_tempo_esecuzione</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="4" data-code-annotation="2">Definizione della funzione <code>involucro</code> interna.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="5" data-code-annotation="3">Registrazione del tempo di inizio.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="7" data-code-annotation="4">Chiamata della funzione originale <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="9" data-code-annotation="5">Registrazione del tempo di fine.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="11" data-code-annotation="6">Stampa del tempo di esecuzione.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="13" data-code-annotation="7">Restituzione del risultato della funzione <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="15" data-code-annotation="8">Restituzione della funzione <code>involucro</code> come nuova funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="17" data-code-annotation="9">Applicazione del decoratore <code>calcolo_tempo_esecuzione</code> alla funzione <code>esempio_funzione</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="18" data-code-annotation="10">Definizione della funzione <code>esempio_funzione</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="19" data-code-annotation="11">Simulazione di un ritardo di 2 secondi.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="23" data-code-annotation="12">Chiamata della funzione <code>esempio_funzione</code> decorata.</span>
</dd>
</dl>
<p>Il seguente esempio mostra come utilizzare un decoratore per mantenere la compatibilità all’indietro di una funzione di cui è stato modificato l’elenco dei parametri. La nuova versione della funzione accetta un parametro aggiuntivo, ma il vecchio codice può continuare a chiamare la funzione senza passare questo parametro aggiuntivo.</p>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-15"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-15-1" class="code-annotation-target"><a href="#annotated-cell-15-1"></a><span class="kw">def</span> compatibilita_indietro(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-15-2" class="code-annotation-target"><a href="#annotated-cell-15-2"></a>  <span class="kw">def</span> involucro(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="annotated-cell-15-3"><a href="#annotated-cell-15-3"></a>    <span class="cf">try</span>:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-15-4" class="code-annotation-target"><a href="#annotated-cell-15-4"></a>      <span class="cf">return</span> f(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="annotated-cell-15-5"><a href="#annotated-cell-15-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-15-6" class="code-annotation-target"><a href="#annotated-cell-15-6"></a>    <span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> e:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-15-7" class="code-annotation-target"><a href="#annotated-cell-15-7"></a>      <span class="cf">if</span> <span class="st">"positional argument"</span> <span class="kw">in</span> <span class="bu">str</span>(e):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-15-8" class="code-annotation-target"><a href="#annotated-cell-15-8"></a>        <span class="cf">return</span> f(args[<span class="dv">0</span>])</span>
<span id="annotated-cell-15-9"><a href="#annotated-cell-15-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-15-10" class="code-annotation-target"><a href="#annotated-cell-15-10"></a>      <span class="cf">raise</span> e</span>
<span id="annotated-cell-15-11"><a href="#annotated-cell-15-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-15-12" class="code-annotation-target"><a href="#annotated-cell-15-12"></a>  <span class="cf">return</span> involucro</span>
<span id="annotated-cell-15-13"><a href="#annotated-cell-15-13"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-15-14" class="code-annotation-target"><a href="#annotated-cell-15-14"></a><span class="at">@compatibilita_indietro</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-15-15" class="code-annotation-target"><a href="#annotated-cell-15-15"></a><span class="kw">def</span> esempio_funzione(nome, messaggio<span class="op">=</span><span class="st">"Ciao!"</span>):</span>
<span id="annotated-cell-15-16"><a href="#annotated-cell-15-16"></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>messaggio<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>nome<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="annotated-cell-15-17"><a href="#annotated-cell-15-17"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-15-18" class="code-annotation-target"><a href="#annotated-cell-15-18"></a>esempio_funzione(<span class="st">"Mondo"</span>, messaggio<span class="op">=</span><span class="st">"Salve"</span>)</span>
<span id="annotated-cell-15-19"><a href="#annotated-cell-15-19"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-15-20" class="code-annotation-target"><a href="#annotated-cell-15-20"></a>esempio_funzione(<span class="st">"Mondo"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="1" data-code-annotation="1">Definizione del decoratore <code>compatibilita_indietro</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>involucro</code> interna.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="4" data-code-annotation="3">Tentativo di chiamare la funzione originale <code>f</code> con tutti gli argomenti.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="6" data-code-annotation="4">Gestione del TypeError che potrebbe verificarsi se gli argomenti non sono corretti.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="7" data-code-annotation="5">Verifica se l’errore è dovuto a un numero errato di argomenti posizionali.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="8" data-code-annotation="6">Chiamata della funzione originale <code>f</code> con solo il primo argomento (compatibilità all’indietro).</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="10" data-code-annotation="7">Se l’errore è diverso, viene rilanciato.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="12" data-code-annotation="8">Restituzione della funzione <code>involucro</code> come nuova funzione decorata.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="14" data-code-annotation="9">Applicazione del decoratore <code>compatibilita_indietro</code> alla funzione <code>esempio_funzione</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="15" data-code-annotation="10">Definizione della funzione modificata <code>esempio_funzione</code> con un parametro aggiuntivo <code>messaggio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="18" data-code-annotation="11">Chiamata della nuova funzione nel nuovo modo, con entrambi i parametri. Output: <code>Salve Mondo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="20" data-code-annotation="12">Chiamata della nuova funzione nel vecchio modo, con un solo parametro. Output: <code>Ciao! Mondo</code>.</span>
</dd>
</dl>
<p>Questo approccio garantisce che il nuovo codice possa utilizzare la nuova funzionalità, mentre il vecchio codice continua a funzionare senza modifiche.</p>
</section>
<section id="supporto-in-typescript" class="level4" data-number="6.6.4.2">
<h4 data-number="6.6.4.2" class="anchored" data-anchor-id="supporto-in-typescript"><span class="header-section-number">6.6.4.2</span> Supporto in Typescript</h4>
<p>TypeScript supporta, allo stato in modo sperimentale, i decoratori per classi, metodi, accessori, proprietà e parametri. Di seguito è riportato un esempio di decoratore per una classe:</p>
<div class="sourceCode" id="annotated-cell-16"><pre class="sourceCode numberSource typescript code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode typescript"><a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-16-1" class="code-annotation-target"><a href="#annotated-cell-16-1"></a><span class="kw">function</span> <span class="fu">logCostruzione</span>(target<span class="op">:</span> <span class="bu">Function</span>) {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-16-2" class="code-annotation-target"><a href="#annotated-cell-16-2"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Costruzione di </span><span class="sc">${</span>target<span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="annotated-cell-16-3"><a href="#annotated-cell-16-3"></a>}</span>
<span id="annotated-cell-16-4"><a href="#annotated-cell-16-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-16-5" class="code-annotation-target"><a href="#annotated-cell-16-5"></a>@logCostruzione</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-16-6" class="code-annotation-target"><a href="#annotated-cell-16-6"></a><span class="kw">class</span> Persona {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-16-7" class="code-annotation-target"><a href="#annotated-cell-16-7"></a>  <span class="kw">constructor</span>(<span class="kw">public</span> nome<span class="op">:</span> <span class="dt">string</span>) {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-16-8" class="code-annotation-target"><a href="#annotated-cell-16-8"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Ciao, </span><span class="sc">${</span>nome<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="annotated-cell-16-9"><a href="#annotated-cell-16-9"></a>  }</span>
<span id="annotated-cell-16-10"><a href="#annotated-cell-16-10"></a>}</span>
<span id="annotated-cell-16-11"><a href="#annotated-cell-16-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-16-12" class="code-annotation-target"><a href="#annotated-cell-16-12"></a><span class="kw">const</span> p <span class="op">=</span> <span class="kw">new</span> <span class="fu">Persona</span>(<span class="st">'Alice'</span>)<span class="op">;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-16" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="1" data-code-annotation="1">Definizione del decoratore <code>logCostruzione</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="2" data-code-annotation="2">Il decoratore stampa un messaggio con il nome della classe.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="5" data-code-annotation="3">Applicazione del decoratore <code>logCostruzione</code> alla classe <code>Persona</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="6" data-code-annotation="4">Definizione della classe <code>Persona</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="7" data-code-annotation="5">Costruttore della classe <code>Persona</code> che accetta un parametro <code>nome</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="8" data-code-annotation="6">Il costruttore stampa un messaggio di saluto.</span>
</dd>
<dt data-target-cell="annotated-cell-16" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="12" data-code-annotation="7">Creazione di un’istanza della classe <code>Persona</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="la-funzione-di-richiamo" class="level3 page-columns page-full" data-number="6.6.5">
<h3 data-number="6.6.5" class="anchored" data-anchor-id="la-funzione-di-richiamo"><span class="header-section-number">6.6.5</span> La funzione di richiamo</h3>
<p>La <strong>funzione di richiamo</strong> (inglese: <em>callback function</em> o semplicemente <em>callback</em>) è un tipo di funzione che viene passata come argomento ad altra funzione e viene eseguita dopo che l’operazione principale sia terminata. Le funzioni di richiamo sono utilizzate in molti linguaggi di programmazione, inclusi Python, JavaScript, C++, e altri e sono particolarmente comuni nella programmazione asincrona, come la gestione di eventi e la programmazione basata su temporizzatori.</p>
<p>Ambiti di applicazione:</p>
<ul>
<li><p>Programmazione asincrona: Utilizzate per gestire operazioni che richiedono tempo, come richieste di rete, lettura/scrittura su file, e interazioni con database.</p></li>
<li><p>Gestione degli eventi: Utilizzate in interfacce grafiche e applicazioni web per rispondere a eventi come click di pulsanti, input da tastiera, e movimenti del mouse.</p></li>
<li><p>Manipolazione di dati: Utilizzate per eseguire operazioni su dati in strutture come array o liste, ad esempio in Python con funzioni come <code>map</code>, <code>filter</code> e <code>reduce</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Le funzioni <code>map</code>, <code>filter</code> e <code>reduce</code> sono strumenti fondamentali nella programmazione funzionale, utilizzati per operare su collezioni di dati in modo dichiarativo e conciso.</p></div></div><ul>
<li><p><code>map</code>: La funzione <code>map</code> applica una funzione a ogni elemento di una collezione (come una lista o un array) e restituisce una nuova collezione contenente i risultati. È utile per trasformare o manipolare i dati di una collezione senza utilizzare esplicitamente cicli.</p></li>
<li><p><code>filter</code>: La funzione <code>filter</code> prende una funzione di predicato (una funzione che restituisce un valore booleano) e una collezione. Restituisce una nuova collezione contenente solo gli elementi che soddisfano il predicato. È utile per selezionare o filtrare elementi specifici da una collezione in base a una condizione.</p></li>
<li><p><code>reduce</code>: La funzione <code>reduce</code> applica una funzione di aggregazione (una funzione che combina due elementi in uno) a una collezione, riducendola a un singolo valore. È utile per calcolare valori cumulativi, come la somma, il prodotto o altre operazioni di aggregazione su una collezione di dati.</p></li>
</ul>
<p>Per approndire si può fare riferimento a <span class="citation" data-cites="wikipedia_map">(<a href="#ref-wikipedia_map" role="doc-biblioref">Wikipedia contrib. 2024a</a>)</span>, <span class="citation" data-cites="wikipedia_filter">(<a href="#ref-wikipedia_filter" role="doc-biblioref">Wikipedia contrib. 2024b</a>)</span>, <span class="citation" data-cites="wikipedia_reduce">(<a href="#ref-wikipedia_reduce" role="doc-biblioref">Wikipedia contrib. 2024c</a>)</span>, <span class="citation" data-cites="abelson1996">(<a href="#ref-abelson1996" role="doc-biblioref">Abelson, Jay Sussman 1996</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-wikipedia_map" class="csl-entry" role="listitem">
WIKIPEDIA CONTRIB., 2024a. <em>Map (higher-order function)</em> [online]. 2024. Disponibile all'indirizzo&nbsp;: <a href="https://en.wikipedia.org/wiki/Map_(higher-order_function)">https://en.wikipedia.org/wiki/Map_(higher-order_function)</a><div class="csl-block">Accessed: 2024-07-09</div>
</div><div id="ref-wikipedia_filter" class="csl-entry" role="listitem">
WIKIPEDIA CONTRIB., 2024b. <em>Filter (higher-order function)</em> [online]. 2024. Disponibile all'indirizzo&nbsp;: <a href="https://en.wikipedia.org/wiki/Filter_(higher-order_function)">https://en.wikipedia.org/wiki/Filter_(higher-order_function)</a><div class="csl-block">Accessed: 2024-07-09</div>
</div><div id="ref-wikipedia_reduce" class="csl-entry" role="listitem">
WIKIPEDIA CONTRIB., 2024c. <em>Reduce (higher-order function)</em> [online]. 2024. Disponibile all'indirizzo&nbsp;: <a href="https://en.wikipedia.org/wiki/Reduce_(higher-order_function)">https://en.wikipedia.org/wiki/Reduce_(higher-order_function)</a><div class="csl-block">Accessed: 2024-07-09</div>
</div></div><p>Esempio generico in Python:</p>
<div class="sourceCode" id="annotated-cell-17"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-17-1" class="code-annotation-target"><a href="#annotated-cell-17-1"></a><span class="kw">def</span> chiamata_di_ritorno(f):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-17-2" class="code-annotation-target"><a href="#annotated-cell-17-2"></a>    <span class="bu">print</span>(<span class="st">"Prima della callback"</span>)</span>
<span id="annotated-cell-17-3"><a href="#annotated-cell-17-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-17-4" class="code-annotation-target"><a href="#annotated-cell-17-4"></a>    f()</span>
<span id="annotated-cell-17-5"><a href="#annotated-cell-17-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-17-6" class="code-annotation-target"><a href="#annotated-cell-17-6"></a>    <span class="bu">print</span>(<span class="st">"Dopo la callback"</span>)</span>
<span id="annotated-cell-17-7"><a href="#annotated-cell-17-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-17-8" class="code-annotation-target"><a href="#annotated-cell-17-8"></a><span class="kw">def</span> saluto():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-17-9" class="code-annotation-target"><a href="#annotated-cell-17-9"></a>    <span class="bu">print</span>(<span class="st">"Ciao!"</span>)</span>
<span id="annotated-cell-17-10"><a href="#annotated-cell-17-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-17" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-17-11" class="code-annotation-target"><a href="#annotated-cell-17-11"></a>chiamata_di_ritorno(saluto)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-17" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>chiamata_di_ritorno</code> che accetta una funzione di richiamo <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="2" data-code-annotation="2">Stampa di un messaggio prima dell’esecuzione della funzione <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="4" data-code-annotation="3">Chiamata della funzione <code>f</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="6" data-code-annotation="4">Stampa di un messaggio dopo la callback.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="8" data-code-annotation="5">Definizione della funzione <code>saluto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="9" data-code-annotation="6">Stampa del messaggio <code>Ciao!</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-17" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-17" data-code-lines="11" data-code-annotation="7">Passaggio della funzione <code>saluto</code> come funzione di richiamo a <code>chiamata_di_ritorno</code>.</span>
</dd>
</dl>
<p>Esempio pratico in Python]:</p>
<div class="sourceCode" id="annotated-cell-18"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-18-1"><a href="#annotated-cell-18-1"></a>numeri <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="annotated-cell-18-2"><a href="#annotated-cell-18-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-18-3" class="code-annotation-target"><a href="#annotated-cell-18-3"></a>quadrati <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">2</span>, numeri)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-18-4" class="code-annotation-target"><a href="#annotated-cell-18-4"></a><span class="bu">print</span>(<span class="bu">list</span>(quadrati))</span>
<span id="annotated-cell-18-5"><a href="#annotated-cell-18-5"></a></span>
<span id="annotated-cell-18-6"><a href="#annotated-cell-18-6"></a>numeri <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="annotated-cell-18-7"><a href="#annotated-cell-18-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-18-8" class="code-annotation-target"><a href="#annotated-cell-18-8"></a>pari <span class="op">=</span> <span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, numeri)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-18-9" class="code-annotation-target"><a href="#annotated-cell-18-9"></a><span class="bu">print</span>(<span class="bu">list</span>(pari))</span>
<span id="annotated-cell-18-10"><a href="#annotated-cell-18-10"></a></span>
<span id="annotated-cell-18-11"><a href="#annotated-cell-18-11"></a><span class="im">from</span> functools <span class="im">import</span> <span class="bu">reduce</span></span>
<span id="annotated-cell-18-12"><a href="#annotated-cell-18-12"></a></span>
<span id="annotated-cell-18-13"><a href="#annotated-cell-18-13"></a>numeri <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="annotated-cell-18-14"><a href="#annotated-cell-18-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-18-15" class="code-annotation-target"><a href="#annotated-cell-18-15"></a>somma <span class="op">=</span> <span class="bu">reduce</span>(<span class="kw">lambda</span> x, y: x <span class="op">+</span> y, numeri)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-18-16" class="code-annotation-target"><a href="#annotated-cell-18-16"></a><span class="bu">print</span>(somma)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-18" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="3" data-code-annotation="1">Uso di <code>map</code> con una funzione lambda per calcolare i quadrati dei numeri.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="4" data-code-annotation="2">Conversione dell’oggetto <code>map</code> in una lista e stampa del risultato <code>[1, 4, 9, 16, 25]</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="8" data-code-annotation="3">Uso di <code>filter</code> con una funzione lambda per selezionare i numeri pari.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="9" data-code-annotation="4">Conversione dell’oggetto <code>filter</code> in una lista e stampa del risultato <code>[2, 4]</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="15" data-code-annotation="5">Uso di <code>reduce</code> con una funzione lambda per sommare tutti i numeri.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="16" data-code-annotation="6">Stampa del risultato <code>15</code>.</span>
</dd>
</dl>
</section>
<section id="la-lambda" class="level3 page-columns page-full" data-number="6.6.6">
<h3 data-number="6.6.6" class="anchored" data-anchor-id="la-lambda"><span class="header-section-number">6.6.6</span> La lambda</h3>
<p>Le <strong>lambda</strong> sono funzioni anonime che possono essere definite in una singola riga di codice. Sono utili per operazioni semplici e brevi. Le lambda sono supportate da molti linguaggi di programmazione, come Python, JavaScript, Java, C#, e altri, e forniscono un modo conciso per definire funzioni temporanee o usa e getta[^3-prima-parte-variabili-funzioni].</p>
<p>[^3-prima-parte-variabili-funzioni] Le espressioni lambda sono ispirate al calcolo lambda, una notazione matematica introdotta da Alonzo Church negli anni ’30. Il calcolo lambda è un sistema formale per esprimere computazioni basate sulla definizione e applicazione di funzioni anonime. Questo concetto è alla base delle lambda in molti linguaggi di programmazione moderni, facilitando l’adozione del paradigma della programmazione funzionale. Vedi anche <span class="citation" data-cites="wikipedia_lambda_calculus">(<a href="#ref-wikipedia_lambda_calculus" role="doc-biblioref">Wikipedia contrib. 2024d</a>)</span> e <span class="citation" data-cites="church1936">(<a href="#ref-church1936" role="doc-biblioref">Church 1936</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-wikipedia_lambda_calculus" class="csl-entry" role="listitem">
WIKIPEDIA CONTRIB., 2024d. <em>Lambda calculus</em> [online]. 2024. Disponibile all'indirizzo&nbsp;: <a href="https://en.wikipedia.org/wiki/Lambda_calculus">https://en.wikipedia.org/wiki/Lambda_calculus</a><div class="csl-block">Accessed: 2024-07-09</div>
</div><div id="ref-church1936" class="csl-entry" role="listitem">
CHURCH, Alonzo, 1936. An Unsolvable Problem of Elementary Number Theory. <em>American Journal of Mathematics</em>. 1936. Vol.&nbsp;58, n°&nbsp;2, pp.&nbsp;345–363. DOI&nbsp;<a href="https://doi.org/10.2307/2371045">10.2307/2371045</a>.
</div></div><p>Una sintassi ad hoc per le lambda è necessaria per mantenere il codice leggibile e per permettere l’uso di funzioni anonime in modo rapido e senza definizioni formali che potrebbero rendere il codice più verboso e meno chiaro.</p>
<section id="python" class="level4" data-number="6.6.6.1">
<h4 data-number="6.6.6.1" class="anchored" data-anchor-id="python"><span class="header-section-number">6.6.6.1</span> Python</h4>
<p>Python utilizza la parola chiave <code>lambda</code> per definire funzioni anonime. La sintassi è:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">lambda</span> parametri: espressione</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-20"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-20-1" class="code-annotation-target"><a href="#annotated-cell-20-1"></a>somma <span class="op">=</span> <span class="kw">lambda</span> a, b: a <span class="op">+</span> b</span>
<span id="annotated-cell-20-2"><a href="#annotated-cell-20-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-20-3" class="code-annotation-target"><a href="#annotated-cell-20-3"></a><span class="bu">print</span>(somma(<span class="dv">3</span>, <span class="dv">4</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-20" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="1" data-code-annotation="1">La funzione lambda <code>lambda a, b: a + b</code> somma due numeri. Qui, <code>somma</code> è l’identificatore della lambda.</span>
</dd>
<dt data-target-cell="annotated-cell-20" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="3" data-code-annotation="2">Chiamata della funzione lambda con argomenti <code>3</code> e <code>4</code>, stampa <code>7</code>.</span>
</dd>
</dl>
</section>
<section id="javascript" class="level4" data-number="6.6.6.2">
<h4 data-number="6.6.6.2" class="anchored" data-anchor-id="javascript"><span class="header-section-number">6.6.6.2</span> JavaScript</h4>
<p>JavaScript utilizza le funzioni freccia (inglese: <em>arrow functions</em>) per definire funzioni anonime. La sintassi è:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1"></a>(parametri) <span class="kw">=&gt;</span> espressione</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-22"><pre class="sourceCode numberSource javascript code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode javascript"><a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-22-1" class="code-annotation-target"><a href="#annotated-cell-22-1"></a><span class="kw">const</span> somma <span class="op">=</span> (a<span class="op">,</span> b) <span class="kw">=&gt;</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="annotated-cell-22-2"><a href="#annotated-cell-22-2"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-22" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-22-3" class="code-annotation-target"><a href="#annotated-cell-22-3"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">somma</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">4</span>))<span class="op">;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-22" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="1" data-code-annotation="1">Definizione di una funzione lambda che somma due numeri.</span>
</dd>
<dt data-target-cell="annotated-cell-22" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-22" data-code-lines="3" data-code-annotation="2">Chiamata della funzione lambda con argomenti <code>3</code> e <code>4</code>, stampa <code>7</code>.</span>
</dd>
</dl>
</section>
<section id="java" class="level4" data-number="6.6.6.3">
<h4 data-number="6.6.6.3" class="anchored" data-anchor-id="java"><span class="header-section-number">6.6.6.3</span> Java</h4>
<p>Java utilizza le espressioni lambda, introdotte con Java 8. La sintassi è:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource java number-lines code-with-copy"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1"></a><span class="op">(</span>parametri<span class="op">)</span> <span class="op">-&gt;</span> espressione</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Esempio:</p>
<div class="sourceCode" id="annotated-cell-24"><pre class="sourceCode numberSource java code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode java"><span id="annotated-cell-24-1"><a href="#annotated-cell-24-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">function</span><span class="op">.*;</span></span>
<span id="annotated-cell-24-2"><a href="#annotated-cell-24-2"></a></span>
<span id="annotated-cell-24-3"><a href="#annotated-cell-24-3"></a><span class="kw">public</span> <span class="kw">class</span> Main <span class="op">{</span></span>
<span id="annotated-cell-24-4"><a href="#annotated-cell-24-4"></a>  <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-24-5" class="code-annotation-target"><a href="#annotated-cell-24-5"></a>    BiFunction<span class="op">&lt;</span><span class="bu">Integer</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> somma <span class="op">=</span> <span class="op">(</span>a<span class="op">,</span> b<span class="op">)</span> <span class="op">-&gt;</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="annotated-cell-24-6"><a href="#annotated-cell-24-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-24-7" class="code-annotation-target"><a href="#annotated-cell-24-7"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>somma<span class="op">.</span><span class="fu">apply</span><span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">));</span></span>
<span id="annotated-cell-24-8"><a href="#annotated-cell-24-8"></a>  <span class="op">}</span></span>
<span id="annotated-cell-24-9"><a href="#annotated-cell-24-9"></a><span class="op">}</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="5" data-code-annotation="1">Qui definiamo una lambda che somma due numeri. Utilizziamo l’interfaccia funzionale <code>BiFunction</code> per rappresentare una funzione che accetta due argomenti di tipo <code>Integer</code> e restituisce un risultato di tipo <code>Integer</code>. L’assegnazione <code>(a, b) -&gt; a + b</code> definisce la funzione lambda.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="7" data-code-annotation="2">Utilizziamo il metodo <code>apply</code> della <code>BiFunction</code> per chiamare la funzione lambda con gli argomenti <code>3</code> e <code>4</code>, e stampiamo il risultato, che è <code>7</code>.</span>
</dd>
</dl>
</section>
</section>
<section id="chiusure" class="level3 page-columns page-full" data-number="6.6.7">
<h3 data-number="6.6.7" class="anchored" data-anchor-id="chiusure"><span class="header-section-number">6.6.7</span> Chiusure</h3>
<p>Le <strong>chiusure</strong> (inglese: <em>closure</em>) sono funzioni che ricordano l’ambiente nel quale sono state create. Questo significa che possono accedere alle variabili definite nell’ambiente esterno anche dopo che tale ambiente sia stato chiuso.</p>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-25"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-25-1" class="code-annotation-target"><a href="#annotated-cell-25-1"></a><span class="kw">def</span> crea_sommatore(x):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-25-2" class="code-annotation-target"><a href="#annotated-cell-25-2"></a>  <span class="kw">def</span> somma(y):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-25-3" class="code-annotation-target"><a href="#annotated-cell-25-3"></a>    <span class="cf">return</span> x <span class="op">+</span> y</span>
<span id="annotated-cell-25-4"><a href="#annotated-cell-25-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-25-5" class="code-annotation-target"><a href="#annotated-cell-25-5"></a>  <span class="cf">return</span> somma</span>
<span id="annotated-cell-25-6"><a href="#annotated-cell-25-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-25-7" class="code-annotation-target"><a href="#annotated-cell-25-7"></a>aggiungi_cinque <span class="op">=</span> crea_sommatore(<span class="dv">5</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-25-8" class="code-annotation-target"><a href="#annotated-cell-25-8"></a><span class="bu">print</span>(aggiungi_cinque(<span class="dv">3</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-25" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>crea_sommatore</code> che accetta un parametro <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>somma</code> che accetta un parametro <code>y</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="3" data-code-annotation="3">La funzione <code>somma</code> somma <code>x</code> e <code>y</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="5" data-code-annotation="4"><code>crea_sommatore</code> restituisce la funzione <code>somma</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="7" data-code-annotation="5"><code>aggiungi_cinque</code> è una chiusura che ricorda il valore di <code>x</code> come <code>5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-25" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="8" data-code-annotation="6"><code>aggiungi_cinque(3)</code> restituisce <code>8</code>.</span>
</dd>
</dl>
<p>Esempio in JavaScript:</p>
<div class="sourceCode" id="annotated-cell-26"><pre class="sourceCode numberSource javascript code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode javascript"><a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-26-1" class="code-annotation-target"><a href="#annotated-cell-26-1"></a><span class="kw">function</span> <span class="fu">creaSommatore</span>(x) {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-26-2" class="code-annotation-target"><a href="#annotated-cell-26-2"></a>  <span class="cf">return</span> <span class="kw">function</span>(y) {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-26-3" class="code-annotation-target"><a href="#annotated-cell-26-3"></a>    <span class="cf">return</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="annotated-cell-26-4"><a href="#annotated-cell-26-4"></a>  }<span class="op">;</span></span>
<span id="annotated-cell-26-5"><a href="#annotated-cell-26-5"></a>}</span>
<span id="annotated-cell-26-6"><a href="#annotated-cell-26-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-26-7" class="code-annotation-target"><a href="#annotated-cell-26-7"></a><span class="kw">const</span> aggiungiCinque <span class="op">=</span> <span class="fu">creaSommatore</span>(<span class="dv">5</span>)<span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-26-8" class="code-annotation-target"><a href="#annotated-cell-26-8"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">aggiungiCinque</span>(<span class="dv">3</span>))<span class="op">;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-26" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>creaSommatore</code> che accetta un parametro <code>x</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="2" data-code-annotation="2">Restituzione di una funzione che accetta un parametro <code>y</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="3" data-code-annotation="3">La funzione interna somma <code>x</code> e <code>y</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="7" data-code-annotation="4"><code>aggiungiCinque</code> è una chiusura che ricorda il valore di <code>x</code> come <code>5</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-26" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="8" data-code-annotation="5"><code>aggiungiCinque(3)</code> restituisce <code>8</code>.</span>
</dd>
</dl>
<p>Le chiusure sono utili in diversi contesti, tra cui:</p>
<ul>
<li><p>Memorizzazione di stato: Le chiusure possono essere utilizzate per mantenere uno stato tra chiamate successive a una funzione. Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-30"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1"></a><span class="kw">def</span> crea_contatore():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-30-2" class="code-annotation-target"><a href="#annotated-cell-30-2"></a>  conto <span class="op">=</span> <span class="dv">0</span></span>
<span id="annotated-cell-30-3"><a href="#annotated-cell-30-3"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-30-4" class="code-annotation-target"><a href="#annotated-cell-30-4"></a>  <span class="kw">def</span> contatore():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-30-5" class="code-annotation-target"><a href="#annotated-cell-30-5"></a>    <span class="kw">nonlocal</span> conto</span>
<span id="annotated-cell-30-6"><a href="#annotated-cell-30-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-30-7" class="code-annotation-target"><a href="#annotated-cell-30-7"></a>    conto <span class="op">+=</span> <span class="dv">1</span></span>
<span id="annotated-cell-30-8"><a href="#annotated-cell-30-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-30-9" class="code-annotation-target"><a href="#annotated-cell-30-9"></a>    <span class="cf">return</span> conto</span>
<span id="annotated-cell-30-10"><a href="#annotated-cell-30-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-30-11" class="code-annotation-target"><a href="#annotated-cell-30-11"></a>  <span class="cf">return</span> contatore</span>
<span id="annotated-cell-30-12"><a href="#annotated-cell-30-12"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-30-13" class="code-annotation-target"><a href="#annotated-cell-30-13"></a>contatore <span class="op">=</span> crea_contatore()</span>
<span id="annotated-cell-30-14"><a href="#annotated-cell-30-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-30-15" class="code-annotation-target"><a href="#annotated-cell-30-15"></a><span class="bu">print</span>(contatore())</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-30-16" class="code-annotation-target"><a href="#annotated-cell-30-16"></a><span class="bu">print</span>(contatore())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>crea_contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="2" data-code-annotation="2">Inizializzazione della variabile <code>conto</code> a <code>0</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="4" data-code-annotation="3">Definizione della funzione <code>contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="5" data-code-annotation="4">Dichiarazione della variabile <code>conto</code> come <code>nonlocal</code> perché siua modificabile all’interno di <code>contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="7" data-code-annotation="5">Incremento della variabile <code>conto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="9" data-code-annotation="6">Restituzione del valore di <code>conto</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="11" data-code-annotation="7">Restituzione della funzione <code>contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="13" data-code-annotation="8">Creazione della chiusura <code>contatore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="15" data-code-annotation="9">Prima chiamata di <code>contatore()</code>, restituisce <code>1</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="16" data-code-annotation="10">Seconda chiamata di <code>contatore()</code>, restituisce <code>2</code>.</span>
</dd>
</dl></li>
<li><p>Funzioni factory: Permettono la creazione di funzioni personalizzate configurate con parametri specifici. Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-31"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-31-1" class="code-annotation-target"><a href="#annotated-cell-31-1"></a><span class="kw">def</span> moltiplica_per(fattore):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-31-2" class="code-annotation-target"><a href="#annotated-cell-31-2"></a>  <span class="kw">def</span> moltiplica(numero):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-31-3" class="code-annotation-target"><a href="#annotated-cell-31-3"></a>    <span class="cf">return</span> numero <span class="op">*</span> fattore</span>
<span id="annotated-cell-31-4"><a href="#annotated-cell-31-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-31-5" class="code-annotation-target"><a href="#annotated-cell-31-5"></a>  <span class="cf">return</span> moltiplica</span>
<span id="annotated-cell-31-6"><a href="#annotated-cell-31-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-31-7" class="code-annotation-target"><a href="#annotated-cell-31-7"></a>double <span class="op">=</span> moltiplica_per(<span class="dv">2</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-31-8" class="code-annotation-target"><a href="#annotated-cell-31-8"></a><span class="bu">print</span>(double(<span class="dv">5</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-31" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>moltiplica_per</code> che accetta un parametro <code>fattore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>moltiplica</code> che accetta un parametro <code>numero</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="3" data-code-annotation="3">La funzione <code>moltiplica</code> moltiplica <code>numero</code> per <code>fattore</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="5" data-code-annotation="4"><code>moltiplica_per</code> restituisce la funzione <code>moltiplica</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="7" data-code-annotation="5"><code>double</code> è una chiusura che ricorda il valore di <code>fattore</code> come <code>2</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="8" data-code-annotation="6"><code>double(5)</code> restituisce <code>10</code>.</span>
</dd>
</dl></li>
<li><p>Funzioni di richiamo e gestione degli eventi: In programmazione asincrona, le chiusure sono spesso utilizzate per definire funzioni di richiamo che ricordano il contesto in cui sono state create. Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-32"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1"></a><span class="kw">def</span> on_event(message):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-32-2" class="code-annotation-target"><a href="#annotated-cell-32-2"></a>  <span class="kw">def</span> handle_event():</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-32-3" class="code-annotation-target"><a href="#annotated-cell-32-3"></a>    <span class="bu">print</span>(<span class="ss">f"Event: </span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="annotated-cell-32-4"><a href="#annotated-cell-32-4"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-32-5" class="code-annotation-target"><a href="#annotated-cell-32-5"></a>  <span class="cf">return</span> handle_event</span>
<span id="annotated-cell-32-6"><a href="#annotated-cell-32-6"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-32-7" class="code-annotation-target"><a href="#annotated-cell-32-7"></a>event_handler <span class="op">=</span> on_event(<span class="st">"Hello World"</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-32-8" class="code-annotation-target"><a href="#annotated-cell-32-8"></a>event_handler()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>on_event</code> che accetta un parametro <code>message</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>handle_event</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="3" data-code-annotation="3">La funzione <code>handle_event</code> stampa <code>message</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="5" data-code-annotation="4"><code>on_event</code> restituisce la funzione <code>handle_event</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="7" data-code-annotation="5"><code>event_handler</code> è una chiusura che ricorda il valore di <code>message</code> come <code>Hello World</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="8" data-code-annotation="6">Chiamata della funzione <code>event_handler</code>, stampa <code>Event: Hello World</code>.</span>
</dd>
</dl></li>
<li><p>Programmazione funzionale: Le chiusure sono un costrutto fondamentale per molte tecniche della programmazione funzionale, come l’applicazione parziale e la trasformazione di una funzione con parametri multipli in una sequenza di funzioni aventi un unico parametro (inglese: <em>currying</em>).<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>Il currying può essere estremamente utile per creare funzioni generiche che possono essere specializzate in vari contesti. Ad esempio, consideriamo un’applicazione che richiede l’invio di messaggi a diversi destinatari con diverse priorità.</p>
<p>Esempio in Python:</p>
<div class="sourceCode" id="annotated-cell-33"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-33-1" class="code-annotation-target"><a href="#annotated-cell-33-1"></a><span class="kw">def</span> invia_messaggio(tipo_messaggio):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-33-2" class="code-annotation-target"><a href="#annotated-cell-33-2"></a>  <span class="kw">def</span> messaggio(priorita, destinatario, testo):</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-33-3" class="code-annotation-target"><a href="#annotated-cell-33-3"></a>    <span class="cf">if</span> tipo_messaggio <span class="op">==</span> <span class="st">"Email"</span>:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-33-4" class="code-annotation-target"><a href="#annotated-cell-33-4"></a>      <span class="bu">print</span>(<span class="ss">f"Invio email a </span><span class="sc">{</span>destinatario<span class="sc">}</span><span class="ss"> con priorità </span><span class="sc">{</span>priorita<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>testo<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="annotated-cell-33-5"><a href="#annotated-cell-33-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-33-6" class="code-annotation-target"><a href="#annotated-cell-33-6"></a>    <span class="cf">elif</span> tipo_messaggio <span class="op">==</span> <span class="st">"SMS"</span>:</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-33-7" class="code-annotation-target"><a href="#annotated-cell-33-7"></a>      <span class="bu">print</span>(<span class="ss">f"Invio SMS a </span><span class="sc">{</span>destinatario<span class="sc">}</span><span class="ss"> con priorità </span><span class="sc">{</span>priorita<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>testo<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="annotated-cell-33-8"><a href="#annotated-cell-33-8"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-33-9" class="code-annotation-target"><a href="#annotated-cell-33-9"></a>  <span class="cf">return</span> messaggio</span>
<span id="annotated-cell-33-10"><a href="#annotated-cell-33-10"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-33-11" class="code-annotation-target"><a href="#annotated-cell-33-11"></a>invia_email <span class="op">=</span> invia_messaggio(<span class="st">"Email"</span>)</span>
<span id="annotated-cell-33-12"><a href="#annotated-cell-33-12"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-33-13" class="code-annotation-target"><a href="#annotated-cell-33-13"></a>invia_sms <span class="op">=</span> invia_messaggio(<span class="st">"SMS"</span>)</span>
<span id="annotated-cell-33-14"><a href="#annotated-cell-33-14"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-33-15" class="code-annotation-target"><a href="#annotated-cell-33-15"></a>invia_email(<span class="st">"Alta"</span>, <span class="st">"alice@example.com"</span>, <span class="st">"Ciao Alice!"</span>)</span>
<span id="annotated-cell-33-16"><a href="#annotated-cell-33-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-33-17" class="code-annotation-target"><a href="#annotated-cell-33-17"></a>invia_sms(<span class="st">"Bassa"</span>, <span class="st">"1234567890"</span>, <span class="st">"Ciao!"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-33" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="1" data-code-annotation="1">Definizione della funzione <code>invia_messaggio</code> che accetta un parametro <code>tipo_messaggio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="2" data-code-annotation="2">Definizione della funzione <code>messaggio</code> che accetta <code>priorita</code>, <code>destinatario</code>, e <code>testo</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="3" data-code-annotation="3">Controllo del tipo di messaggio.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="4" data-code-annotation="4">Stampa specifica per l’invio di un’email.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="6" data-code-annotation="5">Controllo del tipo di messaggio.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="7" data-code-annotation="6">Stampa specifica per l’invio di un SMS.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="9" data-code-annotation="7"><code>invia_messaggio</code> restituisce la funzione <code>messaggio</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="11" data-code-annotation="8"><code>invia_email</code> è una funzione specializzata per inviare email.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="13" data-code-annotation="9"><code>invia_sms</code> è una funzione specializzata per inviare SMS.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="15" data-code-annotation="10">Invio di un’email con priorità alta.</span>
</dd>
<dt data-target-cell="annotated-cell-33" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="17" data-code-annotation="11">Invio di un SMS con priorità bassa.</span>
</dd>
</dl>
<p>Esempio in Haskell:</p>
<div class="sourceCode" id="annotated-cell-34"><pre class="sourceCode numberSource haskell code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode haskell"><span id="annotated-cell-34-1"><a href="#annotated-cell-34-1"></a><span class="co">-- Definizione della funzione curryata per inviare messaggi</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-34-2" class="code-annotation-target"><a href="#annotated-cell-34-2"></a><span class="ot">inviaMessaggio ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</span>
<span id="annotated-cell-34-3"><a href="#annotated-cell-34-3"></a>inviaMessaggio tipoMessaggio priorita destinatario testo <span class="ot">=</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-34-4" class="code-annotation-target"><a href="#annotated-cell-34-4"></a>  <span class="kw">if</span> tipoMessaggio <span class="op">==</span> <span class="st">"Email"</span></span>
<span id="annotated-cell-34-5"><a href="#annotated-cell-34-5"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-34-6" class="code-annotation-target"><a href="#annotated-cell-34-6"></a>  <span class="kw">then</span> <span class="fu">putStrLn</span> (<span class="st">"Invio email a "</span> <span class="op">++</span> destinatario <span class="op">++</span> <span class="st">" con priorità "</span> <span class="op">++</span> priorita <span class="op">++</span> <span class="st">": "</span> <span class="op">++</span> testo)</span>
<span id="annotated-cell-34-7"><a href="#annotated-cell-34-7"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-34-8" class="code-annotation-target"><a href="#annotated-cell-34-8"></a>  <span class="kw">else</span> <span class="kw">if</span> tipoMessaggio <span class="op">==</span> <span class="st">"SMS"</span></span>
<span id="annotated-cell-34-9"><a href="#annotated-cell-34-9"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-34-10" class="code-annotation-target"><a href="#annotated-cell-34-10"></a>  <span class="kw">then</span> <span class="fu">putStrLn</span> (<span class="st">"Invio SMS a "</span> <span class="op">++</span> destinatario <span class="op">++</span> <span class="st">" con priorità "</span> <span class="op">++</span> priorita <span class="op">++</span> <span class="st">": "</span> <span class="op">++</span> testo)</span>
<span id="annotated-cell-34-11"><a href="#annotated-cell-34-11"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-34-12" class="code-annotation-target"><a href="#annotated-cell-34-12"></a>  <span class="kw">else</span> <span class="fu">putStrLn</span> <span class="st">"Tipo di messaggio sconosciuto"</span></span>
<span id="annotated-cell-34-13"><a href="#annotated-cell-34-13"></a></span>
<span id="annotated-cell-34-14"><a href="#annotated-cell-34-14"></a><span class="co">-- Funzioni specializzate</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-34-15" class="code-annotation-target"><a href="#annotated-cell-34-15"></a><span class="ot">inviaEmail ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</span>
<span id="annotated-cell-34-16"><a href="#annotated-cell-34-16"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-34-17" class="code-annotation-target"><a href="#annotated-cell-34-17"></a>inviaEmail <span class="ot">=</span> inviaMessaggio <span class="st">"Email"</span></span>
<span id="annotated-cell-34-18"><a href="#annotated-cell-34-18"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-34-19" class="code-annotation-target"><a href="#annotated-cell-34-19"></a><span class="ot">inviaSMS ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</span>
<span id="annotated-cell-34-20"><a href="#annotated-cell-34-20"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-34-21" class="code-annotation-target"><a href="#annotated-cell-34-21"></a>inviaSMS <span class="ot">=</span> inviaMessaggio <span class="st">"SMS"</span></span>
<span id="annotated-cell-34-22"><a href="#annotated-cell-34-22"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-34-23" class="code-annotation-target"><a href="#annotated-cell-34-23"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="annotated-cell-34-24"><a href="#annotated-cell-34-24"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-34-25" class="code-annotation-target"><a href="#annotated-cell-34-25"></a>    inviaEmail <span class="st">"Alta"</span> <span class="st">"alice@example.com"</span> <span class="st">"Ciao Alice!"</span></span>
<span id="annotated-cell-34-26"><a href="#annotated-cell-34-26"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-34-27" class="code-annotation-target"><a href="#annotated-cell-34-27"></a>    inviaSMS <span class="st">"Bassa"</span> <span class="st">"1234567890"</span> <span class="st">"Ciao!"</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-34" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="2" data-code-annotation="1">Definizione della funzione <code>inviaMessaggio</code> che accetta quattro parametri: tipo di messaggio, priorità, destinatario e testo.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="4" data-code-annotation="2">Controllo del tipo di messaggio.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="6" data-code-annotation="3">Stampa specifica per l’invio di un’email.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="8" data-code-annotation="4">Controllo del tipo di messaggio.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="10" data-code-annotation="5">Stampa specifica per l’invio di un SMS.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="12" data-code-annotation="6">Gestione di un tipo di messaggio sconosciuto.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="15" data-code-annotation="7">Definizione del tipo della funzione <code>inviaEmail</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="17" data-code-annotation="8"><code>inviaEmail</code> è una funzione specializzata per inviare email.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="19" data-code-annotation="9">Definizione del tipo della funzione <code>inviaSMS</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="21" data-code-annotation="10"><code>inviaSMS</code> è una funzione specializzata per inviare SMS.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="23" data-code-annotation="11">Definizione della funzione <code>main</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="25" data-code-annotation="12">Invio di un’email con priorità alta.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="27" data-code-annotation="13">Invio di un SMS con priorità bassa.</span>
</dd>
</dl></li>
</ul>


<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;Il currying è una tecnica di trasformazione delle funzioni che prende il nome dal logico matematico Haskell Curry, sebbene il concetto sia stato inizialmente sviluppato da Moses Schönfinkel. In contesto matematico, questo principio può essere fatto risalire ai lavori di Gottlob Frege del 1893. Il currying consiste nel trasformare una funzione con più argomenti in una sequenza di funzioni ciascuna delle quali accetta un singolo argomento. Formalmente, data una funzione <span class="math inline">\(f\)</span> di due variabili <span class="math inline">\(f(x, y)\)</span>, il currying la trasforma in una funzione <span class="math inline">\(g\)</span> tale che <span class="math inline">\(g(x)(y)=f(x,y)\)</span>. Il linguaggio di programmazione Haskell, che supporta nativamente il currying, è stato chiamato così in onore proprio di Haskell Curry, riconoscendo il suo contributo alla logica combinatoria e alla teoria delle funzioni. Per approfondire: <span class="citation" data-cites="wikipedia_currying">(<a href="#ref-wikipedia_currying" role="doc-biblioref">Wikipedia contrib. 2024e</a>)</span>, <span class="citation" data-cites="haskell_currying">(<a href="#ref-haskell_currying" role="doc-biblioref">Haskell wiki contrib. 2024</a>)</span>, <span class="citation" data-cites="abelson1996">(<a href="#ref-abelson1996" role="doc-biblioref">Abelson, Jay Sussman 1996</a>)</span>, <span class="citation" data-cites="curry1950">(<a href="#ref-curry1950" role="doc-biblioref">Curry 1950</a>)</span>.</p><div id="ref-wikipedia_currying" class="csl-entry" role="listitem">
WIKIPEDIA CONTRIB., 2024e. <em>Currying</em> [online]. 2024. Disponibile all'indirizzo&nbsp;: <a href="https://en.wikipedia.org/wiki/Currying">https://en.wikipedia.org/wiki/Currying</a><div class="csl-block">Accessed: 2024-07-09</div>
</div><div id="ref-haskell_currying" class="csl-entry" role="listitem">
HASKELL WIKI CONTRIB., 2024. <em>Currying</em> [online]. 2024. Disponibile all'indirizzo&nbsp;: <a href="https://wiki.haskell.org/Currying">https://wiki.haskell.org/Currying</a><div class="csl-block">Accessed: 2024-07-09</div>
</div><div id="ref-abelson1996" class="csl-entry" role="listitem">
ABELSON, Harold e JAY SUSSMAN, Gerald, 1996. <em>Structure and Interpretation of Computer Programs</em>. 2nd. MIT Press. ISBN&nbsp;978-0262510875.
</div><div id="ref-curry1950" class="csl-entry" role="listitem">
CURRY, Haskell B., 1950. <em>A Theory of Formal Deducibility</em>. University of Notre Dame Press. Notre Dame Mathematical Lectures, 6.
</div></div></div>
</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiato!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiato!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./prima-parte-variabili-spazi-nomi-moduli-file.html" class="pagination-link" aria-label="La variabile">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">La variabile</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./prima-parte-modello-dati.html" class="pagination-link" aria-label="Il modello dati dei linguaggi di programmazione">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Il modello dati dei linguaggi di programmazione</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="./antonio.html">
<p>Antonio Montano</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="./come-collaborare.html">
<p>Come collaborare</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://4m4.it">
<p>4m4</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/antomon/corso-python/edit/main/prima-parte-funzioni.qmd" class="toc-action"><i class="bi bi-github"></i>Modifica questa pagina</a></li><li><a href="https://github.com/antomon/corso-python/blob/main/prima-parte-funzioni.qmd" class="toc-action"><i class="bi empty"></i>Mostra il codice</a></li><li><a href="https://github.com/antomon/corso-python/issues/new/choose" class="toc-action"><i class="bi empty"></i>Segnala un problema</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>